System.register(["jimu-core/emotion","jimu-core","jimu-ui","widgets/shared-code/geobim"],function(e,t){var n={},o={},s={},r={};return{setters:[function(e){n.Fragment=e.Fragment,n.jsx=e.jsx,n.jsxs=e.jsxs},function(e){o.React=e.React,o.ReactRedux=e.ReactRedux,o.classNames=e.classNames,o.css=e.css,o.lodash=e.lodash},function(e){s.Alert=e.Alert,s.Button=e.Button,s.Loading=e.Loading,s.Paper=e.Paper,s.TextInput=e.TextInput,s.WidgetPlaceholder=e.WidgetPlaceholder},function(e){r.ApsLogIn=e.ApsLogIn,r.ExBThemeSpacing=e.ExBThemeSpacing,r.GeoBIMProvider=e.GeoBIMProvider,r.GeoBimFeatureServiceError=e.GeoBimFeatureServiceError,r.UserTypeNotPermissible=e.UserTypeNotPermissible,r.areIDocumentsEqual=e.areIDocumentsEqual,r.defaultSharedMessages=e.defaultSharedMessages,r.geoBIMWidgetContainerStyle=e.geoBIMWidgetContainerStyle,r.getFeatureAttribute=e.getFeatureAttribute,r.isDocumentRepositoryItem=e.isDocumentRepositoryItem,r.isNodeRepositoryItem=e.isNodeRepositoryItem,r.loadingContainerStyle=e.loadingContainerStyle,r.repositoryItemHasChildren=e.repositoryItemHasChildren,r.setModelViewerLinkedDocument=e.setModelViewerLinkedDocument,r.useDocuments=e.useDocuments,r.useGeoBIM=e.useGeoBIM,r.useMap=e.useMap,r.useSharedMessages=e.useSharedMessages}],execute:function(){e((()=>{var e={14321:e=>{"use strict";e.exports=s},23001:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" d="m4 2 8 6-8 6z"></path></svg>'},35396:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M16 5.16V11H9.5v-1h3.1L10 5.153V1H6v2.5H5V0h11zm-1 .794V10h-1.199l-1.164-2.17zm0-1.497V1h-3.98v3.813l1.055 1.968zM7.682 6.318a4.5 4.5 0 1 0-.373 6.698l2.848 2.848.707-.707-2.847-2.848a4.5 4.5 0 0 0-.335-5.991m-5.657 5.657a3.5 3.5 0 1 1 4.95-4.95 3.5 3.5 0 0 1-4.95 4.95" clip-rule="evenodd"></path></svg>'},35737:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" d="m14 4-6 8-6-8z"></path></svg>'},37741:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" id="icons" viewBox="0 0 20 20"><path d="M20 4.795v-.59L12.5.907l-.719.316-6.334 2.79A.75.75 0 0 0 5 4.696v5.4l.892.903H6V5.235l5.647 2.483.353.155v7.907l-1-.44v1.092l1.5.66 7.5-3.297v-.616l-5.564-2.068L20 8.665v-.59l-2.137-.94-1.074.62 1.397.615L13 10.648V7.873zm-1.902 8.744L13 15.78v-4.13zM12.5 7l-1.289-.567-3.821-1.68a.277.277 0 0 1 0-.506l4.024-1.77L12.5 2l5.686 2.5zm-7.025 5-.989-1H2.25l-.975 1H0v8h10v-8zM9 19H1v-4h8zm0-5H1v-1h.697l.975-1h1.396l.99 1H9z" style="fill:currentColor;stroke-width:0"></path></svg>'},38512:e=>{"use strict";e.exports=r},50170:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0m-1.27 4.936a6.5 6.5 0 1 1 .707-.707l4.136 4.137a.5.5 0 1 1-.707.707z" clip-rule="evenodd"></path></svg>'},67386:e=>{"use strict";e.exports=n},79244:e=>{"use strict";e.exports=o}},t={};function i(n){var o=t[n];if(void 0!==o)return o.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,i),s.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.p="";var l={};return i.p=window.jimuConfig.baseUrl,(()=>{"use strict";i.r(l),i.d(l,{__set_webpack_public_path__:()=>xe,default:()=>ve});var e=i(67386),t=i(79244),n=i(14321),o=i(38512);const s={_widgetLabel:"Document Explorer",_widgetDescription:"A widget to display project documents and folders from Autodesk Construction Cloud.",widgetTitle:"Document Explorer",geobim_logInText:" to your Autodesk account to view project folders and documents.",searchDocuments:"Search",zoomSelectButtonEnabled:"Zoom and select document in map",zoomSelectButtonNoSelection:"Select a document to zoom in map",zoomSelectButtonInvalidSelection:"Document not available in map",noHub:"No documents to display.",noSearchResults:"No documents found.",noDocuments:"(No documents)",noProjects:"(No projects)",noAccess:"(No access)"};var r=i(37741),c=i.n(r),a=i(50170),d=i.n(a),u=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(o=Object.getOwnPropertySymbols(e);s<o.length;s++)t.indexOf(o[s])<0&&Object.prototype.propertyIsEnumerable.call(e,o[s])&&(n[o[s]]=e[o[s]])}return n};const m=n=>{const o=window.SVG,{className:s}=n,r=u(n,["className"]),i=(0,t.classNames)("jimu-icon jimu-icon-component",s);return o?(0,e.jsx)(o,Object.assign({className:i,src:d()},r)):(0,e.jsx)("svg",Object.assign({className:i},r))};var p=i(35396),h=i.n(p),g=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(o=Object.getOwnPropertySymbols(e);s<o.length;s++)t.indexOf(o[s])<0&&Object.prototype.propertyIsEnumerable.call(e,o[s])&&(n[o[s]]=e[o[s]])}return n};const v=n=>{const o=window.SVG,{className:s}=n,r=g(n,["className"]),i=(0,t.classNames)("jimu-icon jimu-icon-component",s);return o?(0,e.jsx)(o,Object.assign({className:i,src:h()},r)):(0,e.jsx)("svg",Object.assign({className:i},r))};var x=function(e,t,n,o){return new(n||(n=Promise))(function(s,r){function i(e){try{c(o.next(e))}catch(e){r(e)}}function l(e){try{c(o.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,l)}c((o=o.apply(e,t||[])).next())})};const{createContext:f,useState:y,useEffect:j,useCallback:b,useMemo:w}=t.React,{useDispatch:I}=t.ReactRedux,S=f(void 0);function M(t){const{modelViewerWidgetId:n,children:s}=t,{zoomToFeature:r}=(0,o.useMap)(),{getGeoBIMDocument:i,getDocumentsLayer:l}=(0,o.useDocuments)(),c=I(),[a,d]=y(null),[u,m]=y(null);j(function(){let e=!1;return(t=>{x(this,void 0,void 0,function*(){if(null===t)return void m(null);const n=yield i(t);e||m(n)})})(a),()=>{e=!0}},[i,a]);const p=b(e=>{e.url!==(null==a?void 0:a.url)&&(d(e),null!=n&&(0,o.setModelViewerLinkedDocument)(n,e,null,c))},[a,n,c]),h=b(()=>x(this,void 0,void 0,function*(){const e=null==u?void 0:u.objectId;if(null==e)return;const t=yield l(),n=null==t?void 0:t.layerId,o=null==t?void 0:t.portalItemId;null!=n&&null!=o&&(yield r(e,n,o))}),[u,l,r]),g=b(()=>{d(null)},[]),v=w(()=>null!==u,[u]),f=w(()=>({selectedDocument:a,selectedDocumentHasFeature:v,selectDocument:p,zoomToDocumentInMap:h,clearDocumentSelection:g}),[g,p,h,v,a]);return(0,e.jsx)(S.Provider,{value:f,children:s})}var E=function(e,t,n,o){return new(n||(n=Promise))(function(s,r){function i(e){try{c(o.next(e))}catch(e){r(e)}}function l(e){try{c(o.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,l)}c((o=o.apply(e,t||[])).next())})};const{useContext:D,useState:T,useCallback:O,useMemo:B,useEffect:C}=t.React,N=()=>{const e=D(S);if(void 0===e)throw new Error("Must call useTree inside of DocumentsProvider");const{selectedDocument:t,selectedDocumentHasFeature:n,zoomToDocumentInMap:s,clearDocumentSelection:r}=e,{selectedFeatures:i,geoBIMError:l,currentGeoBIMView:c}=(0,o.useGeoBIM)(),{searchRepository:a,getRoot:d,useDocumentsReady:u}=(0,o.useDocuments)(),[m,p]=T(null),[h,g]=T(null),[v,x]=T(!0),[f,y]=T(""),[j,b]=T(null),[w,I]=T(!1),[M,N]=T(!1),[R,P]=T(!1),L=B(()=>{if(1!==i.length||null===h)return null;const e=i[0],t=(0,o.getFeatureAttribute)(e.feature,"projectId");for(const e of h)if(e.id===t)return e;return null},[h,i]);C(function(){let e=!1;return(()=>{E(this,void 0,void 0,function*(){var t;if((!u||null==c)&&l===o.GeoBimFeatureServiceError.NONE)return p(null),g(null),void x(!0);if(l===o.GeoBimFeatureServiceError.MULTIPLE_FEATURE_SERVICES||l===o.GeoBimFeatureServiceError.NO_FEATURE_SERVICE)return p(null),g(null),void x(!1);x(!0);const n=yield d(),s=null===n,r=null!==(t=null==n?void 0:n.children)&&void 0!==t?t:null;e||(p(n),g(r),x(!1),P(s))})})(),()=>{e=!0}},[c,l,d,u]),C(function(){let e=!1;return(()=>{E(this,void 0,void 0,function*(){if(null===m||""===f||!u)return I(!1),b(null),N(!1),void(null===m&&r());I(!0),N(!0);const t=null!=L?L:m,n=yield a(t,f);e||(r(),b(n),N(!1))})})(),()=>{e=!0}},[r,m,v,a,f,L,u]);const F=O(e=>{y(null==e?"":e)},[]);return B(()=>({setDocumentSearchText:F,zoomToDocumentInMap:s,selectedDocument:t,selectedDocumentHasFeature:n,root:m,rootItems:h,rootUpdating:v,geoBIMError:l,selectedRootItem:L,searchResults:j,searchActive:w,searchUpdating:M,accessError:R}),[F,s,t,n,m,h,v,l,L,j,w,M,R])},R=e=>e.sys.spacing(o.ExBThemeSpacing.Two),P=e=>(0,t.css)({label:"documentExplorerControls",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",padding:e.sys.spacing(o.ExBThemeSpacing.Three),color:e.sys.color.surface.overlayText,backgroundColor:e.sys.color.surface.overlay,borderBottom:`solid 1px ${e.sys.color.divider.primary}`}),L=e=>(0,t.css)({label:"zoomToButton",marginLeft:e.sys.spacing(o.ExBThemeSpacing.Three)}),F=e=>(0,t.css)({label:"documentsLoadingContainer",position:"relative",height:"100%"},(0,o.loadingContainerStyle)(e)),z=e=>(0,t.css)({label:"treeContainer",minWidth:"fit-content",padding:e.sys.spacing(o.ExBThemeSpacing.Three)}),_=e=>(0,t.css)({label:"rootDisplayStyle",minWidth:"fit-content",marginLeft:e.sys.spacing(o.ExBThemeSpacing.Five)}),k=e=>(0,t.css)({label:"treeNodeStyle",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",padding:e.sys.spacing(o.ExBThemeSpacing.One),minWidth:"fit-content",cursor:"pointer",color:e.sys.color.action.text,"&:hover":{backgroundColor:e.sys.color.action.hover}}),A=e=>(0,t.css)({label:"treeNodeIcon",margin:`0 ${R(e)} 2px 0`}),G=e=>(0,t.css)({label:"treeNodeLoadingStyle",display:"inline-block",position:"relative",transform:"scale(0.3)",height:"12px",marginTop:e.sys.spacing(o.ExBThemeSpacing.Two),marginLeft:R(e)}),V=e=>(0,t.css)({label:"treeChildrenStyle",minWidth:"fit-content",marginLeft:e.sys.spacing(o.ExBThemeSpacing.Six)}),H=e=>(0,t.css)({label:"noDocumentsStyle",padding:e.sys.spacing(1)}),W=e=>(0,t.css)({label:"treeDocumentStyle",padding:e.sys.spacing(1),minWidth:"fit-content",cursor:"pointer",color:e.sys.color.action.text,"&:hover":{backgroundColor:e.sys.color.action.hover}}),U=e=>(0,t.css)({label:"selectedTreeDocumentStyle",color:`${e.sys.color.action.selected.text} !important`,backgroundColor:`${e.sys.color.action.selected.default} !important`,"&:hover":{backgroundColor:`${e.sys.color.action.selected.hover} !important`}},W(e)),$=e=>(0,t.css)({label:"noTreeMessageContainer",width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",color:e.sys.color.surface.paperHint,padding:e.sys.spacing(o.ExBThemeSpacing.Two)});var q=i(23001),Z=i.n(q),J=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(o=Object.getOwnPropertySymbols(e);s<o.length;s++)t.indexOf(o[s])<0&&Object.prototype.propertyIsEnumerable.call(e,o[s])&&(n[o[s]]=e[o[s]])}return n};const K=n=>{const o=window.SVG,{className:s}=n,r=J(n,["className"]),i=(0,t.classNames)("jimu-icon jimu-icon-component",s);return o?(0,e.jsx)(o,Object.assign({className:i,src:Z()},r)):(0,e.jsx)("svg",Object.assign({className:i},r))};var Q=i(35737),X=i.n(Q),Y=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(o=Object.getOwnPropertySymbols(e);s<o.length;s++)t.indexOf(o[s])<0&&Object.prototype.propertyIsEnumerable.call(e,o[s])&&(n[o[s]]=e[o[s]])}return n};const ee=n=>{const o=window.SVG,{className:s}=n,r=Y(n,["className"]),i=(0,t.classNames)("jimu-icon jimu-icon-component",s);return o?(0,e.jsx)(o,Object.assign({className:i,src:X()},r)):(0,e.jsx)("svg",Object.assign({className:i},r))};var te=function(e,t,n,o){return new(n||(n=Promise))(function(s,r){function i(e){try{c(o.next(e))}catch(e){r(e)}}function l(e){try{c(o.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,l)}c((o=o.apply(e,t||[])).next())})};const{useMemo:ne,useState:oe,useCallback:se,useEffect:re}=t.React;const{useContext:ie,useMemo:le}=t.React;const ce=t=>{const{theme:n,documentItem:s}=t,{selectedDocument:r,selectDocument:i}=function(){const e=ie(S);if(void 0===e)throw new Error("Must call useTree inside of DocumentsProvider");const{selectDocument:t,selectedDocument:n}=e;return le(()=>({selectedDocument:n,selectDocument:t}),[t,n])}(),l=null!==r&&(0,o.areIDocumentsEqual)(s.document,r);return(0,e.jsx)("div",{onClick:()=>{i(s.document)},css:l?U(n):W(n),children:s.label})},ae=t=>{const{i18nMessage:s,theme:r,nodeItem:i,hidden:l}=t,{onToggleExpanded:c,nodeChildren:a,documentChildren:d,loading:u,accessError:m,expanded:p}=function(e){var t,n,s,r;const{getChildren:i,useDocumentsReady:l}=(0,o.useDocuments)(),[c,a]=oe(!0),[d,u]=oe(!1),[m,p]=oe(!1),[h,g]=oe([]),[v,x]=oe([]),[f,y]=oe(!1),j=ne(()=>(0,o.repositoryItemHasChildren)(e)&&null!==e.children,[e]);if(j&&!m){const i=null!==(n=null===(t=e.children)||void 0===t?void 0:t.filter(o.isNodeRepositoryItem))&&void 0!==n?n:[],l=null!==(r=null===(s=e.children)||void 0===s?void 0:s.filter(o.isDocumentRepositoryItem))&&void 0!==r?r:[];g(i),x(l),u(!0),p(!0)}re(function(){let t=!1;return(()=>{te(this,void 0,void 0,function*(){if(!m||j||!l)return void a(!1);a(!0);const n=yield i(e);if(t)return;if(null===n)return g([]),x([]),y(!0),void a(!1);const s=n.filter(o.isNodeRepositoryItem),r=n.filter(o.isDocumentRepositoryItem);g(s),x(r),y(!1),a(!1)})})(),()=>{t=!0}},[m,i,j,e,l]);const b=se(()=>{p(e=>e||!0),u(e=>!e)},[]);return ne(()=>({onToggleExpanded:b,nodeChildren:h,documentChildren:v,loading:c,accessError:f,expanded:d}),[f,v,d,c,h,b])}(i);return(0,e.jsxs)("div",{hidden:l,children:[(0,e.jsxs)("div",{css:k(r),onClick:()=>{c()},children:[p?(0,e.jsx)("div",{css:A(r),children:(0,e.jsx)(ee,{size:"s"})}):(0,e.jsx)("div",{css:A(r),children:(0,e.jsx)(K,{size:"s"})}),(0,e.jsx)("b",{children:i.label})]}),(0,e.jsxs)("div",{css:V(r),hidden:!p,children:[(0,e.jsx)("div",{hidden:!u,css:G(r),children:(0,e.jsx)(n.Loading,{})}),(0,e.jsxs)("div",{hidden:u,children:[m&&(0,e.jsx)("div",{css:H(r),children:s("noAccess")}),!m&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{children:0===a.length?[]:a.map(t=>(0,e.jsx)(ae,{i18nMessage:s,theme:r,nodeItem:t},t.id))}),(0,e.jsx)("div",{children:0===d.length?0===a.length?[(0,e.jsx)("div",{css:H(r),children:s("noDocuments")},"no-documents")]:[]:d.map(t=>(0,e.jsx)(ce,{theme:r,documentItem:t},t.id))})]})]})]})]})},de=ae,{useState:ue}=t.React,me=n=>{const{i18nMessage:s,theme:r,root:i,rootItems:l,selectedRootItem:c,hidden:a}=n,[d,u]=ue(!1);return(0,e.jsx)("div",{hidden:a,children:(0,e.jsxs)("div",{css:z(r),children:[null===i||null!==c?null:(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{css:k(r),onClick:()=>{u(e=>!e)},children:[d?(0,e.jsx)("div",{css:A(r),children:(0,e.jsx)(ee,{size:"s"})}):(0,e.jsx)("div",{css:A(r),children:(0,e.jsx)(K,{size:"s"})}),(0,e.jsx)("b",{children:i.label})]})}),(0,e.jsx)("div",{css:null===c?_(r):(0,t.css)({label:"rootItemsDisplayStyle",minWidth:"fit-content",marginLeft:"0px"}),children:null==l||0===l.length?[(0,e.jsx)("div",{hidden:!d,css:H(r),children:s("noProjects")},"no-projects")]:l.filter(e=>(0,o.isNodeRepositoryItem)(e)).map(t=>{const n=(e=>null!==c?e.id!==c.id:!d)(t);return(0,e.jsx)(de,{i18nMessage:s,theme:r,nodeItem:t,hidden:n},t.id)})})]})})},{useMemo:pe}=t.React,he=s=>{const{i18nMessage:r,theme:i}=s,{apsAuthenticated:l,userHasPermission:c,geoBIMInitialized:a}=(0,o.useGeoBIM)(),{setDocumentSearchText:d,zoomToDocumentInMap:u,selectedDocument:p,selectedDocumentHasFeature:h,root:g,rootItems:x,rootUpdating:f,geoBIMError:y,selectedRootItem:j,searchResults:b,searchActive:w,searchUpdating:I,accessError:S}=N(),M=f||I||!p||!h,E=!c&&a,D=pe(()=>t.lodash.debounce(d,700),[d]);return(0,e.jsxs)("div",{css:(0,o.geoBIMWidgetContainerStyle)(i),children:[E&&(0,e.jsx)(o.UserTypeNotPermissible,{userTypeNotPermissibleLinkText:r("geobim_userTypeLink"),userTypeNotPermissibleText:r("geobim_userTypeNote",{widget_name:r("widgetTitle")}),theme:i}),!l&&!E&&(0,e.jsx)(o.ApsLogIn,{logInLinkText:r("geobim_logInLink"),loginMessageFirstLine:r("geobim_logInText"),loginMessageSecondLine:r("geobim_logInTip"),theme:i}),l&&!E&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{css:P(i),children:[(0,e.jsx)(n.TextInput,{css:(0,t.css)({label:"searchBox",flex:"1 1 auto",minWidth:"100px"}),type:"text",allowClear:!0,disabled:f||null===g,prefix:(0,e.jsx)(m,{color:i.sys.color.divider.primary,currentColor:!0}),placeholder:r("searchDocuments"),onChange:e=>{D(e.target.value)}}),(0,e.jsx)("div",{css:L(i),title:r(null===p?"zoomSelectButtonNoSelection":h?"zoomSelectButtonEnabled":"zoomSelectButtonInvalidSelection"),children:(0,e.jsx)(n.Button,{type:"default",onClick:()=>{u(p)},disabled:M,icon:!0,children:(0,e.jsx)(v,{})})})]}),(0,e.jsxs)("div",{css:(0,t.css)({label:"documentsContainer",height:"100%",overflow:"auto",position:"relative"}),children:[!f&&S?(0,e.jsx)("div",{css:$(i),hidden:w,children:r("noAccess")},"no-access"):f||null!==g?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{hidden:!f||w,css:F(i),children:(0,e.jsx)(n.Loading,{})}),(0,e.jsx)(me,{i18nMessage:r,theme:i,root:g,rootItems:x,selectedRootItem:j,hidden:f||w},null!==(T=null==g?void 0:g.id)&&void 0!==T?T:"no-hub")]}):(0,e.jsxs)("div",{css:$(i),hidden:w,children:[(0,e.jsx)("div",{css:(0,t.css)({label:"noTreeMessageStyle",flexGrow:1,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}),children:r("noHub")}),y===o.GeoBimFeatureServiceError.NO_FEATURE_SERVICE&&(0,e.jsx)("div",{children:(0,e.jsx)(n.Alert,{fullWidth:!0,type:"warning",withIcon:!0,text:r("noGeoBIMFeatureServiceError")})}),y===o.GeoBimFeatureServiceError.MULTIPLE_FEATURE_SERVICES&&(0,e.jsx)("div",{children:(0,e.jsx)(n.Alert,{fullWidth:!0,type:"warning",withIcon:!0,text:r("multipleGeoBIMFeatureServicesError")})})]},"no-hub"),w?I?(0,e.jsx)("div",{css:F(i),children:(0,e.jsx)(n.Loading,{})}):null===b?(0,e.jsx)("div",{css:$(i),children:r("noSearchResults")}):(0,e.jsx)("div",{css:z(i),children:(0,e.jsx)(de,{i18nMessage:r,theme:i,nodeItem:b},b.id)}):null]})]})]});var T},{useCallback:ge}=t.React,ve=t=>{const{useMapWidgetIds:r,intl:i,theme:l,widgetId:a,config:d,manifest:u}=t,{modelViewerWidgetId:m}=d,{translateMessage:p}=(0,o.useSharedMessages)(i,u.translatedLocales),h=ge((e,t)=>{const n=Object.assign(Object.assign({},o.defaultSharedMessages.default),s);return p(e,n,t)},[p]),g=null==r?void 0:r[0],v=g;return(0,e.jsxs)(n.Paper,{shape:"none",className:"jimu-widget widget-document-explorer",children:[!v&&(0,e.jsx)(n.WidgetPlaceholder,{icon:c(),name:h("widgetTitle")}),v&&(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(o.GeoBIMProvider,{mapWidgetId:g,widgetId:a,children:(0,e.jsx)(M,{modelViewerWidgetId:m,children:(0,e.jsx)(he,{i18nMessage:h,theme:l})})})})]})};function xe(e){i.p=e}})(),l})())}}});