System.register(["jimu-core/emotion","jimu-core","jimu-ui","jimu-ui/advanced/setting-components","jimu-ui/basic/list-tree","jimu-ui/basic/item-selector"],function(e,t){var a={},l={},r={},n={},o={},s={};return{setters:[function(e){a.jsx=e.jsx,a.jsxs=e.jsxs},function(e){l.ExportFormat=e.ExportFormat,l.Immutable=e.Immutable,l.React=e.React,l.classNames=e.classNames,l.css=e.css,l.focusElementInKeyboardMode=e.focusElementInKeyboardMode,l.hooks=e.hooks,l.i18n=e.i18n,l.indexedDBUtils=e.indexedDBUtils,l.utils=e.utils},function(e){r.Button=e.Button,r.Checkbox=e.Checkbox,r.Label=e.Label,r.Link=e.Link,r.MultiSelect=e.MultiSelect,r.MultiSelectItem=e.MultiSelectItem,r.Popper=e.Popper,r.Switch=e.Switch,r.TextInput=e.TextInput,r.defaultMessages=e.defaultMessages},function(e){n.SettingRow=e.SettingRow,n.SettingSection=e.SettingSection},function(e){o.List=e.List,o.TreeItemActionType=e.TreeItemActionType},function(e){s.ItemCategory=e.ItemCategory,s.ItemTypeCategory=e.ItemTypeCategory}],execute:function(){e((()=>{var e={9044:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" d="M6 6.5a.5.5 0 0 1 1 0v6a.5.5 0 0 1-1 0zM9.5 6a.5.5 0 0 0-.5.5v6a.5.5 0 0 0 1 0v-6a.5.5 0 0 0-.5-.5"></path><path fill="#000" fill-rule="evenodd" d="M11 0H5a1 1 0 0 0-1 1v2H.5a.5.5 0 0 0 0 1h1.6l.81 11.1a1 1 0 0 0 .995.9h8.19a1 1 0 0 0 .995-.9L13.9 4h1.6a.5.5 0 0 0 0-1H12V1a1 1 0 0 0-1-1m0 3V1H5v2zm1.895 1h-9.79l.8 11h8.19z" clip-rule="evenodd"></path></svg>'},12046:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M11.227 1.312c-.404-.404-1.045-.417-1.432-.03L2.49 8.587l-.48 2.674a.637.637 0 0 0 .73.73l2.673-.48 7.305-7.306c.387-.387.374-1.028-.03-1.431zm-8.114 9.575.32-1.781 4.991-4.992 1.462 1.462-4.992 4.991zm7.473-6.012 1.402-1.4-1.462-1.463-1.401 1.402z" clip-rule="evenodd"></path><path fill="#000" d="M1.5 14a.5.5 0 0 0 0 1h13a.5.5 0 0 0 0-1z"></path></svg>'},14321:e=>{"use strict";e.exports=r},23662:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" d="M7.5 0a.5.5 0 0 0-.5.5V7H.5a.5.5 0 0 0 0 1H7v6.5a.5.5 0 0 0 1 0V8h6.5a.5.5 0 0 0 0-1H8V.5a.5.5 0 0 0-.5-.5"></path></svg>'},56340:e=>{"use strict";e.exports=s},56499:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" d="m6.036 12.157 8.01-8.01a.5.5 0 1 1 .707.707l-8.01 8.01a1 1 0 0 1-1.415 0L1.146 8.682a.5.5 0 1 1 .708-.707z"></path></svg>'},67386:e=>{"use strict";e.exports=a},79244:e=>{"use strict";e.exports=l},79298:e=>{"use strict";e.exports=n},93303:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M9.438.994c.213 0 .397.146.44.35q.227 1.084.316 1.852.562.242 1.048.599l1.728-.676a.455.455 0 0 1 .556.188l1.42 2.394a.43.43 0 0 1-.091.547 22 22 0 0 1-1.49 1.194q.03.27.03.552 0 .32-.038.63l1.465 1.12a.43.43 0 0 1 .111.563l-1.42 2.394a.454.454 0 0 1-.53.197 23 23 0 0 1-1.807-.66q-.49.35-1.055.586l-.263 1.794a.446.446 0 0 1-.445.376H6.574a.446.446 0 0 1-.44-.35 21 21 0 0 1-.317-1.853 5.3 5.3 0 0 1-1.047-.598l-1.728.675a.455.455 0 0 1-.556-.187l-1.42-2.395a.43.43 0 0 1 .091-.546q.85-.735 1.49-1.194a5.167 5.167 0 0 1 .008-1.183L1.19 6.243a.43.43 0 0 1-.112-.562l1.42-2.395a.455.455 0 0 1 .531-.196q1.078.35 1.807.66c.324-.233.679-.43 1.056-.587l.262-1.794A.446.446 0 0 1 6.6.994zm-.365 1H6.985l-.28 1.866-.467.19q-.353.144-.672.34l-.207.136-.42.293-.476-.197q-.492-.205-1.169-.433l-.221-.074-1.045 1.719L3.59 6.999l-.06.479a4 4 0 0 0-.021.816l.014.144.058.492-.419.294q-.433.304-.979.746l-.177.145 1.043 1.72 1.845-.703.406.29q.307.219.645.384l.228.103.474.199.059.49q.06.507.19 1.177l.043.219h2.088l.282-1.867.466-.19q.354-.144.672-.34l.207-.136.419-.293.476.198q.495.204 1.17.433l.22.072 1.044-1.718-1.56-1.165.06-.479a4 4 0 0 0 .02-.815l-.013-.144-.06-.492.42-.295a18 18 0 0 0 .98-.746l.176-.146-1.043-1.72-1.844.705-.406-.29a4.5 4.5 0 0 0-.646-.385l-.228-.103-.474-.199-.058-.49q-.049-.405-.14-.916zm-1.067 3a3 3 0 1 1 0 6 3 3 0 0 1 0-6m0 1a2 2 0 1 0 0 4 2 2 0 0 0 0-4" clip-rule="evenodd"></path></svg>'},96745:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M15 8A7 7 0 1 1 1 8a7 7 0 0 1 14 0m1 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0m-7.676 2.228H7.34c-.213-1.138.621-2.13 1.375-3.025C9.28 6.532 9.8 5.914 9.8 5.328 9.8 4.5 9.2 3.9 7.976 3.9c-.816 0-1.572.36-2.268 1.092l-.648-.6C5.852 3.552 6.788 3 8.096 3c1.692 0 2.772.864 2.772 2.244 0 .864-.652 1.628-1.3 2.387-.71.831-1.413 1.655-1.244 2.597m.3 2.172c0 .48-.348.792-.768.792-.432 0-.78-.312-.78-.792s.348-.804.78-.804c.42 0 .768.324.768.804" clip-rule="evenodd"></path></svg>'},98640:e=>{"use strict";e.exports=o}},t={};function i(a){var l=t[a];if(void 0!==l)return l.exports;var r=t[a]={exports:{}};return e[a](r,r.exports,i),r.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var a in t)i.o(t,a)&&!i.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.p="";var c={};return i.p=window.jimuConfig.baseUrl,(()=>{"use strict";i.r(c),i.d(c,{__set_webpack_public_path__:()=>K,default:()=>$});var e=i(67386),t=i(79244),a=i(14321),l=i(79298);const r={wayOfAddingData:"Way of adding data",selectFromAccount:"Select from account",inputUrl:"Input URL",uploadFiles:"Upload files",emptyListMessage:"Empty list message",defaultPlaceholderText:"There is currently no added data.",curateACollection:"Curate a collection",allowRenaming:"Allow renaming",allowRemoval:"Allow removal",dataTypeRestriction:"Data type restriction",allowExportSetting:"Allow export",exportSettings:"Export settings",formatOptions:"Format options"};var n=i(98640),o=i(56340);const s=e=>t.React.useMemo(()=>e.disableAddBySearch||e.itemCategoriesInfo?e.itemCategoriesInfo:(0,t.Immutable)([{type:o.ItemCategory.MyContent,customLabel:"",enabled:!0,id:o.ItemCategory.MyContent},{type:o.ItemCategory.MyGroup,customLabel:"",enabled:!0,id:o.ItemCategory.MyGroup},{type:o.ItemCategory.MyOrganization,customLabel:"",enabled:!0,id:o.ItemCategory.MyOrganization},{type:o.ItemCategory.Public,customLabel:"",enabled:!0,id:o.ItemCategory.Public},{type:o.ItemCategory.LivingAtlas,customLabel:"",enabled:!0,id:o.ItemCategory.LivingAtlas}]),[e.disableAddBySearch,e.itemCategoriesInfo]),d=(e,t)=>((e,t)=>{var a;if(e.type!==o.ItemCategory.Curated)return t;const l=Number(null===(a=e.id.split("_"))||void 0===a?void 0:a.pop());return!l||l<2?t:`${t} ${l}`})(t,e((e=>{switch(e){case o.ItemCategory.MyContent:return"myContent";case o.ItemCategory.MyGroup:return"myGroup";case o.ItemCategory.MyOrganization:return"myOrganization";case o.ItemCategory.Public:return"public";case o.ItemCategory.LivingAtlas:return"livingAtlas";case o.ItemCategory.Curated:return"curated"}})(t.type)));var m=i(96745),u=i.n(m),p=function(e,t){var a={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&t.indexOf(l)<0&&(a[l]=e[l]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(l=Object.getOwnPropertySymbols(e);r<l.length;r++)t.indexOf(l[r])<0&&Object.prototype.propertyIsEnumerable.call(e,l[r])&&(a[l[r]]=e[l[r]])}return a};const g=a=>{const l=window.SVG,{className:r}=a,n=p(a,["className"]),o=(0,t.classNames)("jimu-icon jimu-icon-component",r);return l?(0,e.jsx)(l,Object.assign({className:o,src:u()},n)):(0,e.jsx)("svg",Object.assign({className:o},n))};var y=i(9044),b=i.n(y),f=function(e,t){var a={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&t.indexOf(l)<0&&(a[l]=e[l]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(l=Object.getOwnPropertySymbols(e);r<l.length;r++)t.indexOf(l[r])<0&&Object.prototype.propertyIsEnumerable.call(e,l[r])&&(a[l[r]]=e[l[r]])}return a};const h=a=>{const l=window.SVG,{className:r}=a,n=f(a,["className"]),o=(0,t.classNames)("jimu-icon jimu-icon-component",r);return l?(0,e.jsx)(l,Object.assign({className:o,src:b()},n)):(0,e.jsx)("svg",Object.assign({className:o},n))};var x=i(12046),w=i.n(x),j=function(e,t){var a={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&t.indexOf(l)<0&&(a[l]=e[l]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(l=Object.getOwnPropertySymbols(e);r<l.length;r++)t.indexOf(l[r])<0&&Object.prototype.propertyIsEnumerable.call(e,l[r])&&(a[l[r]]=e[l[r]])}return a};const v=a=>{const l=window.SVG,{className:r}=a,n=j(a,["className"]),o=(0,t.classNames)("jimu-icon jimu-icon-component",r);return l?(0,e.jsx)(l,Object.assign({className:o,src:w()},n)):(0,e.jsx)("svg",Object.assign({className:o},n))};var C=i(56499),O=i.n(C),I=function(e,t){var a={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&t.indexOf(l)<0&&(a[l]=e[l]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(l=Object.getOwnPropertySymbols(e);r<l.length;r++)t.indexOf(l[r])<0&&Object.prototype.propertyIsEnumerable.call(e,l[r])&&(a[l[r]]=e[l[r]])}return a};const S=a=>{const l=window.SVG,{className:r}=a,n=I(a,["className"]),o=(0,t.classNames)("jimu-icon jimu-icon-component",r);return l?(0,e.jsx)(l,Object.assign({className:o,src:O()},n)):(0,e.jsx)("svg",Object.assign({className:o},n))},{useMemo:N,useState:T,useRef:L,useEffect:A}=t.React,M=l=>{const{enabled:r,label:n="",canDelete:o,defaultLabel:s,onEnabledChange:i,onDelete:c,onLabelChange:d,translate:m}=l,u=L(null),[p,g]=T(!1),y=()=>{p||g(!0)};A(()=>{p&&u.current&&(0,t.focusElementInKeyboardMode)(u.current)},[p]);const[b,f]=T(n);A(()=>{f(n)},[n]);return(0,e.jsxs)("div",{className:"d-flex align-items-center pr-1",css:t.css`height: 2rem`,children:[(0,e.jsxs)("div",{className:"d-flex align-items-center mb-0 flex-grow-1",css:t.css`padding-left: 0.125rem`,children:[(0,e.jsx)(a.Checkbox,{className:"mr-2",checked:r,onChange:i,"aria-label":n||s}),(0,e.jsx)("div",{className:"flex-grow-1",onDoubleClick:y,css:!p&&t.css`max-width: ${o?"7.125rem":"8.525rem"}; overflow: hidden; text-overflow: ellipsis; white-space: nowrap`,children:p?(0,e.jsx)(a.TextInput,{css:t.css`height: 1.5rem; max-width: ${o?"7.125rem":"8.525rem"}`,size:"sm",ref:u,value:b,onAcceptValue:e=>{g(!1),d(e)},onChange:e=>{f(e.target.value)},placeholder:s}):(0,e.jsx)("span",{title:n||s,children:n||s})})]}),!p&&(0,e.jsx)(a.Button,{className:"p-0 mx-1",size:"sm",type:"tertiary",icon:!0,onClick:y,"aria-label":m("rename"),children:(0,e.jsx)(v,{size:"m"})}),p&&(0,e.jsx)(a.Button,{className:"p-0 mx-1",size:"sm",type:"tertiary",icon:!0,onClick:()=>{g(!1)},"aria-label":m("done"),children:(0,e.jsx)(S,{size:"m"})}),o&&(0,e.jsx)(a.Button,{className:"p-0 mr-1",size:"sm",type:"tertiary",icon:!0,onClick:c,"aria-label":m("deleteOption"),children:(0,e.jsx)(h,{size:"m"})})]})};function R(r){const{widgetId:n,intl:s,theme:i,itemCategoryInfo:c,defaultLabel:d,autoFocusCuratedFilter:m,onEnabledChange:u,onCustomLabelChange:p,onCuratedFilterChange:y,onDelete:b,translate:f}=r,{type:h,enabled:x,customLabel:w}=c,j=N(()=>h===o.ItemCategory.Curated,[h]),[v,C]=T("");A(()=>{C(c.curatedFilter||"")},[c.curatedFilter]);const[O,I]=T(!1),S=`add-data-${n}-curated-filter-container-${t.React.useId()}`;return(0,e.jsx)("div",{className:"flex-grow-1",css:t.css`flex-basis: 0;`,children:(0,e.jsx)(l.SettingSection,{title:(0,e.jsx)(M,{enabled:x,label:w,canDelete:j,defaultLabel:d,onEnabledChange:u,onDelete:b,onLabelChange:p,translate:f}),className:"p-0 m-0 flex-grow-1",role:"group",css:t.css`flex-basis: 0`,"aria-label":w||d,children:j&&(0,e.jsx)(l.SettingRow,{flow:"wrap",className:"mt-1",css:t.css`
              line-height: 1.5rem;
              .jimu-widget-setting--row-label {
                margin-bottom: 0.375rem;
              }
            `,role:"group","aria-label":f("curatedFilter"),label:(0,e.jsxs)("div",{className:"d-flex align-items-center",id:S,children:[f("curatedFilter"),(0,e.jsx)(a.Link,{to:"https://doc.arcgis.com/en/arcgis-online/reference/advanced-search.htm",icon:!0,target:"_blank","aria-label":f("help"),"aria-labelledby":S,css:t.css`
                    padding: 0 !important;
                    .svg-component{
                      margin-right: 0;
                      color: ${i.ref.palette.neutral[900]};
                    }
                    :hover {
                      .svg-component{
                        color: ${i.ref.palette.black};
                      }
                    }
                  `,children:(0,e.jsx)(g,{autoFlip:!t.i18n.isSameLanguage(null==s?void 0:s.locale,"he")})})]}),children:(0,e.jsx)(a.TextInput,{"aria-label":f("curatedFilter"),ref:e=>{e&&m&&!O&&(I(!0),(0,t.focusElementInKeyboardMode)(e))},className:"flex-grow-1 mb-2 pr-2","data-draggable":"true",size:"sm",type:"text",value:v,onPointerDown:e=>{e.stopPropagation()},onAcceptValue:y,onChange:e=>{C(e.target.value)},title:c.curatedFilter})})})})}var E=i(23662),F=i.n(E),P=function(e,t){var a={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&t.indexOf(l)<0&&(a[l]=e[l]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(l=Object.getOwnPropertySymbols(e);r<l.length;r++)t.indexOf(l[r])<0&&Object.prototype.propertyIsEnumerable.call(e,l[r])&&(a[l[r]]=e[l[r]])}return a};const B=a=>{const l=window.SVG,{className:r}=a,n=P(a,["className"]),o=(0,t.classNames)("jimu-icon jimu-icon-component",r);return l?(0,e.jsx)(l,Object.assign({className:o,src:F()},n)):(0,e.jsx)("svg",Object.assign({className:o},n))};var k=i(93303),z=i.n(k),D=function(e,t){var a={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&t.indexOf(l)<0&&(a[l]=e[l]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(l=Object.getOwnPropertySymbols(e);r<l.length;r++)t.indexOf(l[r])<0&&Object.prototype.propertyIsEnumerable.call(e,l[r])&&(a[l[r]]=e[l[r]])}return a};const _=a=>{const l=window.SVG,{className:r}=a,n=D(a,["className"]),o=(0,t.classNames)("jimu-icon jimu-icon-component",r);return l?(0,e.jsx)(l,Object.assign({className:o,src:z()},n)):(0,e.jsx)("svg",Object.assign({className:o},n))},{useEffect:V,useRef:q}=t.React,H=(0,t.Immutable)([o.ItemTypeCategory.FeatureLayer,o.ItemTypeCategory.TileLayer,o.ItemTypeCategory.MapImageLayer,o.ItemTypeCategory.ImageryLayer,o.ItemTypeCategory.SceneLayer,o.ItemTypeCategory.TiledImageryLayer,o.ItemTypeCategory.ElevationLayer,o.ItemTypeCategory.Table,o.ItemTypeCategory.LayerFiles,o.ItemTypeCategory.GroupLayer,o.ItemTypeCategory.OrientedImageryLayer]),$=i=>{const{onSettingChange:c,id:m,config:u,theme:p,intl:g}=i,y=t.hooks.useTranslation(a.defaultMessages,r),b=q(null),f=s(u),h=(()=>{const[e,a]=t.React.useState([]);return t.React.useEffect(()=>{"true"===t.utils.readLocalStorage("restrictEnterpriseOnly")&&a([o.ItemCategory.Public,o.ItemCategory.LivingAtlas])},[]),e})();V(()=>(b.current=new t.indexedDBUtils.IndexedDBCache(m,"add-data","added-data"),b.current.init().catch(e=>{console.error("Failed to read cache.",e)}),()=>{b.current.close()}),[m]);const x=(...e)=>{c(...e),b.current.initialized()&&b.current.clear()},w=e=>{const t=e.target.value,a="disableAddBySearch"===t;if(!0===u[t]){const e=u.without(t);x({id:m,config:Object.assign({},e)})}else x({id:m,config:Object.assign(Object.assign({},a?u.without("itemCategoriesInfo").without("displayedItemTypeCategories"):u),{[t]:!0})})},j=(e,t,a)=>{const l=[...f.asMutable({deep:!0})];l[a]=Object.assign(Object.assign({},l[a]),{[t]:e}),x({id:m,config:Object.assign(Object.assign({},u),{itemCategoriesInfo:l})})},v=(e=>t.React.useMemo(()=>{if(!e)return 1;const t=e.filter(e=>e.type===o.ItemCategory.Curated).map(e=>e.id);return t.length?Math.max(...t.map(e=>Number(e.split("_")[1])))+1:1},[e]))(f),[C,O]=t.React.useState(""),I=(t,a)=>(0,e.jsx)(R,{widgetId:m,intl:g,theme:p,itemCategoryInfo:t,defaultLabel:d(y,t),autoFocusCuratedFilter:C===t.id,onEnabledChange:(e,t)=>{j(t,"enabled",a)},onCustomLabelChange:e=>{j(e,"customLabel",a)},onCuratedFilterChange:e=>{j(e,"curatedFilter",a)},onDelete:()=>{(e=>{const t=[...f.asMutable()];t.splice(e,1),x({id:m,config:Object.assign(Object.assign({},u),{itemCategoriesInfo:t})})})(a)},translate:y}),S=u.displayedItemTypeCategories||H,[N,T]=t.React.useState(!1),L=t.React.useRef(null),A=t.React.useId();return(0,e.jsxs)("div",{className:"widget-setting-add-data jimu-widget-setting",css:G,children:[(0,e.jsxs)(l.SettingSection,{className:"border-0 way-of-add-data-section",role:"group",title:y("wayOfAddingData"),"aria-label":y("wayOfAddingData"),children:[(0,e.jsx)(l.SettingRow,{className:"way-of-add-data-row",tag:"label",label:y("selectFromAccount"),children:(0,e.jsx)(a.Switch,{onChange:w,value:"disableAddBySearch",checked:!u.disableAddBySearch})}),!u.disableAddBySearch&&f&&(0,e.jsx)(l.SettingRow,{className:"account-config-row",label:y("tabs"),"aria-label":y("tabs"),role:"group",flow:"wrap",children:(0,e.jsx)(n.List,{className:"search-config-list w-100",size:"sm",itemsJson:f.asMutable().filter(e=>!h.includes(e.type)).map((e,t)=>({itemStateDetailContent:e,itemKey:e.id})),dndEnabled:!0,onUpdateItem:(e,a)=>{if(e.updateType!==n.TreeItemActionType.HandleDidDrop)return;const[,l]=e.itemJsons,r=l.map(e=>e.itemStateDetailContent);r.map(e=>e.id).join(",")!==f.map(e=>e.id).join(",")&&x({id:m,config:Object.assign(Object.assign({},u),{itemCategoriesInfo:r.map(e=>(0,t.Immutable)(e))})})},overrideItemBlockInfo:({itemBlockInfo:e})=>({name:n.TreeItemActionType.RenderOverrideItem,children:[{name:n.TreeItemActionType.RenderOverrideItemDroppableContainer,children:[{name:n.TreeItemActionType.RenderOverrideItemDraggableContainer,children:[{name:n.TreeItemActionType.RenderOverrideItemBody,children:[{name:n.TreeItemActionType.RenderOverrideItemDragHandle},{name:n.TreeItemActionType.RenderOverrideItemMainLine}]}]}]}]}),renderOverrideItemMainLine:(e,t)=>{const{itemJsons:a}=t.props,l=a[0],r=a[1];return I(l.itemStateDetailContent,r.indexOf(l))}})}),!u.disableAddBySearch&&(0,e.jsx)(l.SettingRow,{className:"account-config-row",children:(0,e.jsxs)(a.Button,{className:"w-100 my-2",type:"secondary","aria-label":y("curateACollection"),onClick:()=>{const e=`${o.ItemCategory.Curated}_${v}`;O(e),x({id:m,config:Object.assign(Object.assign({},u),{itemCategoriesInfo:[...f,{type:o.ItemCategory.Curated,customLabel:"",enabled:!0,curatedFilter:"",id:e}]})})},children:[(0,e.jsx)(B,{}),y("curateACollection")]})}),!u.disableAddBySearch&&(0,e.jsx)(l.SettingRow,{className:"account-config-row",label:y("dataTypeRestriction"),flow:"wrap",children:(0,e.jsx)(a.MultiSelect,{className:"w-100 mb-2",displayByValues:e=>`${e.length} ${y("SelectionSelected")}`,"aria-label":y("dataTypeRestriction"),onChange:(e,t)=>{x({id:m,config:H.length===t.length?u.without("displayedItemTypeCategories"):u.set("displayedItemTypeCategories",t.sort((e,t)=>H.indexOf(e)-H.indexOf(t)))})},values:S,children:H.map(t=>(0,e.jsx)(a.MultiSelectItem,{value:t,label:t,disabled:1===S.length&&S.includes(t)},t))})}),(0,e.jsx)(l.SettingRow,{className:"way-of-add-data-row mt-4",tag:"label",label:y("inputUrl"),children:(0,e.jsx)(a.Switch,{onChange:w,value:"disableAddByUrl",checked:!u.disableAddByUrl})}),(0,e.jsx)(l.SettingRow,{className:"way-of-add-data-row",tag:"label",label:y("uploadFiles"),children:(0,e.jsx)(a.Switch,{onChange:w,value:"disableAddByFile",checked:!u.disableAddByFile})})]}),(0,e.jsxs)(l.SettingSection,{className:"border-0 pt-0",role:"group",title:y("general"),"aria-label":y("general"),children:[(0,e.jsx)(l.SettingRow,{tag:"label",label:y("allowRenaming"),children:(0,e.jsx)(a.Switch,{onChange:(e,t)=>{const a=e.target.value;x({id:m,config:t?u.without(a):u.set(a,!0)})},value:"disableRenaming",checked:!u.disableRenaming})}),(0,e.jsxs)(l.SettingRow,{tag:"div",label:y("allowExportSetting"),children:[!u.disableExport&&(0,e.jsx)(a.Button,{size:"sm",icon:!0,type:"tertiary","aria-haspopup":"dialog","aria-label":y("exportSettings"),ref:L,onClick:()=>{T(!N)},children:(0,e.jsx)(_,{})}),(0,e.jsx)(a.Switch,{onChange:(e,t)=>{const a=e.target.value,l=u.without("notAllowedExportFormat");x({id:m,config:t?l.without(a):l.set(a,!0)})},value:"disableExport",checked:!u.disableExport,"aria-label":y("allowExportSetting")}),(0,e.jsx)(a.Popper,{placement:"bottom-start",offsetOptions:8,open:N,toggle:()=>{T(!1)},reference:L,"aria-label":y("exportSettings"),children:(0,e.jsxs)("div",{className:"d-flex flex-column p-4",css:U,role:"group","aria-label":y("formatOptions"),children:[(0,e.jsx)(a.Label,{className:"format-label w-100 py-1 mb-0",id:A,children:y("formatOptions")}),(0,e.jsx)("div",{className:"mt-2 d-flex flex-column",children:Object.values(t.ExportFormat).map(l=>{var r;const n=l===t.ExportFormat.Item?y("exportItem"):l;return(0,e.jsx)("div",{children:(0,e.jsxs)(a.Label,{className:"py-1 w-100 d-flex justify-content-start align-items-center","aria-describedby":A,children:[(0,e.jsx)(a.Checkbox,{value:l,checked:!(null===(r=u.notAllowedExportFormat)||void 0===r?void 0:r.includes(l)),onChange:e=>{((e,t)=>{var a,l;const r=e.target.checked;if(r&&(null===(a=u.notAllowedExportFormat)||void 0===a?void 0:a.includes(t))){const e=u.notAllowedExportFormat.filter(e=>e!==t);x({id:m,config:e.length?u.set("notAllowedExportFormat",e):u.without("notAllowedExportFormat")})}r||(null===(l=u.notAllowedExportFormat)||void 0===l?void 0:l.includes(t))||x({id:m,config:u.set("notAllowedExportFormat",[...u.notAllowedExportFormat||[],t])})})(e,l)}},l),(0,e.jsx)("div",{className:"ml-2",children:n})]})},l)})})]})})]}),(0,e.jsx)(l.SettingRow,{label:y("emptyListMessage"),flow:"wrap",role:"group","aria-label":y("emptyListMessage"),children:(0,e.jsx)(a.TextInput,{className:"w-100","aria-label":u.placeholderText||y("defaultPlaceholderText"),size:"sm",defaultValue:u.placeholderText,placeholder:y("defaultPlaceholderText"),onAcceptValue:e=>{x({id:m,config:Object.assign(Object.assign({},u),{placeholderText:e})})}})})]})]})},G=t.css`
  .way-of-add-data-section {
    .way-of-add-data-row {
      padding: 0.5rem 0.5rem 0.5rem 0.625rem;
      background-color: var(--ref-palette-neutral-500);
    }
    .account-config-row {
      margin: 0;
      padding: 0 0.5rem;
      background-color: var(--ref-palette-neutral-500);
    }
    .jimu-tree-item .jimu-tree-item__body {
      flex-wrap: nowrap;
      align-items: flex-start;
      .jimu-tree-item__drag-handle {
        margin-top: 0.5rem
      }
    }
  }
`,U=t.css`
  width: 200px;
  .format-label {
    color: var(--sys-color-surface-paper-hint);
  }
`;function K(e){i.p=e}})(),c})())}}});