System.register(["jimu-core","jimu-ui"],function(e,t){var i={},a={};return{setters:[function(e){i.Immutable=e.Immutable},function(e){a.defaultMessages=e.defaultMessages}],execute:function(){e((()=>{var e={14321:e=>{"use strict";e.exports=a},79244:e=>{"use strict";e.exports=i}},t={};function o(i){var a=t[i];if(void 0!==a)return a.exports;var n=t[i]={exports:{}};return e[i](n,n.exports,o),n.exports}o.d=(e,t)=>{for(var i in t)o.o(t,i)&&!o.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.p="";var n={};return o.p=window.jimuConfig.baseUrl,(()=>{"use strict";o.r(n),o.d(n,{default:()=>d,getKeysInLayersConfig:()=>u});var e,t,i,a,r=o(79244),s=o(14321);!function(e){e.Attribute="ATTRIBUTE",e.Geometry="GEOMETRY"}(e||(e={})),function(e){e.Webmap="WEBMAP",e.Custom="CUSTOM"}(t||(t={})),function(e){e.NoMap="NOMAP",e.NoLayer="NOEDITABLE"}(i||(i={})),function(e){e.Prescriptive="PRESCRIPTIVE",e.Flexible="FLEXIBLE"}(a||(a={}));const l={newEdit:"New editable source",newEditTips:"Support selected features view only",attrMode:"Attribute only",layerConfig:"Layer configuration",capability:"Capability",addRecords:"Add records",deleteRecords:"Delete records",updateRecords:"Update records",snappingSettings:"Snapping settings",configFields:"Configure fields",configFieldsTip:"Select fields to show",addGroup:"Add a group",group:"Group",checkAll:"Check all",uncheckAll:"Uncheck all",noDataMessageDefaultText:"No valid record is selected, select one or add one.",editBlankStatus:'Click the "{EditString}" button to add and configure {ModeString}',editableSource:"editable data sources",changeModeConfirmTitle:"Are you sure you want to switch the mode?",changeModeConfirmTips:"You will lose the settings configured.",editable:"Editable",editFieldDescription:"Please input the description.",editableCount:"{count} Editable",layerHonorSetting:"Use layer settings",layerCustomize:"Customize",noLayerTips:"The Map does not contain any editable data.",uneditableTips:"The layer is in a read-only state.",templateFilter:"Template filter",relatedRecords:"Related records",runtimeDataEditing:"Runtime data editing",initialReshapeMode:"Display vertices while editing",editGeometryGuides:"Show visual aids to help identify perpendicular and parallel lines when creating or updating a feature.",editFeatureToFeature:"Snap vertices of a feature that is currently being drawn or reshaped to that of an existing feature's vertex, edge, or end point.",batchEditingSetting:"Batch editing",layerLabel:"Layer label",fieldGroupLabel:"Group label",fieldDescription:"Field description",groupDescription:"Group description"};class d{constructor(){this.id="edit-builder-operation"}getTranslationKey(t){const i=t.widgets[this.widgetId].config,{editMode:a,description:o,noDataMessage:n,layersConfig:l=(0,r.Immutable)([]),mapViewsConfig:d=(0,r.Immutable)({})}=i,c=[];if(a===e.Attribute){o&&c.push({keyType:"value",key:`widgets.${this.widgetId}.config.description`,label:{key:"description",enLabel:s.defaultMessages.description},valueType:"text"}),n&&c.push({keyType:"value",key:`widgets.${this.widgetId}.config.noDataMessage`,label:{key:"noDataMessage",enLabel:s.defaultMessages.noDataMessage},valueType:"text"});const e=u(l,`widgets.${this.widgetId}.config`,!0);e.length>0&&c.push(...e)}else if(a===e.Geometry)for(const[e,t]of Object.entries(d)){const i=u(t.layersConfig,`widgets.${this.widgetId}.config.mapViewsConfig.${e}`);i.length>0&&c.push(...i)}return Promise.resolve(c)}}function u(e=(0,r.Immutable)([]),i,a){const o=[];return e.forEach((e,n)=>{const r=e.name,s=`${i}.layersConfig[${n}]`;a&&o.push({keyType:"value",key:`${s}.name`,label:{key:"layerLabel",enLabel:l.layerLabel},nav:r,valueType:"text"}),e.layerHonorMode===t.Custom&&e.groupedFields.length>0&&e.groupedFields.forEach((e,t)=>{const i=`${s}.groupedFields[${t}]`,a=e.alias||e.jimuName||e.name,n=`${r} / ${a}`,d=!!e.groupKey;if(d&&(o.push({keyType:"value",key:`${i}.alias`,label:{key:"fieldGroupLabel",enLabel:l.fieldGroupLabel},nav:n,valueType:"text"}),e.children.length>0)){const t=e.children[0].alias||e.children[0].jimuName||e.children[0].name,n=`${r} / ${a} / ${t}`;e.children.forEach((e,t)=>{e.subDescription&&o.push(c(n,`${i}.children[${t}]`,!1))})}e.subDescription&&o.push(c(n,i,d))})}),o}function c(e,t,i){const a=i?"groupDescription":"fieldDescription";return{keyType:"value",key:`${t}.subDescription`,label:{key:a,enLabel:l[a]},nav:e,valueType:"textarea"}}})(),n})())}}});