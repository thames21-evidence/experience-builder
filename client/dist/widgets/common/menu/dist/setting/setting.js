System.register(["jimu-core/emotion","jimu-core","jimu-ui/advanced/setting-components","jimu-ui","jimu-ui/advanced/resource-selector","jimu-ui/advanced/style-setting-components","jimu-ui/basic/color-picker","jimu-for-builder","jimu-layouts/layout-runtime","jimu-theme","jimu-core/react"],function(e,t){var o={},n={},i={},a={},l={},r={},s={},u={},d={},c={},p={};return{setters:[function(e){o.jsx=e.jsx,o.jsxs=e.jsxs},function(e){n.APP_FRAME_NAME_IN_BUILDER=e.APP_FRAME_NAME_IN_BUILDER,n.Immutable=e.Immutable,n.LayoutType=e.LayoutType,n.React=e.React,n.css=e.css,n.getAppStore=e.getAppStore,n.hooks=e.hooks,n.polished=e.polished,n.useIntl=e.useIntl},function(e){i.SettingRow=e.SettingRow,i.SettingSection=e.SettingSection},function(e){a.CollapsablePanel=e.CollapsablePanel,a.Label=e.Label,a.Radio=e.Radio,a.Select=e.Select,a.Switch=e.Switch,a.defaultMessages=e.defaultMessages,a.styleUtils=e.styleUtils},function(e){l.IconPicker=e.IconPicker},function(e){r.BorderRadiusSetting=e.BorderRadiusSetting,r.InputUnit=e.InputUnit,r.NavStyleSettingByState=e.NavStyleSettingByState,r.TextAlignment=e.TextAlignment},function(e){s.ThemeColorPicker=e.ThemeColorPicker},function(e){u.getAppConfigAction=e.getAppConfigAction},function(e){d.LayoutItemSizeModes=e.LayoutItemSizeModes},function(e){c.useTheme2=e.useTheme2},function(e){p.default=e.default}],execute:function(){e((()=>{var e={1888:e=>{"use strict";e.exports=c},4108:e=>{"use strict";e.exports=u},14321:e=>{"use strict";e.exports=a},15562:e=>{"use strict";e.exports=r},35809:e=>{"use strict";e.exports=l},41496:e=>{"use strict";e.exports=d},54337:e=>{"use strict";e.exports=s},67386:e=>{"use strict";e.exports=o},68972:e=>{"use strict";e.exports=p},79244:e=>{"use strict";e.exports=n},79298:e=>{"use strict";e.exports=i}},t={};function v(o){var n=t[o];if(void 0!==n)return n.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,v),i.exports}v.d=(e,t)=>{for(var o in t)v.o(t,o)&&!v.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},v.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),v.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},v.p="";var h={};return v.p=window.jimuConfig.baseUrl,(()=>{"use strict";v.r(h),v.d(h,{__set_webpack_public_path__:()=>y,default:()=>x});var e,t=v(67386),o=v(79244),n=v(79298);!function(e){e.Icon="ICON",e.Vertical="VERTICAL",e.Horizontal="HORIZONTAL"}(e||(e={}));var i=v(14321),a=v(35809),l=v(15562),r=v(54337),s=v(4108),u=v(41496);const d=t=>{var n,i,a;let l;const r=(0,o.getAppStore)().getState();l=window.jimuConfig.isBuilder?null==r?void 0:r.appStateInBuilder:r;const d=null===(n=null==l?void 0:l.appRuntimeInfo)||void 0===n?void 0:n.selection,c=null===(i=l.appConfig.layouts)||void 0===i?void 0:i[null==d?void 0:d.layoutId],p=null===(a=null==c?void 0:c.content)||void 0===a?void 0:a[null==d?void 0:d.layoutItemId];if(c&&p&&(null==c?void 0:c.type)===o.LayoutType.FixedLayout){const n=t===e.Vertical,i=t===e.Horizontal,{width:a,height:l}=(t=>{switch(t){case e.Icon:return{width:50,height:50};case e.Vertical:return{width:300,height:300};default:return{width:300,height:50}}})(t),r=(e=>{var t;const n=document.querySelector(`iframe[name="${o.APP_FRAME_NAME_IN_BUILDER}"]`);if(n)return(null!==(t=n.contentDocument)&&void 0!==t?t:n.contentWindow.document).querySelector(e);return null})(`div.layout[data-layoutid=${d.layoutId}]`),{clientWidth:c=100,clientHeight:v=100}=r||{},h=100*a/c+"%",g=100*l/v+"%";(0,s.getAppConfigAction)().editLayoutItemProperty(d,"setting.autoProps",{width:i?u.LayoutItemSizeModes.Custom:u.LayoutItemSizeModes.Auto,height:n?u.LayoutItemSizeModes.Custom:u.LayoutItemSizeModes.Auto}).editLayoutItemProperty(d,"bbox",p.bbox.set("width",h).set("height",g)).exec()}},c={subMenuExpandMode:"Submenu expand mode",mainMenu:"Main menu",subMenu:"Submenu",navArrowColor:"Navigation arrow color"};var p=v(1888),g=v(68972);function m(e){return{svg:'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" class="css-1i7frhi jimu-icon"><path d="M2 1a1 1 0 100 2h12a1 1 0 100-2H2zm0-1h12a2 2 0 010 4H2a2 2 0 010-4zm0 7a1 1 0 100 2h12a1 1 0 100-2H2zm0-1h12a2 2 0 010 4H2a2 2 0 010-4zm0 7a1 1 0 100 2h12a1 1 0 100-2H2zm0-1h12a2 2 0 010 4H2a2 2 0 010-4z" fill="currentColor" fill-rule="nonzero"></path></svg>',properties:{color:"inherit",size:20,inlineSvg:!0,filename:e("menu")}}}function w(e){switch(e){case"anchor":return"left";case"textAlign":return"center";case"showIcon":return!1;case"gap":return"0px";case"submenuMode":return"foldable";default:return null}}const b=(t,n,i)=>g.default.useMemo(()=>function(t=e.Horizontal,n){switch(t){case e.Horizontal:return(0,o.Immutable)({type:"nav",menuStyle:"default",vertical:!1,advanced:!1,standard:{gap:w("gap"),textAlign:w("textAlign")}});case e.Vertical:return(0,o.Immutable)({type:"nav",menuStyle:"default",vertical:!0,advanced:!1,standard:{submenuMode:w("submenuMode"),gap:w("gap"),textAlign:w("textAlign")}});case e.Icon:return(0,o.Immutable)({type:"drawer",menuStyle:"default",vertical:!0,advanced:!1,standard:{anchor:w("anchor"),submenuMode:w("submenuMode"),icon:m(n),gap:w("gap"),textAlign:w("textAlign")}})}}(n,i).merge(t,{deep:!0}),[t,n,i]),f=o.css`
  .radio-container {
    display: flex;
    width: 100%;
    margin-top: 0.5rem;
    > span.jimu-radio {
      flex-shrink: 0;
      margin-top: 0.1rem;
    }
    > label {
      margin-bottom: 0;
    }
  }
  .nav-arrow-color-collapse {
    .collapse-header {
      color: var(--sys-color-surface-background-hint) !important;
    }
  }
`,x=s=>{var u,v,h,x,y;const S=o.hooks.useTranslation(c,i.defaultMessages),j=(0,p.useTheme2)(),{config:I,id:C,onSettingChange:R}=s,A=(M=I,g.default.useMemo(()=>"drawer"===M.type?e.Icon:M.vertical?e.Vertical:e.Horizontal,[M.type,M.vertical]));var M;const z=b(I,A,S),{vertical:k,type:T,menuStyle:P,variant:L,advanced:N,navArrowColor:_,standard:H}=z,{anchor:B,textAlign:O,icon:E,submenuMode:U,gap:V,showIcon:F}=H||{},$=N?null==z?void 0:z.paper:void 0,D=(0,o.useIntl)(),W=o.React.useMemo(()=>{var e;if(!(null===(e=null==E?void 0:E.properties)||void 0===e?void 0:e.filename))return;const t=E.properties.filename;return D.formatMessage({id:t,defaultMessage:c[t]||i.defaultMessages[t]||t})},[null===(u=null==E?void 0:E.properties)||void 0===u?void 0:u.filename,D]),q=(e,t)=>{R({id:C,config:Array.isArray(e)?I.setIn(e,t):I.set(e,t)})},Z=(e,t)=>{var o;if(null==t){if(!(null===(o=null==L?void 0:L.root)||void 0===o?void 0:o[e]))return;const t=I.variant.root.without(e);if(Object.keys(t).length)q(["variant","root"],t);else{const e=I.variant.without("root");Object.keys(e).length?q("variant",e):R({id:C,config:I.without("variant")})}}else q(["variant","root",e],t)},G=(e,t)=>{let n=I.standard||(0,o.Immutable)({});n=t===w(e)?n.without(e):n.set(e,t),R({id:C,config:Object.keys(n).length?I.set("standard",n):I.without("standard")})},J=o.React.useMemo(()=>{var e,t,n;if(!(null===(e=null==L?void 0:L.root)||void 0===e?void 0:e.borderRadius))return null;const a=o.polished.getValueAndUnit("none"===(null===(t=null==L?void 0:L.root)||void 0===t?void 0:t.borderRadius)?"0px":i.styleUtils.remToPixel((null===(n=null==L?void 0:L.root)||void 0===n?void 0:n.borderRadius)||"0rem"));return(0,o.Immutable)({number:[null==a?void 0:a[0]],unit:null==a?void 0:a[1]})},[null===(v=null==L?void 0:L.root)||void 0===v?void 0:v.borderRadius]),K=(e,t)=>{t?R({id:C,config:I.setIn(["navArrowColor",e],t)}):Object.keys(_||{}).filter(t=>t!==e).some(e=>null==_?void 0:_[e])?R({id:C,config:I.set("navArrowColor",_.without(e))}):R({id:C,config:I.without("navArrowColor")})};return(0,t.jsxs)("div",{css:f,className:"widget-setting-menu jimu-widget-setting",children:[(0,t.jsxs)(n.SettingSection,{children:[(0,t.jsx)(n.SettingRow,{label:S("type"),children:(0,t.jsxs)(i.Select,{"aria-label":S("type"),size:"sm",value:A,onChange:t=>{const o=t.target.value,n=function(t=e.Horizontal){switch(t){case e.Horizontal:return{type:"nav",vertical:!1};case e.Vertical:return{type:"nav",vertical:!0};case e.Icon:return{type:"drawer"}}}(o);R({id:C,config:n}),d(o)},style:{width:"50%"},children:[(0,t.jsx)("option",{value:e.Icon,children:S("icon")}),(0,t.jsx)("option",{value:e.Vertical,children:S("vertical")}),(0,t.jsx)("option",{value:e.Horizontal,children:S("horizontal")})]})}),"drawer"===T&&(0,t.jsx)(n.SettingRow,{label:S("location"),flow:"no-wrap",children:(0,t.jsxs)(i.Select,{"aria-label":S("location"),size:"sm",style:{width:"50%"},value:B,onChange:e=>{G("anchor",e.target.value)},children:[(0,t.jsx)("option",{value:"left",children:S("left")}),(0,t.jsx)("option",{value:"right",children:S("right")})]})}),k&&(0,t.jsx)(n.SettingRow,{label:S("subMenuExpandMode"),flow:"wrap",children:(0,t.jsxs)(i.Select,{"aria-label":S("subMenuExpandMode"),size:"sm",value:U,onChange:e=>{G("submenuMode",e.target.value)},children:[(0,t.jsx)("option",{value:"foldable",children:S("foldable")}),(0,t.jsx)("option",{value:"static",children:S("expand")})]})}),"drawer"===T&&(0,t.jsxs)(o.React.Fragment,{children:[(0,t.jsx)(n.SettingRow,{label:S("icon"),flow:"no-wrap",role:"group","aria-label":S("icon"),children:(0,t.jsx)(a.IconPicker,{hideRemove:!0,icon:E,customIcons:[m(S)],customLabel:W,previewOptions:{color:!0,size:!1},onChange:e=>{q(["standard","icon"],e)},setButtonUseColor:!1})}),(0,t.jsx)(n.SettingRow,{label:S("iconSize"),flow:"no-wrap",children:(0,t.jsx)(l.InputUnit,{"aria-label":S("iconSize"),className:"w-50",value:`${null!==(x=null===(h=null==E?void 0:E.properties)||void 0===h?void 0:h.size)&&void 0!==x?x:0}px`,onChange:e=>{q(["standard","icon","properties","size"],e.distance)}})})]})]}),(0,t.jsxs)(n.SettingSection,{title:S("appearance"),role:"group","aria-label":S("appearance"),children:[(0,t.jsx)(n.SettingRow,{label:S("style"),flow:"wrap",role:"radiogroup","aria-label":S("style"),children:[{label:S("default"),value:"default"},{label:S("underline"),value:"underline"},{label:S("pills"),value:"pills"}].map((e,o)=>(0,t.jsxs)("div",{className:"radio-container",children:[(0,t.jsx)(i.Radio,{id:"nav-style-type"+o,style:{cursor:"pointer"},name:"style-type",onChange:t=>{((e,t)=>{if(!e.currentTarget.checked)return;let o="default"===t?I.without("menuStyle"):I.set("menuStyle",t);o=o.without("advanced").without("variant").without("paper"),R({id:C,config:o})})(t,e.value)},checked:P===e.value}),(0,t.jsx)(i.Label,{style:{cursor:"pointer"},for:"nav-style-type"+o,className:"ml-2 text-break",children:e.label})]},o))}),(0,t.jsx)(n.SettingRow,{label:S("space"),flow:"no-wrap",children:(0,t.jsx)(l.InputUnit,{"aria-label":S("space"),className:"w-50",min:0,value:V,onChange:e=>{G("gap",`${e.distance}${e.unit}`)}})}),(0,t.jsx)(n.SettingRow,{flow:"no-wrap",label:S("alignment"),children:(0,t.jsx)(l.TextAlignment,{"aria-label":S("alignment"),textAlign:O,onChange:e=>{G("textAlign",e)}})}),(0,t.jsx)(n.SettingRow,{flow:"no-wrap",tag:"label",label:S("showIcon"),children:(0,t.jsx)(i.Switch,{checked:F,onChange:(e,t)=>{G("showIcon",t)}})})]}),(0,t.jsxs)(n.SettingSection,{children:[(0,t.jsx)(n.SettingRow,{flow:"no-wrap",tag:"label",label:S("advance"),children:(0,t.jsx)(i.Switch,{checked:N,onChange:()=>{let e;e=!(null==z?void 0:z.advanced)?I.set("advanced",!0):I.without("advanced").without("variant").without("paper").without("navArrowColor"),R({id:C,config:e})}})}),N&&(0,t.jsxs)(o.React.Fragment,{children:["drawer"!==T&&(0,t.jsxs)(o.React.Fragment,{children:[(0,t.jsxs)(i.CollapsablePanel,{label:S("navArrowColor"),defaultIsOpen:!1,className:"my-4 nav-arrow-color-collapse",wrapperClassName:"pl-2",children:[(0,t.jsx)(n.SettingRow,{label:S("default"),flow:"no-wrap",className:"my-2",children:(0,t.jsx)(r.ThemeColorPicker,{"aria-label":S("default"),specificTheme:j,value:null==_?void 0:_.default,onChange:e=>{K("default",e||null)}})}),(0,t.jsx)(n.SettingRow,{label:S("hover"),flow:"no-wrap",className:"my-2",children:(0,t.jsx)(r.ThemeColorPicker,{"aria-label":S("hover"),specificTheme:j,value:null==_?void 0:_.hover,onChange:e=>{K("hover",e||null)}})}),(0,t.jsx)(n.SettingRow,{label:S("disabled"),flow:"no-wrap",className:"my-2",children:(0,t.jsx)(r.ThemeColorPicker,{"aria-label":S("disabled"),specificTheme:j,value:null==_?void 0:_.disabled,onChange:e=>{K("disabled",e||null)}})})]}),(0,t.jsx)(n.SettingRow,{label:S("background"),flow:"no-wrap",children:(0,t.jsx)(r.ThemeColorPicker,{"aria-label":S("background"),specificTheme:j,value:null===(y=null==L?void 0:L.root)||void 0===y?void 0:y.bg,onChange:e=>{Z("bg",e||null)}})}),(0,t.jsx)(n.SettingRow,{label:S("borderRadius"),flow:"no-wrap",children:(0,t.jsx)(l.BorderRadiusSetting,{style:{width:"30%"},separated:!1,value:J,placeholder:"",onChange:e=>{var t,o;Z("borderRadius",(null===(t=e.number)||void 0===t?void 0:t[0])?`${null===(o=e.number)||void 0===o?void 0:o[0]}${null==e?void 0:e.unit}`:null)}})})]}),"drawer"===T&&(0,t.jsx)(n.SettingRow,{label:S("background"),flow:"no-wrap",children:(0,t.jsx)(r.ThemeColorPicker,{"aria-label":S("background"),specificTheme:j,value:null==$?void 0:$.bg,onChange:e=>{q(["paper","bg"],e)}})}),(0,t.jsx)(l.NavStyleSettingByState,{variant:L,onlyBorderColor:"underline"===P,text:!0,icon:!1,iconInText:F,onChange:(e,t,o)=>{var n;const i=null===(n=null==L?void 0:L.item)||void 0===n?void 0:n[e];null!=o&&""!==o?"border"===t&&i?q(["variant","item",e],i.without("borderLeft").without("borderRight").without("borderTop").without("borderBottom").set(t,o)):t.includes("border")&&"borderRadius"!==t&&i?q(["variant","item",e],i.without("border").set(t,o)):q(["variant","item",e,t],o):null!=(null==i?void 0:i[t])&&q(["variant","item",e],i.without(t))},onWholeVariantChange:e=>{e?q(["variant"],e):R({id:C,config:I.without("variant")})}})]})]})]})};function y(e){v.p=e}})(),h})())}}});