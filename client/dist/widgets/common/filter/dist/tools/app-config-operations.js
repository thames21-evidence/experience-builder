System.register(["jimu-core"],function(e,t){var r={};return{setters:[function(e){r.Immutable=e.Immutable,r.dataSourceUtils=e.dataSourceUtils}],execute:function(){e((()=>{var e={79244:e=>{"use strict";e.exports=r}},t={};function o(r){var n=t[r];if(void 0!==n)return n.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,o),i.exports}o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.p="";var n={};return o.p=window.jimuConfig.baseUrl,(()=>{"use strict";o.r(n),o.d(n,{default:()=>a});var e,t,r,i=o(79244);!function(e){e.Block="BLOCK",e.Inline="INLINE",e.Popper="POPPER"}(e||(e={})),function(e){e.Toggle="TOGGLE",e.Button="BUTTON"}(t||(t={})),function(e){e.Single="SINGLE",e.Group="GROUP",e.Custom="CUSTOM"}(r||(r={}));const u=(0,i.Immutable)([]);class a{constructor(){this.id="filter-app-config-operation"}afterWidgetCopied(e,t,o,n,a){var s;if(!a)return n;if(!!!(null!==(s=t.widgets[e].useDataSources)&&void 0!==s?s:u).find(e=>a[e.mainDataSourceId]))return n;let c=n;const l=c.widgets[o].config.filterItems.map(e=>{if(e.type===r.Single){const t=i.dataSourceUtils.mapUseDataSources(a,e.useDataSources);return t.isChanged?e.set("useDataSources",t.useDataSources):e}return e});return c=c.setIn(["widgets",o,"config","filterItems"],l),c}}})(),n})())}}});