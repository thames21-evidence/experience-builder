System.register(["jimu-core"],function(e,t){var n={};return{setters:[function(e){n.Immutable=e.Immutable}],execute:function(){e((()=>{var e={79244:e=>{"use strict";e.exports=n}},t={};function i(n){var a=t[n];if(void 0!==a)return a.exports;var l=t[n]={exports:{}};return e[n](l,l.exports,i),l.exports}i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.p="";var a={};return i.p=window.jimuConfig.baseUrl,(()=>{"use strict";i.r(a),i.d(a,{default:()=>g,getKeysInLayersConfig:()=>b});var e=i(79244);const t={newSheet:"New sheet",sheetStyle:"Arrangement style",layerConfig:"Sheet configuration",enableAttachments:"Show attachments",enableSearch:"Search",searchFields:"Select searching fields",fullMatch:"Exact match",allowCsv:"Allow exporting to CSV",enableSelect:"Select records",enableEdit:"Allow editing",showCount:"Show record count",enableRefresh:"Refresh",enableShowHideColumn:"Show/hide columns",configFields:"Configure fields",freezeFields:"Freeze field",freezeLocation:"Freeze location",dropdown:"Dropdown",configTips:"Select fields for initial display",tableBlankStatus:'Click the "{SheetString}" button to add and configure data sheets.',selectFields:"Select fields",checkAll:"Check all",uncheckAll:"Uncheck all",editable:"Editable",editableCount:"{count} Editable",tableOptions:"Table options",columnSize:"Column sizing",beginning:"Beginning",fitToData:"Fit to data",columnWidth:"Column width",updateText:"Last update text",layerHonorSetting:"Use layer settings",layerCustomize:"Customize",enableDelete:"Delete records",noMapSelectedTips:"Select a map for further configurations.",changeModeConfirmTitle:"Are you sure you want to switch the mode?",changeModeConfirmTips:"You will lose the settings configured.",enableMapExtentFilter:"Filter by map extent",enableHighlightOnHover:"Highlight map features on hover",enableRelatedRecords:"Show related data",selectLayers:"Select layers",enableSyncVisibilities:"Synchronize with layer visibilities",displayRuntimeLayers:"Display layers generated at runtime",overrideGeneralSettings:"Override general settings",tableLayerLabel:"Layer label",tableSearchHint:"Layer search hint",respectMapRangeLabel:"Respect layer visible range",deleteOptionTips:"The delete records feature is available only to users with editing privileges.",tableAction_OpenInSameTab:"Open in the same sheet"};var n,l,r,o,s,c,u,d,h;!function(e){e.Layer="LAYER",e.Map="MAP"}(n||(n={})),function(e){e.Dropdown="DROPDOWN",e.Tabs="TABS"}(l||(l={})),function(e){e.Beginning="beginning",e.End="end"}(r||(r={})),function(e){e.Start="start",e.Center="center",e.End="end"}(o||(o={})),function(e){e.Single="SINGLE",e.Multiple="MULTIPLE"}(s||(s={})),function(e){e.Webmap="WEBMAP",e.Custom="CUSTOM"}(c||(c={})),function(e){e.Fit="FIT",e.Fixed="FIXED"}(u||(u={})),function(e){e.Scroll="SCROLL",e.Multiple="MULTIPLE"}(d||(d={})),function(e){e.View="VIEW",e.Add="ADD"}(h||(h={}));class g{constructor(){this.id="table-builder-operation"}getTranslationKey(t){const i=t.widgets[this.widgetId].config,{tableMode:a,layersConfig:l=(0,e.Immutable)([]),mapViewsConfig:r=(0,e.Immutable)({})}=i,o=[];if(a===n.Layer){const e=b(l,`widgets.${this.widgetId}.config`);e.length>0&&o.push(...e)}else if(a===n.Map)for(const[e,t]of Object.entries(r)){const n=b(t.layersConfig,`widgets.${this.widgetId}.config.mapViewsConfig.${e}`);n.length>0&&o.push(...n)}return Promise.resolve(o)}}function b(n=(0,e.Immutable)([]),i){const a=[];return n.forEach((e,n)=>{const l=e.name,r=`${i}.layersConfig[${n}]`;a.push({keyType:"value",key:`${r}.name`,label:{key:"tableLayerLabel",enLabel:t.tableLayerLabel},nav:l,valueType:"text"}),e.enableSearch&&e.searchHint&&a.push({keyType:"value",key:`${r}.searchHint`,label:{key:"tableSearchHint",enLabel:t.tableSearchHint},nav:l,valueType:"text"})}),a}})(),a})())}}});