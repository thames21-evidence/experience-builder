System.register(["jimu-core/emotion","jimu-core","jimu-ui","jimu-ui/advanced/setting-components","widgets/shared-code/lrs","jimu-ui/basic/color-picker"],function(e,t){var i={},a={},l={},n={},r={},o={};return{setters:[function(e){i.jsx=e.jsx,i.jsxs=e.jsxs},function(e){a.Immutable=e.Immutable,a.React=e.React,a.ReactRedux=e.ReactRedux,a.css=e.css,a.getAppStore=e.getAppStore,a.hooks=e.hooks},function(e){l.CollapsablePanel=e.CollapsablePanel,l.NumericInput=e.NumericInput,l.Option=e.Option,l.Select=e.Select,l.Switch=e.Switch,l.defaultMessages=e.defaultMessages,l.hooks=e.hooks},function(e){n.SettingRow=e.SettingRow,n.SettingSection=e.SettingSection},function(e){r.EmptyPlaceholder=e.EmptyPlaceholder,r.LrsLayerType=e.LrsLayerType,r.LrsLoader=e.LrsLoader,r.ModeType=e.ModeType,r.getAttributeSets=e.getAttributeSets,r.getConfigValue=e.getConfigValue,r.getDefaultAttributeSet=e.getDefaultAttributeSet,r.isConflictPreventionEnabled=e.isConflictPreventionEnabled,r.isDefined=e.isDefined,r.lrsDefaultMessages=e.lrsDefaultMessages,r.updateConfig=e.updateConfig},function(e){o.ColorPicker=e.ColorPicker}],execute:function(){e((()=>{var e={14321:e=>{"use strict";e.exports=l},47626:e=>{"use strict";e.exports=r},54337:e=>{"use strict";e.exports=o},67386:e=>{"use strict";e.exports=i},79244:e=>{"use strict";e.exports=a},79298:e=>{"use strict";e.exports=n}},t={};function s(i){var a=t[i];if(void 0!==a)return a.exports;var l=t[i]={exports:{}};return e[i](l,l.exports,s),l.exports}s.d=(e,t)=>{for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.p="";var u={};return s.p=window.jimuConfig.baseUrl,(()=>{"use strict";s.r(u),s.d(u,{__set_webpack_public_path__:()=>y,default:()=>w});var e=s(67386),t=s(79244),i=s(14321);const a={blankStatus:"Select a map to import LRS networks and events",defaultSettings:"Default settings",defaultDynSegResult:"Default dynamic segmentation result",tableLabel:"Table",diagramLabel:"Diagram",defaultAttributeSetType:"Default attribute set type",lineOnlyLabel:"Line only",lineAndPointLabel:"Line and point",lineAttributeSet:"Line attribute set",pointAttributeSet:"Point attribute set",tableHighlightColor:"Table highlight color",mapHighlightColor:"Map highlight color",noEventLayersTips:"No Event layers are present in the selected map. Select a map with Line or Point Event layer/s present in the webmap.",diagramScale:"Diagram default scale",displayFieldLabel:"Display field",layerConfig:"Layer configuration",eventLabel:"Event Name",includeDerivedFields:"Include derived fields",mergeEvents:"Merge coincident events",showStatistics:"Show statistics",pointOutputLabel:"Dynamic Segmentation - Point",lineOutputLabel:"Dynamic Segmentation - Line",allowEditing:"Allow editing",networkLabel:"Network Name",routeIdentifierLabel:"Route Identifier",defaultNetworkLabel:"Default Network"};var l,n,r,o=s(79298),d=s(47626);!function(e){e.Table="Table",e.Diagram="Diagram"}(l||(l={})),function(e){e.LineOnly="LineOnly",e.LineAndPoint="LineAndPoint"}(n||(n={})),function(e){e.Point="Point",e.Line="Line",e.Undefined="Undefined"}(r||(r={}));var c=function(e,t,i,a){return new(i||(i=Promise))(function(l,n){function r(e){try{s(a.next(e))}catch(e){n(e)}}function o(e){try{s(a.throw(e))}catch(e){n(e)}}function s(e){var t;e.done?l(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(r,o)}s((a=a.apply(e,t||[])).next())})};function g(){const e={defaultDisplayType:l.Table,attributeInputType:n.LineOnly,defaultPointAttributeSet:"",defaultLineAttributeSet:"",attributeSets:{attributeSet:[]},mapHighlightColor:"#65adff",tableHighlightColor:"#65adff",defaultDiagramScale:3,showEventStatistics:!1,allowMerge:!1,allowEditing:!0,defaultNetwork:""};return(0,t.Immutable)(e)}function f(e,i){return c(this,arguments,void 0,function*(e,i,a=!1){var r;const o=i.find(e=>e.layerType===d.LrsLayerType.Network);if((0,d.isDefined)(o)&&a){const i=(0,t.getAppStore)().getState().portalUrl,a=yield(0,d.getAttributeSets)(o.lrsUrl,i),l=(0,d.getDefaultAttributeSet)((0,t.Immutable)(a),e.defaultLineAttributeSet,!1),n=(0,d.getDefaultAttributeSet)((0,t.Immutable)(a),e.defaultPointAttributeSet,!0),s=b(null===(r=o.networkInfo)||void 0===r?void 0:r.unitsOfMeasure);e=e.setIn(["attributeSets"],a).setIn(["defaultLineAttributeSet"],l).setIn(["defaultPointAttributeSet"],n).setIn(["defaultDiagramScale"],s)}return e.set("defaultDisplayType",e.defaultDisplayType||l.Table).set("attributeInputType",e.attributeInputType||n.LineOnly).set("defaultPointAttributeSet",e.defaultPointAttributeSet||"").set("defaultLineAttributeSet",e.defaultLineAttributeSet||"").set("attributeSets",e.attributeSets||(0,t.Immutable)({attributeSet:[]})).set("mapHighlightColor",e.mapHighlightColor||"#65adff").set("tableHighlightColor",e.tableHighlightColor||"#65adff").set("allowMerge",e.allowMerge).set("allowEditing",e.allowEditing).set("defaultDiagramScale",e.defaultDiagramScale||3).set("showEventStatistics",e.showEventStatistics).set("defaultNetwork",e.defaultNetwork||o.name)})}function p(e,i){return e.set("mode",i).set("lrsLayers",[]).set("mapViewsConfig",{}).set("settingsPerView",{}).set("defaultDisplayType",l.Table).set("attributeInputType",n.LineOnly).set("attributeSets",(0,t.Immutable)({attributeSet:[]})).set("defaultPointAttributeSet","").set("defaultLineAttributeSet","").set("mapHighlightColor","#65adff").set("tableHighlightColor","#65adff").set("allowMerge",!1).set("allowEditing",!0).set("defaultDiagramScale",3).set("showEventStatistics",!1).set("defaultNetwork","")}function b(e){switch(e){case"esriInches":return 190080;case"esriFeet":case"esriIntFeet":return 15840;case"esriYards":return 5280;case"esriMiles":case"esriDecimalDegrees":default:return 3;case"esriNauticalMiles":return 2.6;case"esriMillimeters":return 4828e3;case"esriCentimeters":return 482800;case"esriDecimeters":return 48280;case"esriMeters":return 4828;case"esriKilometers":return 4.828}}function m(l){var n;const{widgetId:r,index:s,config:u,activeMapViewId:c,onSettingChange:g}=l,f=(p="lrsLayers",b=[],t.React.useMemo(()=>(0,d.getConfigValue)(u,p,c)||b,[u,c]));var p,b;const m=f[s],S=t.React.useMemo(()=>(null==m?void 0:m.layerType)===d.LrsLayerType.Network,[m]),v=t.React.useMemo(()=>(null==m?void 0:m.layerType)===d.LrsLayerType.Event,[m]),h=t.hooks.useTranslation(a),[w,y]=t.React.useState(null==m?void 0:m.name),L=function(e){const{widgetId:i,useDataSourceId:a}=e;return t.ReactRedux.useSelector(e=>{var t;let l;return l=window.jimuConfig.isBuilder?e.appStateInBuilder.appConfig:e.appConfig,(null!==(t=l.widgets[i].useDataSources)&&void 0!==t?t:[]).some(e=>e.dataSourceId===a)})}({widgetId:r,useDataSourceId:null===(n=null==m?void 0:m.useDataSource)||void 0===n?void 0:n.dataSourceId});t.React.useEffect(()=>{(null==m?void 0:m.name)&&w!==(null==m?void 0:m.name)&&y(null==m?void 0:m.name)},[null==m?void 0:m.name]);const I=t.React.useCallback((e,i,a=!1)=>{var l;let n=null!=f?f:(0,t.Immutable)([]);if(n=t.Immutable.set(n,e,i),u.mode===d.ModeType.Map){const e=c,t=(null===(l=u.mapViewsConfig)||void 0===l?void 0:l[e]).set("lrsLayers",n),i=u.setIn(["mapViewsConfig",e],t);g({id:r,config:i})}else g({id:r,config:u.set("lrsLayers",n)})},[f,u,c,g,r]),C=t.React.useCallback((e,t,i=!1)=>{let a;a=null==t?m.without(e):m.set(e,t),I(s,a,i)},[I,s,m]),x=()=>{var e;const t=(null===(e=m.eventInfo)||void 0===e?void 0:e.isPointEvent)?(0,d.getConfigValue)(u,"defaultPointAttributeSet",c,""):(0,d.getConfigValue)(u,"defaultLineAttributeSet",c,""),i=(0,d.getConfigValue)(u,"attributeSets",c,{}).attributeSet.find(e=>e.title===t),a=null==i?void 0:i.layers.find(e=>e.layerId===m.serviceId);if(!a)return[m.eventInfo.eventIdFieldName];return[...a.fields.map(e=>e.name),m.eventInfo.eventIdFieldName]},j=(e,t)=>{C("displayField",t)},k=()=>{var e,t,i,a;const l=[null===(e=null==m?void 0:m.networkInfo)||void 0===e?void 0:e.routeIdFieldSchema.alias];return(null===(i=null===(t=null==m?void 0:m.networkInfo)||void 0===t?void 0:t.routeNameFieldSchema)||void 0===i?void 0:i.alias)&&l.push(null===(a=null==m?void 0:m.networkInfo)||void 0===a?void 0:a.routeNameFieldSchema.alias),l},D=t=>t.map((t,a)=>(0,e.jsx)(i.Option,{value:t,children:t},a));return(0,e.jsx)("div",{className:"h-100",children:(0,e.jsxs)("div",{css:t.css`height: 100%; overflow:auto;`,children:[m&&(L||u.mode===d.ModeType.Map)&&v&&(0,e.jsxs)(o.SettingSection,{role:"group","aria-label":h("eventLabel"),title:h("eventLabel"),children:[m.name,(0,e.jsx)(o.SettingRow,{flow:"wrap",label:h("displayFieldLabel"),children:(0,e.jsx)(i.Select,{"aria-label":h("displayFieldLabel"),className:"w-100",size:"sm",value:(()=>{const e=x();return e.includes(null==m?void 0:m.displayField)?null==m?void 0:m.displayField:(j(0,e[0]),e[0])})(),onChange:j,children:D(x())})})]}),m&&(L||u.mode===d.ModeType.Map)&&S&&(0,e.jsxs)(o.SettingSection,{role:"group","aria-label":h("networkLabel"),title:h("networkLabel"),children:[m.name,(0,e.jsx)(o.SettingRow,{flow:"wrap",label:h("routeIdentifierLabel"),children:(0,e.jsx)(i.Select,{"aria-label":h("routeIdentifierLabel"),className:"w-100",size:"sm",value:(()=>{var e,t,i,a;return(null===(e=null==m?void 0:m.networkInfo)||void 0===e?void 0:e.useRouteName)&&(0,d.isDefined)(null===(t=null==m?void 0:m.networkInfo)||void 0===t?void 0:t.routeNameFieldSchema)?null===(i=null==m?void 0:m.networkInfo)||void 0===i?void 0:i.routeNameFieldSchema.alias:null===(a=null==m?void 0:m.networkInfo)||void 0===a?void 0:a.routeIdFieldSchema.alias})(),disabled:!k().length||1===k().length,onChange:(e,t)=>{var i;if(t===(null===(i=null==m?void 0:m.networkInfo)||void 0===i?void 0:i.routeIdFieldSchema.alias)){const e=m.networkInfo.set("useRouteName",!1).set("useRouteId",!0);C("networkInfo",e)}else{const e=m.networkInfo.set("useRouteName",!0).set("useRouteId",!1);C("networkInfo",e)}},children:D(k())})})]})]})})}var S=s(54337);function v(r){var s,u;const{widgetId:c,config:g,activeMapViewId:f,onSettingChange:p}=r,b=t.hooks.useTranslation(a),m=(e,i)=>t.React.useMemo(()=>{const t=(0,d.getConfigValue)(g,e,f);return void 0!==t?t:i},[g,f]),v=m("lrsLayers",[]),h=m("defaultNetwork",""),w=m("defaultDisplayType",l.Table),y=m("attributeInputType",n.LineOnly),L=m("attributeSets",{attributeSet:[]}),I=m("defaultPointAttributeSet",""),C=m("defaultLineAttributeSet",""),x=m("mapHighlightColor","#65adff"),j=m("tableHighlightColor","#65adff"),k=m("defaultDiagramScale",3),D=m("allowMerge",!1),R=m("allowEditing",!0),T=m("showEventStatistics",!1),A=null===(s=null==L?void 0:L.attributeSet)||void 0===s?void 0:s.filter(e=>!e.isPoint),P=null===(u=null==L?void 0:L.attributeSet)||void 0===u?void 0:u.filter(e=>e.isPoint),M=e=>e?(0,d.getDefaultAttributeSet)((0,t.Immutable)(L),I,e):(0,d.getDefaultAttributeSet)((0,t.Immutable)(L),C,e),N=(e,t)=>{t?(0,d.updateConfig)(c,g,"defaultPointAttributeSet",e,f,p):(0,d.updateConfig)(c,g,"defaultLineAttributeSet",e,f,p)},E=t.React.useMemo(()=>v.filter(e=>e.layerType===d.LrsLayerType.Network),[v]);return(0,e.jsx)(t.React.Fragment,{children:(0,e.jsx)(o.SettingSection,{className:"px-4",children:(0,e.jsxs)(i.CollapsablePanel,{role:"group",level:1,type:"default",wrapperClassName:"mt-3",label:b("defaultSettings"),defaultIsOpen:!0,disabled:!1,"aria-label":b("defaultSettings"),children:[(0,e.jsx)(o.SettingRow,{flow:"wrap",label:b("defaultDynSegResult"),children:(0,e.jsxs)(i.Select,{"aria-label":b("defaultDynSegResult"),className:"w-100",size:"sm",value:w,onChange:e=>{var t;t=e.target.value,(0,d.updateConfig)(c,g,"defaultDisplayType",t,f,p)},children:[(0,e.jsx)(i.Option,{value:l.Table,children:b("tableLabel")}),(0,e.jsx)(i.Option,{value:l.Diagram,children:b("diagramLabel")})]})}),(0,e.jsx)(o.SettingRow,{flow:"wrap",label:b("defaultNetworkLabel"),children:(0,e.jsx)(i.Select,{"aria-label":b("defaultNetworkLabel"),className:"w-100",size:"sm",value:h,onChange:e=>{var t;t=e.target.value,(0,d.updateConfig)(c,g,"defaultNetwork",t,f,p)},children:E.map(t=>(0,e.jsx)(i.Option,{value:t.name,children:t.name},t.id))})}),(0,e.jsx)(o.SettingRow,{flow:"wrap",label:b("defaultAttributeSetType"),children:(0,e.jsxs)(i.Select,{"aria-label":b("defaultAttributeSetType"),className:"w-100",size:"sm",value:y,onChange:e=>{var t;t=e.target.value,(0,d.updateConfig)(c,g,"attributeInputType",t,f,p)},children:[(0,e.jsx)(i.Option,{value:n.LineOnly,children:b("lineOnlyLabel")}),(0,e.jsx)(i.Option,{value:n.LineAndPoint,children:b("lineAndPointLabel")})]})}),(0,d.isDefined)(A)&&A.length>0&&(0,e.jsx)(o.SettingRow,{flow:"wrap",label:b("lineAttributeSet"),children:(0,e.jsx)(i.Select,{"aria-label":b("lineAttributeSet"),className:"w-100",size:"sm",value:M(!1),onChange:e=>{N(e.target.value,!1)},children:A.map((t,a)=>(0,e.jsx)(i.Option,{value:t.title,children:t.title},a))})}),y===n.LineAndPoint&&(0,d.isDefined)(P)&&P.length>0&&(0,e.jsx)(o.SettingRow,{flow:"wrap",label:b("pointAttributeSet"),children:(0,e.jsx)(i.Select,{"aria-label":b("pointAttributeSet"),className:"w-100",size:"sm",value:M(!0),onChange:e=>{N(e.target.value,!0)},children:P.map((t,a)=>(0,e.jsx)(i.Option,{value:t.title,children:t.title},a))})}),(0,e.jsx)(o.SettingRow,{tag:"label",label:b("allowEditing"),children:(0,e.jsx)(i.Switch,{checked:R,onChange:e=>{(0,d.updateConfig)(c,g,"allowEditing",e.target.checked,f,p)},title:b("allowEditing")})}),(0,d.isDefined)(A)&&A.length>0&&(0,e.jsx)(o.SettingRow,{tag:"label",label:b("mergeEvents"),children:(0,e.jsx)(i.Switch,{checked:D,onChange:e=>{(0,d.updateConfig)(c,g,"allowMerge",e.target.checked,f,p)},title:b("mergeEvents")})}),(0,e.jsx)(o.SettingRow,{label:b("tableHighlightColor"),children:(0,e.jsx)(S.ColorPicker,{color:j,value:j,onChange:e=>{(0,d.updateConfig)(c,g,"tableHighlightColor",e,f,p)},"aria-label":b("tableHighlightColor")})}),(0,e.jsx)(o.SettingRow,{label:b("mapHighlightColor"),children:(0,e.jsx)(S.ColorPicker,{color:x,value:x,onChange:e=>{(0,d.updateConfig)(c,g,"mapHighlightColor",e,f,p)},"aria-label":b("mapHighlightColor")})}),(0,e.jsx)(o.SettingRow,{flow:"wrap",label:b("diagramScale"),children:(0,e.jsx)(i.NumericInput,{className:"w-100",min:1,value:k,defaultValue:k,onChange:e=>{(null==e||e<=0)&&(e=1),(0,d.updateConfig)(c,g,"defaultDiagramScale",e,f,p)},"aria-label":b("diagramScale")})}),(0,e.jsx)(o.SettingRow,{flow:"no-wrap",tag:"label",label:b("showStatistics"),children:(0,e.jsx)(i.Switch,{checked:T,onChange:e=>{var t;t=e.target.checked,(0,d.updateConfig)(c,g,"showEventStatistics",t,f,p)}})})]})})})}var h=function(e,t,i,a){return new(i||(i=Promise))(function(l,n){function r(e){try{s(a.next(e))}catch(e){n(e)}}function o(e){try{s(a.throw(e))}catch(e){n(e)}}function s(e){var t;e.done?l(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(r,o)}s((a=a.apply(e,t||[])).next())})};const w=l=>{const{id:n,intl:r,widgetId:s,config:u,useMapWidgetIds:c,portalUrl:S,theme:w,onSettingChange:y}=l,[L,I]=t.React.useState(-1),[C,x]=t.React.useState(""),[j,k]=t.React.useState(""),[D,R]=t.React.useState({}),T=t.React.useRef(u),A=u.mode===d.ModeType.Map,P=(null==c?void 0:c.length)>0,M=!A&&u.lrsLayers.length>0||A&&u.mapViewsConfig&&Object.keys(u.mapViewsConfig).length>0,N=!A&&u.lrsLayers&&0!==u.lrsLayers.length||A&&u.settingsPerView&&u.settingsPerView[C],E=(0,t.Immutable)([d.LrsLayerType.Event,d.LrsLayerType.LineEvent,d.LrsLayerType.PointEvent,d.LrsLayerType.Network]),O=(0,t.Immutable)([d.LrsLayerType.LineEvent,d.LrsLayerType.Network]),V=i.hooks.useTranslate(a,i.defaultMessages,d.lrsDefaultMessages);t.React.useEffect(()=>{if(void 0===u.mode){const e=u.lrsLayers.length>0?d.ModeType.Layer:d.ModeType.Map;l.onSettingChange({id:s,config:u.set("mode",e)})}},[]),t.React.useEffect(()=>{u&&(T.current=u)},[u]);const F=t.React.useCallback((...e)=>{const[t,...i]=e,a=Object.assign(Object.assign({id:n},t));y(a,...i)},[n,y]),H=t.React.useCallback(e=>{const t=e.target.value;x(t)},[]),U=t.React.useCallback(e=>{y({id:s,config:p(u,e),useDataSources:[]})},[u,y,s]),_=t.React.useCallback((e,t)=>{I(e),A&&""!==t&&k(t)},[A]),z=t.React.useCallback((e,i)=>h(void 0,void 0,void 0,function*(){var a;let l=u.set("lrsLayers",e);const n=l.lrsLayers.find(e=>e.layerType===d.LrsLayerType.Network);if((0,d.isDefined)(n)){const e=yield(0,d.isConflictPreventionEnabled)(n.lrsUrl);l=l.setIn(["conflictPreventionEnabled"],e);const i=yield(0,d.getAttributeSets)(n.lrsUrl,S),r=(0,d.getDefaultAttributeSet)((0,t.Immutable)(i),l.defaultLineAttributeSet,!1),o=(0,d.getDefaultAttributeSet)((0,t.Immutable)(i),l.defaultPointAttributeSet,!0),s=b(null===(a=n.networkInfo)||void 0===a?void 0:a.unitsOfMeasure);l=l.setIn(["attributeSets"],i).setIn(["defaultLineAttributeSet"],r).setIn(["defaultPointAttributeSet"],o).setIn(["defaultDiagramScale"],s).setIn(["defaultNetwork"],n.name)}F({config:l,useDataSources:Object.values(i.useDataSourceMap)},i.outputDataSources)}),[u,S,F]),W=t.React.useRef(!1),B=t.React.useCallback((e,i,a,l)=>h(void 0,void 0,void 0,function*(){var n,r;yield h(void 0,void 0,void 0,function*(){for(;W.current;)yield new Promise(e=>setTimeout(e,10))}),W.current=!0;let o=T.current;try{for(const a in e)if(l){o=o.set("mapViewsConfig",e);const l=e[a];let s=(null===(n=T.current.settingsPerView)||void 0===n?void 0:n[a])||g();const u=l.lrsLayers.find(e=>e.layerType===d.LrsLayerType.Network);if((0,d.isDefined)(u)){const e=yield(0,d.isConflictPreventionEnabled)(u.lrsUrl);o=o.setIn(["conflictPreventionEnabled"],e);const i=yield(0,d.getAttributeSets)(u.lrsUrl,S),a=(0,d.getDefaultAttributeSet)((0,t.Immutable)(i),s.defaultLineAttributeSet,!1),l=(0,d.getDefaultAttributeSet)((0,t.Immutable)(i),s.defaultPointAttributeSet,!0),n=b(null===(r=u.networkInfo)||void 0===r?void 0:r.unitsOfMeasure);s=s.setIn(["attributeSets"],i).setIn(["defaultLineAttributeSet"],a).setIn(["defaultPointAttributeSet"],l).setIn(["defaultDiagramScale"],n).setIn(["defaultNetwork"],u.name)}s=yield f(s,l.lrsLayers),(null==o?void 0:o.settingsPerView)||(o=o.set("settingsPerView",(0,t.Immutable)({})));const c=o.settingsPerView.set(a,s);o=o.set("settingsPerView",c),""===C&&x(a),R(i)}else""===C&&x(a),R(i);F({config:o,useDataSources:Object.values(a.useDataSourceMap)},a.outputDataSources)}finally{T.current=o,W.current=!1}}),[C,S,F]);return(0,e.jsx)("div",{className:"setting-add-point-event h-100",children:(0,e.jsxs)("div",{className:"jimu-widget-setting setting-add-point-event__setting-content h-100",children:[(0,e.jsx)(d.LrsLoader,{intl:r,portalUrl:S,theme:w,widgetId:s,mode:u.mode,useMapWidgetIds:c,lrsLayers:u.lrsLayers,mapViewsConfig:u.mapViewsConfig,supportedLrsTypes:E,requiredLrsTypes:O,outputDataSourceWidgetType:"sld",onLrsLayersUpdated:z,onMapViewsConfigUpdated:B,onMapWidgetSelected:(e,t)=>{l.onSettingChange({id:s,config:p(u,t),useMapWidgetIds:e})},onReset:U,onSelectionChanged:_,children:L>-1&&(0,e.jsx)(m,{widgetId:s,config:u,index:L,activeMapViewId:j,onSettingChange:y})}),P&&N&&(0,e.jsx)(t.React.Fragment,{children:Object.keys(D).length>1&&(0,e.jsx)(o.SettingSection,{role:"none",children:(0,e.jsx)(o.SettingRow,{flow:"wrap",label:V("selectMapToEditSettings"),children:(0,e.jsx)(i.Select,{className:"w-100",size:"sm",value:C,onChange:H,children:Object.keys(D).map(t=>(0,e.jsx)("option",{value:t,children:D[t]},t))})})})}),M&&N&&(0,e.jsx)(t.React.Fragment,{children:(0,e.jsx)(v,{intl:r,widgetId:s,config:u,activeMapViewId:C,onSettingChange:y})}),!A&&!M&&!N&&(0,e.jsx)(d.EmptyPlaceholder,{isMapMode:!1}),A&&!P&&(0,e.jsx)(d.EmptyPlaceholder,{isMapMode:!0})]})})};function y(e){s.p=e}})(),u})())}}});