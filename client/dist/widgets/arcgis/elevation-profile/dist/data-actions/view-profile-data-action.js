System.register(["jimu-core"],function(e,t){var o={};return{setters:[function(e){o.AbstractDataAction=e.AbstractDataAction,o.AllDataSourceTypes=e.AllDataSourceTypes,o.DataLevel=e.DataLevel,o.DataSourceStatus=e.DataSourceStatus,o.MutableStoreManager=e.MutableStoreManager,o.getAppStore=e.getAppStore}],execute:function(){e((()=>{var e={79244:e=>{"use strict";e.exports=o}},t={};function r(o){var i=t[o];if(void 0!==i)return i.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,r),a.exports}r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p="";var i={};return r.p=window.jimuConfig.baseUrl,(()=>{"use strict";r.r(i),r.d(i,{default:()=>t});var e=r(79244);class t extends e.AbstractDataAction{isSupported(t,o){var r,i,a,l,n,u,s;if(t.length>1)return Promise.resolve(!1);const d=t[0],v=d.dataSource,p=function(){var t,o,r;return window.jimuConfig.isBuilder?null===(o=null===(t=(0,e.getAppStore)().getState())||void 0===t?void 0:t.appStateInBuilder)||void 0===o?void 0:o.appConfig:null===(r=(0,e.getAppStore)().getState())||void 0===r?void 0:r.appConfig}(),c=null===(r=null==p?void 0:p.widgets)||void 0===r?void 0:r[this.widgetId],S=null===(a=null===(i=c.config)||void 0===i?void 0:i.configInfo)||void 0===a?void 0:a[null===(l=null==c?void 0:c.config)||void 0===l?void 0:l.activeDataSource],g=(null==S?void 0:S.hasOwnProperty("advanceOptions"))?null==S?void 0:S.advanceOptions:null===(n=null==S?void 0:S.profileSettings)||void 0===n?void 0:n.isProfileSettingsEnabled;if(!g)return Promise.resolve(!1);if(g&&(null===(u=null==S?void 0:S.profileSettings)||void 0===u?void 0:u.isCustomizeOptionEnabled)&&0===(null===(s=null==S?void 0:S.profileSettings)||void 0===s?void 0:s.layers.length))return Promise.resolve(!1);if(!v||v.getStatus()===e.DataSourceStatus.NotReady)return Promise.resolve(!1);return(null==v?void 0:v.supportSpatialInfo)&&(null==v?void 0:v.supportSpatialInfo())?o!==e.DataLevel.Records||"WEB_MAP"!==v.type&&"WEB_SCENE"!==v.type&&(v.type!==e.AllDataSourceTypes.FeatureLayer&&v.type!==e.AllDataSourceTypes.SubtypeSublayer||"esriGeometryPolyline"!==v.getGeometryType())?Promise.resolve(!1):d.records.length>0&&o===e.DataLevel.Records&&("current"===d.type||"selected"===d.type)?Promise.resolve(!0):Promise.resolve(!1):Promise.resolve(!1)}onExecute(t){const{records:o}=t[0];return e.MutableStoreManager.getInstance().updateStateValue(this.widgetId,"selectedFeatureRecords",o),Promise.resolve(!0)}}})(),i})())}}});