/*! For license information please see arcgis_display-order_node_modules_arcgis_imagery-components_dist_component-8dacb5.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["extensions_widgets_arcgis_display-order_node_modules_arcgis_imagery-components_dist_component-8dacb5"],{2094:(e,t,s)=>{function i(){const e=document.createElement("div");return document.body.appendChild(e),e}s.d(t,{c:()=>i})},6367:(e,t,s)=>{s.r(t),s.d(t,{ArcgisImageryLazyLoadingSelect:()=>c});var i=s(9399),n=s(9722),o=s(5809),r=s(5695),a=s(2094);const l=n.AH`:host{width:100%;overflow:hidden}.lazy-select-button{--calcite-color-foreground-3: var(--calcite-color-border-input)}`;class c extends r.WF{constructor(){super(...arguments),this.refNode=(0,o._)(),this.menuPopOver=(0,o._)(),this._pageSize=500,this._selectedIndex=0,this.handleOutsideClick=e=>{if(this.open&&this.menuPopOver.value){if(this.list.length>1){const t=e.composedPath();if(t.includes(this.el)||t.includes(this.menuPopOver.value))return}this.closeMenuPopOverAndDisconnectHandles()}},this.listSelectionChange=e=>{this.selectedIndex=e.detail.selectedIndex,this.arcgisChange.emit(e.detail),this.closeMenuPopOverAndDisconnectHandles()},this.pageId=0,this.open=!1,this.containerTop=0,this.containerBottom=0,this.removeOldPages=!1,this.showFilterLength=20,this.arcgisChange=(0,r.lh)()}static{this.properties={pageId:16,open:16,list:0,selectedIndex:9,containerTop:9,containerBottom:9,pageSize:9,removeOldPages:5,messages:0,ariaLabeledBy:1,showFilterLength:9}}static{this.styles=l}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){this._selectedIndex=e,this.menuPopOver.value&&(this.menuPopOver.value.selectedIndex=e)}get pageSize(){return this._pageSize}set pageSize(e){this._pageSize=e,this.menuPopOver.value&&(this.menuPopOver.value.pageSize=e)}willUpdate(e){this.hasUpdated&&(e.has("selectedIndex")||e.has("pageSize"))&&this.menuPopOver.value&&(this.menuPopOver.value.selectedIndex=this.selectedIndex,this.menuPopOver.value.pageSize=this.pageSize)}loaded(){this.listenOn(document,"pointerdown",this.handleOutsideClick),this.listenOn(window,"resize",this.handleOutsideClick)}disconnectedCallback(){super.disconnectedCallback(),this.closeMenuPopOverAndDisconnectHandles()}closeMenuPopOverAndDisconnectHandles(){this.disconnectObservers(),this.outsideContainer&&setTimeout(()=>{this.outsideContainer?.remove(),this.outsideContainer=void 0},100),this.open=!1}setupMarginObservers(){if(!this.refNode.value)return;const{top:e,bottom:t}=this.refNode.value.getBoundingClientRect(),{clientHeight:s}=document.body;this.disconnectObservers();const i=`0px 0px ${t-s}px 0px`;this.topObserver=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting||this.closeMenuPopOverAndDisconnectHandles()})},{rootMargin:i});const n=-e+"px 0px 0px 0px";this.bottomObserver=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting||this.closeMenuPopOverAndDisconnectHandles()})},{rootMargin:n}),this.topObserver.observe(this.refNode.value),this.bottomObserver.observe(this.refNode.value)}disconnectObservers(){this.topObserver?.disconnect(),this.bottomObserver?.disconnect(),this.topObserver=void 0,this.bottomObserver=void 0}render(){const{selectedIndex:e,list:t}=this,s=e>=t.length?t[0]:t[e];return n.qy`<calcite-button scale=s width=full appearance=outline-fill .kind=${this.open?"brand":"neutral"} class=${(0,r.CP)(this.open?void 0:"lazy-select-button")} alignment=icon-end-space-between .iconEnd=${this.open?"chevron-up":"chevron-down"} aria-haspopup=true .ariaExpanded=${this.open?"true":"false"} .ariaLabel=${this.ariaLabeledBy?void 0:this.messages?.selectLabel} aria-labelledby=${this.ariaLabeledBy??n.s6} @click=${()=>this.renderSelectMenu()} ${(0,o.K)(this.refNode)}>${s.label}</calcite-button>`}renderSelectMenu(){if(this.outsideContainer)return void this.closeMenuPopOverAndDisconnectHandles();if(!this.refNode.value)return;this.open=!0;const{height:e,top:t}=this.el.getBoundingClientRect(),{width:s,left:i,bottom:r,top:l,height:c}=this.refNode.value.getBoundingClientRect(),d=e-c-(r-t);this.outsideContainer??=(0,a.c)(),(0,n.XX)(n.qy`<arcgis-imagery-lazy-loading-list .popoverProps=${{width:s,left:i,top:l,bottom:r,height:d,containerTop:this.containerTop,containerBottom:this.containerBottom}} class="js-app-flyout" use-fly-out .messages=${this.messages} .showFilter=${this.list.length>=this.showFilterLength} .pageSize=${this.pageSize} .removeOldPages=${this.removeOldPages} .selectedIndex=${this.selectedIndex} .list=${this.list} @arcgisChange=${this.listSelectionChange} ${(0,o.K)(this.menuPopOver)}></arcgis-imagery-lazy-loading-list>`,this.outsideContainer),this.setupMarginObservers()}}(0,i.c)("arcgis-imagery-lazy-loading-select",c)}}]);