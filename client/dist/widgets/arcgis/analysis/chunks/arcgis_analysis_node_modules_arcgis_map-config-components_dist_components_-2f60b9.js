/*! For license information please see arcgis_analysis_node_modules_arcgis_map-config-components_dist_components_-2f60b9.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["extensions_widgets_arcgis_analysis_node_modules_arcgis_map-config-components_dist_components_-2f60b9"],{36797:(e,t,a)=>{a.r(t),a.d(t,{ArcgisMapConfigSmartMappingRegenerateStyle:()=>g});var i=a(73679),r=a(4395),n=a(86863),o=(a(52797),a(54312),a(44345),a(55448),a(34031),a(63438),a(5933),a(28927),a(83368),a(89704),a(5294),a(18423),a(96086),a(91813),a(21255),a(13078),a(21303),a(12627),a(56451),a(31521),a(23054),a(5077),a(23795),a(17902),a(87420),a(30161),a(81734),a(1225)),s=a(65595),c=(a(77462),a(49403),a(10281),a(83930),a(66617),a(10628),a(59640),a(64451),a(6176),a(10454),a(29614),a(94916),a(52554),a(2156),a(4038),a(49851),a(75054),a(15223),a(70169),a(47207),a(70852),a(48103),a(39423),a(85681),a(18444),a(42411),a(9767),a(38218),a(91914),a(86605),a(68196),a(440),a(46547),a(6238),a(7299),a(85643)),l=a(73801);const d=r.AH`.wrapper{margin-bottom:var(--calcite-spacing-sm)}.label{--calcite-label-margin-bottom: var(--calcite-spacing-xxs)}.regenerate-container{width:100%;display:flex}.combobox{width:calc(100% - 32px - var(--calcite-spacing-xs))}.button{margin-left:var(--calcite-spacing-xs)}:dir(rtl){.button{margin-left:0;margin-right:var(--calcite-spacing-xs)}}`;class g extends l.WF{constructor(){super(...arguments),this.smartMappingState=(0,s.u)(),this.comboboxNode=(0,c._)(),this.regenerateButtonNode=(0,c._)(),this.arcgisRendererRegenerate=(0,l.lh)()}static{this.properties={rendererSubtype:1}}static{this.styles=d}async regenerateRenderer(){const{smartMappingState:e,rendererSubtype:t}=this,{layer:a,mapView:i,useFeatureReduction:r}=e,s=(0,o.g)(e).clone();let c=!1;"manual"===s.authoringInfo?.classificationMethod&&(c=!0,s.authoringInfo.classificationMethod="natural-breaks");const l=!r&&"current-extent"===this.comboboxNode.value.value,d=t?"color"===t?["color-variable"]:"size"===t?["size-variable"]:"relationship"===t?["class-breaks"]:[]:["color-variable","size-variable","class-breaks"];try{const t=await n.regenerateRenderer({layer:a,view:i,renderer:s,...l&&{filter:{geometry:i.extent,spatialRelationship:"intersects"}},forBinning:r,includedParts:d}),g=(0,o.p)(t,"reference-size");g&&(g.referenceSizeScale=i.scale),c&&(t.authoringInfo.classificationMethod="manual"),(0,o.a4)(e,t),this.arcgisRendererRegenerate.emit()}catch(e){console.error("Error regenerating renderer:",e)}this.regenerateButtonNode.value.disabled=!1}render(){const{smartMappingState:e}=this,{_messages:t}=e;return r.qy`<div class="wrapper"><calcite-label class="label" layout=inline>${t.regenerate.generateStyleRange}<arcgis-map-config-smart-mapping-action hide-outline .text=${t.regenerate.regenerateTooltip} icon=information></arcgis-map-config-smart-mapping-action></calcite-label><div class="regenerate-container"><calcite-combobox class="combobox" .label=${t.regenerate.styleRange} clear-disabled .placeholder=${t.regenerate.styleRange} selection-mode=single-persist ${(0,c.K)(this.comboboxNode)}><calcite-combobox-item selected value=whole-layer .heading=${t.regenerate.wholeLayer}></calcite-combobox-item><calcite-combobox-item value=current-extent .heading=${t.regenerate.currentExtent}></calcite-combobox-item></calcite-combobox><calcite-button class="button" icon-start=refresh kind=neutral appearance=outline @click=${()=>{this.regenerateButtonNode.value.disabled=!0,this.regenerateRenderer()}} ${(0,c.K)(this.regenerateButtonNode)}></calcite-button></div></div>`}}(0,i.c)("arcgis-map-config-smart-mapping-regenerate-style",g)},65595:(e,t,a)=>{a.d(t,{c:()=>o,u:()=>s});var i=a(20936),r=a(1225),n=(a(54312),a(44345),a(55448),a(52797),a(34031),a(63438),a(5933),a(28927),a(83368),a(89704),a(5294),a(18423),a(96086),a(91813),a(21255),a(13078),a(21303),a(12627),a(56451),a(31521),a(23054),a(5077),a(23795),a(17902),a(87420),a(30161),a(81734),a(75698),a(10628),a(59640),a(64451),a(6176),a(83552));a(77462),a(49403),a(10281),a(83930),a(66617),a(10454),a(29614),a(94916),a(52554),a(2156),a(4038),a(49851),a(75054),a(15223),a(70169),a(47207),a(70852),a(48103),a(39423),a(85681),a(18444),a(42411),a(9767),a(38218),a(91914),a(86605),a(68196),a(440),a(46547),a(6238),a(7299);function o(e){e.selectedFields=[],e.layerFields=void 0,e.fields=void 0,e.hideLayerTitle=!1,e.supportsArcade=!1,e.stringFieldsCount=-1,e.dateFieldsCount=-1,e.numberFieldsCount=-1,e.containsFlow=!0,e.oneFeatureResponseStatus=r.s.MISSING,e.selectedAttribute=void 0,e.selectedAttributeText=void 0,e.selectedTypeValue=void 0,e.selectedValue=void 0,e.lastDefault=void 0,e.lastDefaults=void 0,e.dotColorSelected=void 0,e.backgroundStyleSelected=void 0,e.lastSettings=void 0,e.classedSymbolSelectedIdx=void 0,e.allUniqueValues=void 0,e.useFeatureReduction=void 0,e.symbolStylerConfig={},e.allowTimeSeriesConfiguration=!1,e.rasterInfo=void 0}function s(){const e=(0,n.Gk)(),t=e;e.manager.onLoad(()=>{t.smartMappingState=function(e,t){const a=c.get(e);if(a)return a;const r=(0,i.el)(e,t);return r&&"store"in r?(c.set(e,r.store),r.store):null}(e.el,"arcgis-map-config-smart-mapping")})}const c=new WeakMap}}]);