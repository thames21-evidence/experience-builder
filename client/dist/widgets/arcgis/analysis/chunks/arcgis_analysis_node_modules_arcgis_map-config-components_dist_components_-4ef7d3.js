/*! For license information please see arcgis_analysis_node_modules_arcgis_map-config-components_dist_components_-4ef7d3.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["extensions_widgets_arcgis_analysis_node_modules_arcgis_map-config-components_dist_components_-4ef7d3"],{51513:(t,e,i)=>{i.r(e),i.d(e,{ArcgisMapConfigTimeSliderTimeInterval:()=>c});var s=i(73679),n=i(62893),a=i(66228),l=i(4395),o=i(73801);const r=l.AH`:host{height:100%;width:100%}.time-interval{margin:0 var(--calcite-spacing-xxs);padding:var(--calcite-spacing-xxs)}.time-interval__interval,.time-interval__interval-length{display:flex}.time-interval__interval-length-count{padding-inline-end:var(--calcite-spacing-xxs);width:50%}.time-interval__stops-count,.time-interval__interval-length-unit{width:50%}.time-interval__disabled{--calcite-color-text-1: var(--calcite-color-border-ghost)}`,h="time-interval",u={base:h,intervalLength:`${h}__interval-length`,intervalLengthCount:`${h}__interval-length-count`,intervalLengthUnit:`${h}__interval-length-unit`,stopsCount:`${h}__stops-count`,disabled:`${h}__disabled`};class c extends o.WF{constructor(){super(...arguments),this.timeSliderConfigState=(0,n.u)(),this.useStopsByCount=!1,this._stopsCountIsInvalid=!1,this.arcgisIntervalStopsChange=(0,o.lh)()}static{this.properties={useStopsByCount:16,_stopsByLength:16,_stopsByCount:16,_stopsCountIsInvalid:16,stops:0,fullTimeExtent:0,timeSliderEnabled:5}}static{this.styles=r}get _messages(){return this.timeSliderConfigState._messages}load(){this._initializeIntervalSettings()}willUpdate(t){t.has("fullTimeExtent")&&this._initializeIntervalSettings()}_initializeIntervalSettings(){this._stopsCountIsInvalid=!1,this._defaultStopsByLength=(0,n.f)(this.fullTimeExtent),this._stopsByCount=this.stops?.count?this.stops:void 0,this._stopsByLength=this.stops?.interval?.unit?this.stops?.interval:void 0,this.useStopsByCount=!this._stopsByLength,!this.useStopsByCount&&(!(0,a.i)(this._stopsByLength?.unit)||!(0,a.i)(this._stopsByLength?.value))&&this._updateIntervalLength(this._defaultStopsByLength?.value,this._defaultStopsByLength?.unit)}_onTimeIntervalTypeChange(t){const e=t.target.selectedItem.value;"length"===e&&(this.useStopsByCount=!1),"interval"===e&&(this.useStopsByCount=!0),this._emitIntervalChangedEvent()}_onTimeIntervalCountChange(t){const e=t.target,i=Number.parseInt(e?.value,10);e.value=i.toString(),this._stopsByCount?.count!==i&&(Number.isNaN(i)?this._stopsByCount={count:n.h}:(this._validateStopsCount(i),this._stopsCountIsInvalid||(this._stopsByCount={count:i})),this._emitIntervalChangedEvent())}_onTimeIntervalLengthChange(t){const e=t.target,i=Number.parseInt(e?.value,10);e.value=i.toString();const s=this._stopsByLength?.unit??this._defaultStopsByLength?.unit;this._updateIntervalLength(i,s)}_updateIntervalLength(t,e){this._stopsByLength?.value!==t&&(!Number.isNaN(t)&&e?this._stopsByLength={value:t,unit:e}:this._stopsByLength=this._defaultStopsByLength,this._emitIntervalChangedEvent())}_onTimeIntervalLengthUnitChange(t){const e=t.target.value;if(this._stopsByLength?.unit===e)return;const i=this._stopsByLength?.value??this._defaultStopsByLength?.value;this._stopsByLength={value:i,unit:e},this._emitIntervalChangedEvent()}_emitIntervalChangedEvent(){if(this.useStopsByCount){const t=this._stopsByCount??{count:n.h};this.arcgisIntervalStopsChange.emit(t)}else{const t=this._stopsByLength??this._defaultStopsByLength;this.arcgisIntervalStopsChange.emit({interval:t})}}_validateStopsCount(t){this._stopsCountIsInvalid=t>n.j||t<1}_getStopsCountValidationMessage(){return this._messages.timeInterval.countValidation.replace("${maxCount}",(n.j+1).toString())}render(){return l.qy`<div class=${`${u.base} ${this.timeSliderEnabled?"":u.disabled}`}><calcite-radio-button-group name=time-interval @calciteRadioButtonGroupChange=${this._onTimeIntervalTypeChange}>${this._renderIntervalSettingsByLength()}${this._renderIntervalSettingsByEqualStepsCount()}</calcite-radio-button-group></div>`}_renderIntervalSettingsByLength(){const{_defaultStopsByLength:t,_stopsByLength:e}=this,i=e??t,s=i?.unit,a=(0,n.k)();return l.qy`<calcite-label layout=inline><calcite-radio-button value=length .checked=${!this.useStopsByCount} .disabled=${!this.timeSliderEnabled} data-testId=arcgis-map-config-time-slider-radio-stops-by-length></calcite-radio-button>${this._messages.timeInterval.lengthPerInterval}</calcite-label>${!this.useStopsByCount&&l.qy`<div class=${(0,o.CP)(u.intervalLength)}><calcite-label class=${(0,o.CP)(u.intervalLengthCount)}>${this._messages.timeInterval.count}<calcite-input-number inputmode=decimal min=1 step=1 .value=${i?.value?.toString()} @calciteInputNumberInput=${this._onTimeIntervalLengthChange} .disabled=${!this.timeSliderEnabled} data-testId=arcgis-map-config-time-slider-steps-length></calcite-input-number></calcite-label><calcite-label class=${(0,o.CP)(u.intervalLengthUnit)}>${this._messages.timeInterval.unit}<calcite-select .label=${this._messages.timeInterval.unit} @calciteSelectChange=${this._onTimeIntervalLengthUnitChange} .disabled=${!this.timeSliderEnabled} data-testId=arcgis-map-config-time-slider-steps-length-unit>${this._renderUnitOptions(a,s)}</calcite-select></calcite-label></div>`||""}`}_renderIntervalSettingsByEqualStepsCount(){const{_stopsByCount:t}=this,e=this._stopsCountIsInvalid?this._getStopsCountValidationMessage():void 0;return l.qy`<calcite-label layout=inline><calcite-radio-button value=interval .checked=${this.useStopsByCount} .disabled=${!this.timeSliderEnabled} data-testId=arcgis-map-config-time-slider-radio-stops-by-count></calcite-radio-button>${this._messages.timeInterval.lengthPerStep}</calcite-label>${this.useStopsByCount&&l.qy`<calcite-label class=${(0,o.CP)(u.stopsCount)}>${this._messages.timeInterval.count}<calcite-input-number inputmode=decimal min=1 .max=${n.j} step=1 .value=${t?.count?.toString()??n.h.toString()} @calciteInputNumberInput=${this._onTimeIntervalCountChange} .disabled=${!this.timeSliderEnabled} data-testId=arcgis-map-config-time-slider-count .status=${this._stopsCountIsInvalid?"invalid":"valid"} .validationMessage=${e} .validationIcon=${this._stopsCountIsInvalid?"exclamation-mark-triangle":void 0}></calcite-input-number></calcite-label>`||""}`}_renderUnitOptions(t,e){return t?.map(t=>l.qy`<calcite-option .value=${t} .selected=${t===e} .disabled=${!this.timeSliderEnabled}>${this._messages.timeInterval.timeUnits["months-hours"===t?"hours":t]}</calcite-option>`)}}(0,s.c)("arcgis-map-config-time-slider-time-interval",c)}}]);