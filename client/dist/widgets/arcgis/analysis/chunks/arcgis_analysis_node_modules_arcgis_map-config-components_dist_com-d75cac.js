/*! For license information please see arcgis_analysis_node_modules_arcgis_map-config-components_dist_com-d75cac.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_map-config-components_dist_com-d75cac"],{4265:(e,t,a)=>{a.d(t,{a:()=>s,d:()=>i,t:()=>n});const i=(e,t)=>{let a,i="idle";const s=async(...s)=>await new Promise(n=>{switch(i){case"flushed":i="idle",a?(clearTimeout(a),n(e(...s))):n(null);break;case"invoked":clearTimeout(a),i="idle",n(e(...s));break;case"cancelled":clearTimeout(a),i="idle",n(null);break;default:a&&clearTimeout(a),i="pending",a=setTimeout(()=>{i="idle",n(e(...s))},t)}});return s.flush=async function(...e){return i="flushed",await s(...e)},s.invoke=async function(...e){return i="invoked",await s(...e)},s.cancel=async function(...e){return i="cancelled",await s(...e)},s.getStatus=function(){return i},s},s=(e,t)=>{let a;return async(...i)=>await new Promise(s=>{a||(a=setTimeout(()=>{clearTimeout(a),a=void 0,s(e(...i))},t))})};function n(e){return new Promise(t=>setTimeout(t,e))}},65595:(e,t,a)=>{a.d(t,{c:()=>r,u:()=>l});var i=a(20936),s=a(1225),n=(a(54312),a(44345),a(55448),a(52797),a(34031),a(63438),a(5933),a(28927),a(83368),a(89704),a(5294),a(18423),a(96086),a(91813),a(21255),a(13078),a(21303),a(12627),a(56451),a(31521),a(23054),a(5077),a(23795),a(17902),a(87420),a(30161),a(81734),a(75698),a(10628),a(59640),a(64451),a(6176),a(83552));a(77462),a(49403),a(10281),a(83930),a(66617),a(10454),a(29614),a(94916),a(52554),a(2156),a(4038),a(49851),a(75054),a(15223),a(70169),a(47207),a(70852),a(48103),a(39423),a(85681),a(18444),a(42411),a(9767),a(38218),a(91914),a(86605),a(68196),a(440),a(46547),a(6238),a(7299);function r(e){e.selectedFields=[],e.layerFields=void 0,e.fields=void 0,e.hideLayerTitle=!1,e.supportsArcade=!1,e.stringFieldsCount=-1,e.dateFieldsCount=-1,e.numberFieldsCount=-1,e.containsFlow=!0,e.oneFeatureResponseStatus=s.s.MISSING,e.selectedAttribute=void 0,e.selectedAttributeText=void 0,e.selectedTypeValue=void 0,e.selectedValue=void 0,e.lastDefault=void 0,e.lastDefaults=void 0,e.dotColorSelected=void 0,e.backgroundStyleSelected=void 0,e.lastSettings=void 0,e.classedSymbolSelectedIdx=void 0,e.allUniqueValues=void 0,e.useFeatureReduction=void 0,e.symbolStylerConfig={},e.allowTimeSeriesConfiguration=!1,e.rasterInfo=void 0}function l(){const e=(0,n.Gk)(),t=e;e.manager.onLoad(()=>{t.smartMappingState=function(e,t){const a=c.get(e);if(a)return a;const s=(0,i.el)(e,t);return s&&"store"in s?(c.set(e,s.store),s.store):null}(e.el,"arcgis-map-config-smart-mapping")})}const c=new WeakMap},66922:(e,t,a)=>{a.r(t),a.d(t,{ArcgisMapConfigSmartMappingPanelsRasterRgb:()=>h});var i=a(73679),s=a(4395),n=a(5294),r=a(1225),l=(a(54312),a(44345),a(55448),a(52797),a(34031),a(63438),a(5933),a(28927),a(83368),a(75518)),c=(a(89704),a(18423),a(96086),a(91813),a(21255),a(13078),a(21303),a(12627),a(56451),a(23054),a(5077),a(23795),a(17902),a(87420),a(30161),a(81734),a(75698),a(10628),a(59640),a(64451),a(6176),a(65595)),d=(a(77462),a(49403),a(10281),a(83930),a(66617),a(10454),a(29614),a(94916),a(52554),a(2156),a(4038),a(49851),a(75054),a(15223),a(70169),a(47207),a(70852),a(48103),a(39423),a(85681),a(18444),a(42411),a(9767),a(38218),a(86605),a(68196),a(440),a(46547),a(6238),a(7299),a(4265)),o=a(85643),m=a(73801);const u=s.AH`:host{width:100%;display:none}:host([selected]){display:flex}.flow-item{height:100%}.rgb-block{overflow-x:hidden}.percent-clip-section{display:flex;justify-content:space-between}.percent-clip-section-input{width:48%;display:flex;flex-flow:column;justify-content:space-between}.individual-gamma-label,.range-adjustment-label{font-weight:var(--calcite-font-weight-medium)}.individual-gamma-selection{display:flex;justify-content:space-between}.individual-gamma-selection-value{display:flex;flex-flow:column;justify-content:space-between;width:30%}.footer-buttons{width:100%;display:flex;flex-direction:column;gap:var(--calcite-spacing-sm)}`;class h extends m.WF{constructor(){super(...arguments),this.flowItemNode=(0,o._)(),this.manageStyleButtonNode=(0,o._)(),this.registerStyleButtonNode=(0,o._)(),this.statisticsControlNode=(0,o._)(),this.disconnected=!1,this.smartMappingState=(0,c.u)(),this.menuOpen=!1,this.showBackButton=!1,this.selected=!1,this.arcgisSmartMappingPanelsRasterRgbBackClick=(0,m.lh)(),this.arcgisSmartMappingPanelsRasterRgbClose=(0,m.lh)(),this.arcgisSmartMappingPanelsRasterRgbError=(0,m.lh)()}static{this.properties={menuOpen:5,showBackButton:5,selected:7,beforeBack:0}}static{this.styles=u}async setFocus(){await(this.flowItemNode.value?.setFocus())}async load(){const{smartMappingState:e}=this,{layer:t,rasterInfo:a}=e,i=t,{statistics:s}=a,l=(0,r.am)(e);l&&!l.bandIds?.length?l.bandIds=await(0,r.an)(e):i.bandIds?.length||(i.bandIds=await(0,r.an)(e)),this.originalRendererObj=n.clone((0,r.T)(this.smartMappingState)),this.originalEffect=i.effect??void 0,this.originalBandCombination=(0,r.al)(e),this.originalStatistics=n.clone(s),this.currentStatistics=[];for(let e=0;e<a.bandCount;e++)if(l?l.bandIds?.includes(e):i.bandIds?.includes(e)){const t=l?l.bandIds.indexOf(e):i.bandIds.indexOf(e);let a;this.originalRendererObj?.customStatistics?.[t]&&(a=n.clone(this.originalRendererObj.customStatistics[t])),a?this.currentStatistics.push(a):this.originalStatistics?.[e]?this.currentStatistics.push(n.clone(this.originalStatistics[e])):this.currentStatistics.push({min:0,max:255,avg:0,stddev:1})}else this.originalStatistics?.[e]?this.currentStatistics.push(n.clone(this.originalStatistics[e])):this.currentStatistics.push({min:0,max:255,avg:0,stddev:1});this.rendererStatisticsSelection=l?l.bandIds[0]:i.bandIds[0],this.setGammaDisplay(),this.percentLabelFlip=(0,r.ao)(this.smartMappingState)}async loaded(){const e=(0,r.T)(this.smartMappingState),{stretchType:t=r.ap.STRETCH_TYPE}=e||{},a=t===r.aq.PERCENT_CLIP,i=t===r.aq.NONE,{dynamicRangeAdjustment:s}=e;!s&&!(i||a)&&e.customStatistics?.[0]&&this.updateStatisticsDisplay(e.customStatistics[0]),requestAnimationFrame(async()=>await(this.flowItemNode.value?.setFocus()))}disconnectedCallback(){super.disconnectedCallback(),this.disconnected=!0,this.clearHandles()}minInputRefHandler(e){e&&(this.minNode=e)}maxInputRefHandler(e){e&&(this.maxNode=e)}meanInputRefHandler(e){e&&(this.avgNode=e)}stddevInputRefHandler(e){e&&(this.stddevNode=e)}handleDone(){this.arcgisSmartMappingPanelsRasterRgbClose.emit("save")}handleCancel(){const{originalRendererObj:e,originalEffect:t,originalBandCombination:a,smartMappingState:i}=this,{layer:s}=i,n=s;n.effect=t;const l=(0,r.am)(i);l?l.bandIds=a:n.bandIds=a,(0,r.ag)(i,e),this.arcgisSmartMappingPanelsRasterRgbClose.emit("cancel")}getCurrentBandSelection(){const{smartMappingState:e}=this,{layer:t}=e,a=t,i=(0,r.am)(e);return(i?i.bandIds??[]:a.bandIds??[])?.indexOf(this.rendererStatisticsSelection)??0}setGammaDisplay(){const{smartMappingState:e}=this,t=(0,r.T)(e),{gamma:a=[r.ap.GAMMA]}=t||{},i=t.gamma[0],s=a[r.ar.RED]??i,n=a[r.ar.GREEN]??i,l=a[r.ar.BLUE]??i;this.changeIndividualGamma=s!==n||s!==l||n!==l}handlePercentOrStddevChange(e,t){const{smartMappingState:a}=this,i=(0,r.T)(a);let s=Number.parseFloat(e.value);Number.isNaN(s)||s<e.min?s=e.min:s>e.max&&(s=e.max),s=Number.parseFloat(s.toFixed(1)),e.value=`${s}`,"min"===t?i.minPercent=s:"max"===t?i.maxPercent=s:i.numberOfStandardDeviations=s,(0,r.ag)(a)}handleGammaToggle(e){const{smartMappingState:t}=this,a=(0,r.T)(t);this.changeIndividualGamma=!this.changeIndividualGamma,e.target.checked||(a.gamma=new Array(3).fill(a.gamma[0]),a.useGamma=!0),(0,r.ag)(t),this.requestUpdate()}handleIndividualGammaChange(e,t){const{smartMappingState:a}=this,i=(0,r.T)(a);let s=Number.parseFloat(e.value);Number.isNaN(s)||s<e.min?s=e.min:s>e.max&&(s=e.max),s=Number.parseFloat(s.toFixed(1)),e.value=`${s}`,"red"===t?i.gamma[r.ar.RED]=s:"green"===t?i.gamma[r.ar.GREEN]=s:i.gamma[r.ar.BLUE]=s,i.useGamma=!0,(0,r.ag)(a)}handleDRAToggle(e){const{smartMappingState:t}=this,{layer:a}=t,i=a,s=(0,r.T)(t),n=(0,r.am)(t);if(s.dynamicRangeAdjustment=e,e)s.customStatistics=[];else{const e=n?n.bandIds:i.bandIds,t=this.originalStatistics?.length?e.map(e=>{const{min:t,max:a,avg:i,stddev:s}=this.originalStatistics[e];return[t,a,i,s]}):[],a=e.map(e=>{const t=this.currentStatistics[e];return{min:t.min??0,max:t.max??255,avg:t.avg??0,stddev:t.stddev??1}});s.customStatistics=JSON.stringify(a)===JSON.stringify(t)?[]:a}(0,r.ag)(t)}handleStatisticsChange(e,t,a){const{smartMappingState:i}=this,{layer:s}=i,n=s,l=(0,r.T)(i),c=(0,r.am)(i),d=c?c.bandIds:n.bandIds,o=d[t];this.currentStatistics[o][a]=e,l.customStatistics=d.map(e=>{const t=this.currentStatistics[e];return{min:t.min??0,max:t.max??255,avg:t.avg??0,stddev:t.stddev??1}}),(0,r.ag)(i)}updateStatisticsDisplay(e){const{min:t=0,max:a=255,avg:i=0,stddev:s=1}=e??{};this.minNode&&(this.minNode.value=`${(0,r.V)(t)?this.round(t):0}`,this.maxNode.value=`${(0,r.V)(a)?this.round(a):255}`,this.avgNode.value=`${(0,r.V)(i)?this.round(i):0}`,this.stddevNode.value=`${(0,r.V)(s)?this.round(s):1}`)}round(e){return Math.round(1e3*e)/1e3}clearHandles(){clearTimeout(this.stddevHandle),clearTimeout(this.percentClipHandle),clearTimeout(this.individualGammaHandle),clearTimeout(this.minStatisticHandle),clearTimeout(this.maxStatisticHandle),clearTimeout(this.avgStatisticHandle),clearTimeout(this.stddevStatisticHandle)}render(){const{hideLayerTitle:e,layer:t,_messages:a}=this.smartMappingState,i=t.title;return this.el.classList.add("calcite-match-height"),s.qy`<calcite-flow-item .heading=${a.panels.rgb.styleOptions} .description=${e?void 0:i} class="flow-item" .closable=${(0,r.aa)(this.el)} .showBackButton=${this.showBackButton} .selected=${this.selected} @calciteFlowItemClose=${this.handleDone} @calciteFlowItemBack=${()=>this.arcgisSmartMappingPanelsRasterRgbBackClick.emit()} ${(0,o.K)(this.flowItemNode)}>${this.renderVisualization()}${this.renderFooterButtons()}</calcite-flow-item>`}renderVisualization(){const{smartMappingState:e}=this,{_messages:t}=e,a=(0,r.ah)(e,t.panels.rgb.rgb);return s.qy`<calcite-block class="rgb-block" .heading=${a} expanded>${this.renderManageStyleButton()}${this.renderRgbBandSelectors()}${this.renderStretchTypeSelector()}${this.renderStandardDeviationSection()}${this.renderPercentClipSection()}${this.renderGammaBlock()}${this.renderIndividualGammaToggle()}${this.renderRangeAdjustmentToggle()}${this.renderStatistics()}</calcite-block>`}renderManageStyleButton(){return s.qy`<arcgis-map-config-smart-mapping-raster-preset-renderer-button mode=edit .originalRasterProps=${{originalRendererObj:this.originalRendererObj,originalEffect:this.originalEffect,originalBandCombination:this.originalBandCombination}} @arcgisDone=${e=>{"delete"!==e.detail?this.requestUpdate():this.arcgisSmartMappingPanelsRasterRgbBackClick.emit("delete")}} ${(0,o.K)(this.manageStyleButtonNode)}></arcgis-map-config-smart-mapping-raster-preset-renderer-button>`}renderRgbBandSelectors(){const{smartMappingState:e}=this,{layer:t,rasterInfo:a,_messages:i}=e,n=t,{bandInfos:l}=a,c=l.map(e=>e.name),{red:d,green:o,blue:m}=i.panels.rgb;return[d,o,m].map((t,a)=>s.qy`<calcite-label>${t}<calcite-combobox overlay-positioning=fixed .label=${t} clear-disabled selection-mode=single-persist @calciteComboboxChange=${i=>{const s=i.target,l=(0,r.T)(e),d=(0,r.am)(e),o=d?[...d.bandIds]:[...n.bandIds];o[a]=c.indexOf(s.value),d?d.bandIds=o:n.bandIds=o;const m=d?d.bandIds[a]:n.bandIds[a],u=this.currentStatistics?.[m];l.customStatistics?.length&&u&&(l.customStatistics[a]={...u}),(!this.statisticsControlNode.value||t===this.statisticsControlNode.value.value)&&(this.rendererStatisticsSelection=m,this.updateStatisticsDisplay({...u})),(0,r.ag)(e)}}>${c.map((e,t)=>this.renderBandOptions(e,t,a))}</calcite-combobox></calcite-label>`)}renderBandOptions(e,t,a){const{smartMappingState:i}=this,{layer:n}=i,l=n,c=(0,r.am)(i),d=c?c.bandIds[a]:l.bandIds[a];return s.qy`<calcite-combobox-item .heading=${e} .value=${e} .selected=${d===t}></calcite-combobox-item>`}renderStretchTypeSelector(){const{smartMappingState:e}=this,{layer:t}=e,a=t;return s.qy`<arcgis-map-config-smart-mapping-stretch-type-button @arcgisSmartMappingStretchTypeButtonBeforeOpen=${()=>(0,r.f)()} @arcgisSmartMappingStretchTypeButtonChange=${t=>{const i=t.target;(0,l.r)((0,r.as)(e,{stretchType:t.detail}),this.flowItemNode.value).then(s=>{const n=(0,r.am)(e);"none"===t.detail&&(s.renderer.dynamicRangeAdjustment=!1),this.rendererStatisticsSelection=n?n.bandIds[0]:a.bandIds[0],(0,r.ag)(e,s.renderer),this.requestUpdate(),i.manager.component.requestUpdate()},e=>this.arcgisSmartMappingPanelsRasterRgbError.emit(e))}}></arcgis-map-config-smart-mapping-stretch-type-button>`}renderStandardDeviationSection(){const{smartMappingState:e}=this,{_messages:t}=e,a=(0,r.T)(e),{stretchType:i=r.ap.STRETCH_TYPE}=a||{};if(i!==r.aq.STANDARD_DEVIATION)return"";let{numberOfStandardDeviations:n}=a||{};return(!(0,r.V)(n)||0===n)&&(n=r.ap.STD_DEV),s.qy`<calcite-label>${t.panels.rgb.stddev}<calcite-input-number .label=${t.panels.rgb.stddev} scale=s inputmode=decimal min=1 max=100 step=0.1 .value=${`${n}`} @calciteInputNumberInput=${e=>{clearTimeout(this.stddevHandle);const t=e.target,a=Number.parseFloat(t.value);t.value&&a>=t.min&&a<=t.max?this.handlePercentOrStddevChange(t,"stddev"):this.stddevHandle=setTimeout(()=>this.handlePercentOrStddevChange(t,"stddev"),3e3)}}></calcite-input-number></calcite-label>`}renderPercentClipSection(){const{smartMappingState:e}=this,t=(0,r.T)(e),{stretchType:a=r.ap.STRETCH_TYPE}=t||{};if(a!==r.aq.PERCENT_CLIP)return"";let{minPercent:i,maxPercent:n}=t||{};return(!(0,r.V)(i)||i<=0||i>=100)&&(i=r.ap.MIN_PERCENT),(!(0,r.V)(n)||n<=0||n>=100)&&(n=r.ap.MAX_PERCENT),i=Number.parseFloat(i.toFixed(1)),n=Number.parseFloat(n.toFixed(1)),t.minPercent=i,t.maxPercent=n,(0,r.ag)(e),s.qy`<div class="percent-clip-section">${this.renderPercentClipSectionInput("min",i)}${this.renderPercentClipSectionInput("max",n)}</div>`}renderPercentClipSectionInput(e,t){const{percentLabelFlip:a,smartMappingState:i}=this,{_messages:n}=i;return s.qy`<div class="percent-clip-section-input"><calcite-label>${n.panels.rgb[e]}<calcite-input-number .label=${n.panels.rgb[e]} scale=s inputmode=decimal min=0.1 max=99.9 step=0.1 .prefixText=${a?"%":void 0} .suffixText=${a?void 0:"%"} .value=${`${t}`} @calciteInputNumberInput=${t=>{clearTimeout(this.percentClipHandle);const a=t.target,i=Number.parseFloat(a.value);a.value&&i>=a.min&&i<=a.max?this.handlePercentOrStddevChange(a,e):this.percentClipHandle=setTimeout(()=>this.handlePercentOrStddevChange(a,e),3e3)}}></calcite-input-number></calcite-label></div>`}renderIndividualGammaToggle(){const{_messages:e}=this.smartMappingState;return s.qy`<calcite-label layout=inline-space-between class="individual-gamma-label">${e.panels.rgb.individualGamma}<calcite-switch .checked=${this.changeIndividualGamma} @calciteSwitchChange=${this.handleGammaToggle}></calcite-switch></calcite-label>`}renderGammaBlock(){const{smartMappingState:e}=this,{_messages:t}=e,a=(0,r.T)(e),{gamma:i=[r.ap.GAMMA]}=a||{},n=a.gamma[0],l=i[r.ar.RED]??n,c=i[r.ar.GREEN]??n,d=i[r.ar.BLUE]??n;return s.qy`<calcite-label>${t.panels.rgb.gamma}${this.changeIndividualGamma?s.qy`<div class="individual-gamma-selection">${this.renderIndividualGamma(l,"red")}${this.renderIndividualGamma(c,"green")}${this.renderIndividualGamma(d,"blue")}</div>`:s.qy`<arcgis-map-config-smart-mapping-gamma-slider .gamma=${i[0]} renderer-type=raster-rgb></arcgis-map-config-smart-mapping-gamma-slider>`}</calcite-label>`}renderIndividualGamma(e,t){const{_messages:a}=this.smartMappingState;return s.qy`<div class="individual-gamma-selection-value"><calcite-label>${a.panels.rgb[t]}<calcite-input-number .label=${a.panels.rgb[t]} number-button-type=none scale=s .value=${`${e}`} inputmode=decimal min=0.1 max=10 step=0.1 @calciteInputNumberInput=${e=>{clearTimeout(this.individualGammaHandle);const a=e.target,i=Number.parseFloat(a.value);a.value&&i>=a.min&&i<=a.max?this.handleIndividualGammaChange(a,t):this.individualGammaHandle=setTimeout(()=>this.handleIndividualGammaChange(a,t),3e3)}}></calcite-input-number></calcite-label></div>`}renderRangeAdjustmentToggle(){const{smartMappingState:e}=this,{_messages:t}=e,a=(0,r.T)(e),{dynamicRangeAdjustment:i}=a,{stretchType:n=r.ap.STRETCH_TYPE}=a||{};return n===r.aq.NONE?"":s.qy`<calcite-label layout=inline-space-between class="range-adjustment-label">${t.panels.rgb.dynamicRangeAdjustment}<calcite-switch .checked=${i} @calciteSwitchChange=${e=>{const t=e.target.checked;this.handleDRAToggle(t),this.requestUpdate()}}></calcite-switch></calcite-label>`}renderStatistics(){const{smartMappingState:e}=this,{layer:t,_messages:a}=e,i=t,n=(0,r.T)(e),l=(0,r.am)(e),c=l?l.bandIds[0]:i.bandIds[0],d=l?l.bandIds[1]:i.bandIds[1],m=l?l.bandIds[2]:i.bandIds[2],{stretchType:u=r.ap.STRETCH_TYPE}=n||{},h=u===r.aq.PERCENT_CLIP,p=u===r.aq.NONE,{dynamicRangeAdjustment:g}=n;return g||p||h?"":s.qy`<calcite-label>${a.panels.rgb.statistics}<calcite-segmented-control scale=s width=full @calciteSegmentedControlChange=${e=>{const{smartMappingState:t}=this,s=(0,r.am)(t),n=e.target.value,l=n===a.panels.rgb.red?s?s.bandIds[0]:i.bandIds[0]:n===a.panels.rgb.green?s?s.bandIds[1]:i.bandIds[1]:s?s.bandIds[2]:i.bandIds[2],c=this.currentStatistics[l];this.rendererStatisticsSelection=l,this.updateStatisticsDisplay(c)}} ${(0,o.K)(this.statisticsControlNode)}><calcite-segmented-control-item .value=${a.panels.rgb.red} .checked=${this.rendererStatisticsSelection===c}>${a.panels.rgb.red}</calcite-segmented-control-item><calcite-segmented-control-item .value=${a.panels.rgb.green} .checked=${this.rendererStatisticsSelection===d&&this.rendererStatisticsSelection!==c}>${a.panels.rgb.green}</calcite-segmented-control-item><calcite-segmented-control-item .value=${a.panels.rgb.blue} .checked=${this.rendererStatisticsSelection===m&&this.rendererStatisticsSelection!==c&&this.rendererStatisticsSelection!==d}>${a.panels.rgb.blue}</calcite-segmented-control-item></calcite-segmented-control></calcite-label>${this.renderStatisticsDisplay()}`}renderStatisticsDisplay(){const{smartMappingState:e}=this,{rasterInfo:t,_messages:a}=e,i=(0,r.T)(e),{stretchType:n=r.ap.STRETCH_TYPE}=i||{},l=n===r.aq.PERCENT_CLIP,c=n===r.aq.STANDARD_DEVIATION,m=null!==t.statistics,u=this.rendererStatisticsSelection??0,h=(!m||l)&&!c,{min:p=0,max:g=255,avg:b=0,stddev:S=1}=this.currentStatistics[u??0]??{};return s.qy`<calcite-label>${a.panels.rgb.min}<calcite-input-number .label=${a.panels.rgb.min} scale=s inputmode=decimal step=0.1 number-button-type=none .value=${`${(0,r.V)(p)?this.round(p):0}`} @calciteInputNumberInput=${(0,d.d)(()=>{if(this.disconnected)return;clearTimeout(this.minStatisticHandle);const e=Number.parseFloat(this.minNode.value),t=this.getCurrentBandSelection();!Number.isNaN(e)&&e<=this.currentStatistics[t].max?(this.minNode.value=`${e}`,this.handleStatisticsChange(e,t,"min")):this.minStatisticHandle=setTimeout(()=>{const e=this.currentStatistics[t].min;this.minNode.value=`${this.round(e)}`},3e3)},300)} ${(0,o.K)(this.minInputRefHandler)}></calcite-input-number></calcite-label><calcite-label>${a.panels.rgb.max}<calcite-input-number .label=${a.panels.rgb.max} scale=s inputmode=decimal step=0.1 number-button-type=none .value=${`${(0,r.V)(g)?this.round(g):1}`} @calciteInputNumberInput=${(0,d.d)(()=>{if(this.disconnected)return;clearTimeout(this.maxStatisticHandle);const e=Number.parseFloat(this.maxNode.value),t=this.getCurrentBandSelection();!Number.isNaN(e)&&e>=this.currentStatistics[t].min?(this.maxNode.value=`${e}`,this.handleStatisticsChange(e,t,"max")):this.maxStatisticHandle=setTimeout(()=>{const e=this.currentStatistics[t].max;this.maxNode.value=`${this.round(e)}`},3e3)},300)} ${(0,o.K)(this.maxInputRefHandler)}></calcite-input-number></calcite-label><calcite-label>${a.panels.rgb.mean}<calcite-input-number .label=${a.panels.rgb.mean} scale=s inputmode=decimal step=0.1 .disabled=${h} number-button-type=none .value=${`${(0,r.V)(b)?this.round(b):2}`} @calciteInputNumberInput=${(0,d.d)(()=>{if(this.disconnected)return;clearTimeout(this.avgStatisticHandle);const e=Number.parseFloat(this.avgNode.value),t=this.getCurrentBandSelection();Number.isNaN(e)?this.avgStatisticHandle=setTimeout(()=>{const e=this.currentStatistics[t].avg;this.avgNode.value=`${this.round(e)}`},3e3):(this.avgNode.value=`${e}`,this.handleStatisticsChange(e,t,"avg"))},300)} ${(0,o.K)(this.meanInputRefHandler)}></calcite-input-number></calcite-label><calcite-label>${a.panels.rgb.stddev}<calcite-input-number .label=${a.panels.rgb.stddev} scale=s inputmode=decimal step=0.1 .disabled=${h} number-button-type=none .value=${`${(0,r.V)(S)?this.round(S):3}`} @calciteInputNumberInput=${(0,d.d)(()=>{if(this.disconnected)return;clearTimeout(this.stddevStatisticHandle);const e=Number.parseFloat(this.stddevNode.value),t=this.getCurrentBandSelection();Number.isNaN(e)?this.stddevStatisticHandle=setTimeout(()=>{const e=this.currentStatistics[t].stddev;this.stddevNode.value=`${this.round(e)}`},3e3):(this.stddevNode.value=`${e}`,this.handleStatisticsChange(e,t,"stddev"))},300)} ${(0,o.K)(this.stddevInputRefHandler)}></calcite-input-number></calcite-label>`}renderFooterButtons(){return s.qy`<div class="footer-buttons" slot=footer>${this.renderDoneButton()}${this.renderRegisterStyleButton()}${this.renderCancelButton()}</div>`}renderRegisterStyleButton(){return s.qy`<arcgis-map-config-smart-mapping-raster-preset-renderer-button mode=register @arcgisDone=${e=>{const{smartMappingState:t}=this;if(this.requestUpdate(),"register"===e.detail){const e=(0,r.T)(t);this.originalRendererObj=n.clone(e),this.originalBandCombination=(0,r.al)(t)}this.manageStyleButtonNode.value&&this.manageStyleButtonNode.value.manager.component.requestUpdate(),this.registerStyleButtonNode.value.manager.component.requestUpdate()}} ${(0,o.K)(this.registerStyleButtonNode)}></arcgis-map-config-smart-mapping-raster-preset-renderer-button>`}renderDoneButton(){const{_messages:e}=this.smartMappingState;return s.qy`<calcite-button .label=${e.done} @click=${this.handleDone} appearance=solid width=full>${e.done}</calcite-button>`}renderCancelButton(){const{_messages:e}=this.smartMappingState;return s.qy`<calcite-button .label=${e.cancel} @click=${this.handleCancel} appearance=outline-fill width=full>${e.cancel}</calcite-button>`}}(0,i.c)("arcgis-map-config-smart-mapping-panels-raster-rgb",h)},75518:(e,t,a)=>{let i,s;function n(e){e.loading=!1}async function r(e,t){return function(e){e.loading=!0,s=!1,i&&clearTimeout(i),i=setTimeout(()=>{n(e),s=!0},6e4)}(t),await e.then(e=>{if(n(t),s)throw new Error("timeout");return e}).catch(e=>{throw n(t),e})}a.d(t,{r:()=>r})}}]);