/*! For license information please see arcgis_analysis_node_modules_arcgis_map-config-components_dist_chu-107889.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_map-config-components_dist_chu-107889"],{17581:(e,n,i)=>{i.d(n,{a:()=>m,b:()=>z,c:()=>y,d:()=>c,e:()=>v,f:()=>d,g:()=>f,h:()=>u,i:()=>h,j:()=>I});var l=i(56451),s=i(1225),o=(i(54312),i(44345),i(55448),i(52797),i(34031),i(63438),i(5933),i(28927),i(83368),i(89704),i(5294),i(18423),i(96086),i(91813),i(21255),i(13078),i(21303),i(12627),i(31521),i(23054),i(5077),i(23795),i(17902),i(87420),i(30161),i(81734),i(83552),i(77462),i(49403),i(66617),i(10628),i(59640),i(64451),i(6176),i(10454),i(28973)),a=i(87735),t=(i(2156),i(4038),i(49851),i(75054),i(15223),i(70169),i(29614),i(47207),i(70852),i(48103),i(39423),i(85681),i(18444)),r=(i(42411),i(9767),i(38218),i(91914),i(86605),i(68196),i(440),i(46547),i(6238),i(7299),i(92264));async function u(e,n){const i=(0,s.g)(e),l=i.authoringInfo,o=(0,s.d)(e),t=(n=n||{}).fieldInfos.length>1?n.fieldInfos[1]:n.fieldInfos[0];return(0,a.s)(e,{fieldInfos:[t]})&&["color-size","color-age-size","type-size"].includes(o)&&l&&"above-and-below"!==l?.univariateTheme&&(0,s.c)((0,s.g)(e),"size")?await g(e,(0,s.g)(e),n):((0,s.p)(i,"spike")?.spikeSymbolStyle?.includes("gradient")&&(n.spikeOptions={...n.spikeOptions,symbolStyle:"triangle-solid-fill-open-outline"}),await(0,a.f)(e,{...n,fieldInfos:[t]}).then(async i=>await g(e,i.renderer,n)))}async function f(e,n){const i=(0,s.g)(e).authoringInfo,l=(0,s.d)(e),o=(n=n||{}).fieldInfos.length>1?n.fieldInfos[1]:n.fieldInfos[0];return(0,a.s)(e,{fieldInfos:[o]})&&["color-size","color-age-size","type-size"].includes(l)&&i&&"above-and-below"!==i?.univariateTheme&&(0,s.c)((0,s.g)(e),"size")?await p(e,(0,s.g)(e),n):await(0,a.f)(e,{...n,fieldInfos:[o]}).then(async i=>await p(e,i.renderer,n))}async function d(e,n){const i=(0,s.g)(e).authoringInfo,l=(0,s.d)(e),o=(n=n||{}).fieldInfos.length>1?n.fieldInfos[1]:n.fieldInfos[0];return(0,a.s)(e,{fieldInfos:[o]})&&["color-size-age","type-size-age"].includes(l)&&i&&"above-and-below"!==i?.univariateTheme&&(0,s.c)((0,s.g)(e),"size")?await g(e,(0,s.g)(e),n):await(0,a.g)(e,{...n,fieldInfos:[o]}).then(async i=>await g(e,i.renderer,n))}async function c(e,n,i){return n=n||{},await(0,a.d)(e,{...n,fieldInfos:n.fieldInfos?n.fieldInfos.length>1?[n.fieldInfos[1]]:[n.fieldInfos[0]]:null}).then(async l=>await(0,o.a)(e,{...n,fieldInfos:n.fieldInfos?[n.fieldInfos[0]]:null}).then(n=>(b(e,n.renderer,l.renderer),n.backgroundFillSymbol=(0,s.g)(e).backgroundFillSymbol,"size"===i&&(n.statistics=l.statistics),n)))}async function y(e,n,i){return n=n||{},await(0,a.d)(e,{...n,fieldInfos:n.fieldInfos?n.fieldInfos.length>1?[n.fieldInfos[1]]:[n.fieldInfos[0]]:null}).then(async l=>await(0,o.b)(e,{...n,fieldInfos:n.fieldInfos?[n.fieldInfos[0]]:null}).then(n=>(b(e,n.renderer,l.renderer),n.backgroundFillSymbol=(0,s.g)(e).backgroundFillSymbol,"size"===i&&(n.statistics=l.statistics),n)))}async function m(e,n,i){return n=n||{},await(0,a.e)(e,{...n,fieldInfos:n.fieldInfos?n.fieldInfos.length>1?[n.fieldInfos[1]]:[n.fieldInfos[0]]:null}).then(async l=>await(0,o.a)(e,{...n,fieldInfos:n.fieldInfos?[n.fieldInfos[0]]:null}).then(n=>(b(e,n.renderer,l.renderer),n.backgroundFillSymbol=(0,s.g)(e).backgroundFillSymbol,"size"===i&&(n.statistics=l.statistics),n)))}async function g(e,n,i){const l=(0,s.g)(e),a=l.authoringInfo,t=(0,s.d)(e),r=(0,s.p)(l,"color");if((0,s.c)(l,"color")&&(0,o.s)(e,i)&&["color","color-size","color-size-age"].includes(t)&&a&&"above-and-below"!==a?.univariateTheme&&!["centered-on","extremes"].includes(r.theme)){const l=(0,s.g)(e).clone();if(b(e,l,n),2===i.fieldInfos.length){const e=l.authoringInfo;e.type=void 0,e.univariateTheme=void 0,e.univariateSymbolStyle=void 0}return{renderer:l}}return await(0,o.d)(e,{...i,fieldInfos:[i.fieldInfos[0]]}).then(i=>(b(e,i.renderer,n),i))}async function p(e,n,i){const l=(0,s.g)(e).authoringInfo,a=(0,s.d)(e);if((0,o.s)(e,i)&&["color-age","color-age-size"].includes(a)&&l&&"above-and-below"!==l?.univariateTheme){const i=(0,s.g)(e).clone();return b(e,i,n),{renderer:i}}return await(0,o.e)(e,{...i,fieldInfos:[i.fieldInfos[0]]}).then(i=>(b(e,i.renderer,n),i))}function b(e,n,i){if(!n.authoringInfo)return;n.visualVariables=(0,s.H)(n,"size")||[],n.visualVariables=(0,s.H)(n,"size","auto")||[];const o=(0,s.c)(i,"size"),a=(0,s.p)(i,"reference-size"),t=(0,s.p)(i,"spike");!a&&!t&&n.visualVariables.push(o),n.authoringInfo.visualVariables=(0,s.P)(n,"size")||[];const r=(0,s.p)(i,"size");n.authoringInfo.visualVariables.push(r);const u=i.classBreakInfos?.length?i.classBreakInfos:i.uniqueValueInfos;let f=u?.length?u[0].symbol:(0,s.e)(e,"color-size");if("picture-marker"===f.type&&(f=(0,s.e)(e,"color-size")),(0,s.o)(e)||t){n.classBreakInfos.forEach(e=>{const n=(0,s.i)(e.symbol);e.symbol=f.clone(),(0,s.y)(e.symbol,n)}),n.backgroundFillSymbol=i.backgroundFillSymbol;const e=(0,s.c)(i,"size","outline");e&&n.visualVariables.push(e)}!function(e){"simple-line"===e.type?(e.color=[0,0,0,.5],e.width=1):"cim"===e.type?((0,s.y)(e,new l.default([0,0,0,.5])),(0,s.u)(e,4)):(e.color=null,e.outline.color=[0,0,0,.5],(0,s.u)(e,4))}(f)}async function I(e,n){const i=(0,s.d)(e),l=(n=n||{}).fieldInfos.length>1?n.fieldInfos[1]:n.fieldInfos[0];return(0,a.s)(e,{fieldInfos:[l]})&&["color-size","type-size"].includes(i)&&(0,s.c)((0,s.g)(e),"size")&&(0,s.g)(e).authoringInfo?await w(e,(0,s.g)(e),n):await(0,a.f)(e,{...n,fieldInfos:[n.fieldInfos[1]]}).then(async i=>await w(e,i.renderer,n))}async function h(e,n){const i=(0,s.d)(e),l=(n=n||{}).fieldInfos.length>1?n.fieldInfos[1]:n.fieldInfos[0];return(0,a.s)(e,{fieldInfos:[l]})&&["color-size-age","type-size-age"].includes(i)&&(0,s.c)((0,s.g)(e),"size")&&(0,s.g)(e).authoringInfo?await w(e,(0,s.g)(e),n):await(0,a.g)(e,{...n,fieldInfos:[n.fieldInfos[1]]}).then(async i=>await w(e,i.renderer,n))}async function v(e,n,i){return n=n||{},await(0,a.d)(e,{...n,fieldInfos:n.fieldInfos?[n.fieldInfos[1]]:null}).then(async l=>await(0,r.d)(e,{...n,fieldInfos:n.fieldInfos?[n.fieldInfos[0]]:null}).then(n=>(V(e,n.renderer,l.renderer),n.backgroundFillSymbol=(0,s.g)(e).backgroundFillSymbol,"size"===i&&(n.statistics=l.statistics),n)))}async function z(e,n,i){return n=n||{},await(0,a.e)(e,{...n,fieldInfos:n.fieldInfos?[n.fieldInfos[1]]:null}).then(async l=>{if(delete n.units,delete n.startTime,delete n.endTime,(0,s.O)(n)){const n=(0,s.g)(e).clone();n.visualVariables=(0,s.H)(n,"size")||[];const i=(0,s.c)(l.renderer,"size");n.visualVariables.push(i),n.authoringInfo=n.authoringInfo||new t.default({}),n.authoringInfo.visualVariables=(0,s.P)(n,"size")||[];const o=(0,s.p)(l.renderer,"size");return n.authoringInfo.visualVariables.push(o),{renderer:n}}return await(0,r.d)(e,{...n,fieldInfos:n.fieldInfos?[n.fieldInfos[0]]:null}).then(n=>(V(e,n.renderer,l.renderer),n.backgroundFillSymbol=(0,s.g)(e).backgroundFillSymbol,"size"===i&&(n.statistics=l.statistics),n))})}async function w(e,n,i){const l=(0,s.d)(e);if((0,r.e)(e,i)&&["type","type-size","type-size-age"].includes(l)){const i=(0,s.g)(e).clone();return V(e,i,n),{renderer:i}}return await(0,r.c)(e,{...i,fieldInfos:[i.fieldInfos[0]]}).then(i=>(V(e,i.renderer,n),i))}function V(e,n,i){n.visualVariables=(0,s.H)(n,"size")||[],n.visualVariables=(0,s.H)(n,"size","auto")||[];const l=(0,s.c)(i,"size");n.visualVariables.push(l),n.authoringInfo=n.authoringInfo||new t.default({}),n.authoringInfo.visualVariables=(0,s.P)(n,"size")||[];const o=(0,s.p)(i,"size");n.authoringInfo.visualVariables.push(o);const a=(0,s.p)(i,"spike");if((0,s.o)(e)||a){const l=i.classBreakInfos?.length?i.classBreakInfos[0].symbol:i.uniqueValueInfos?.length?i.uniqueValueInfos[0].symbol:(0,s.e)(e,"type-size"),o=n.uniqueValueInfos.slice();o.forEach(e=>{const n=(0,s.i)(e.symbol);e.symbol=l.clone(),(0,s.y)(e.symbol,n)}),n.uniqueValueInfos=o,n.backgroundFillSymbol=i.backgroundFillSymbol;const a=(0,s.c)(i,"size","outline");a&&n.visualVariables.push(a)}}},46317:(e,n,i)=>{i.d(n,{D:()=>a});var l=i(85282),s=i(34670),o=i(42466);const a=(0,s.u$)(class extends s.WL{constructor(){super(...arguments),this.key=l.s6}render(e,n){return this.key=e,n}update(e,[n,i]){return n!==this.key&&((0,o.mY)(e),this.key=n),i}})},92264:(e,n,i)=>{i.d(n,{a:()=>b,b:()=>I,c:()=>y,d:()=>m,e:()=>v,f:()=>h,g:()=>p,m:()=>c,s:()=>z});var l=i(5294),s=i(52797),o=i(56451),a=i(47207),t=i(70852),r=i(48103),u=i(39423),f=i(1225),d=(i(54312),i(44345),i(55448),i(34031),i(63438),i(5933),i(89704),i(66228));i(31521),i(23054),i(5077),i(23795),i(17902),i(87420),i(30161),i(81734),i(83552),i(77462),i(49403),i(66617),i(10628),i(59640),i(64451),i(6176),i(10454),i(29614),i(94916),i(52554),i(2156),i(4038),i(49851),i(75054),i(15223),i(70169),i(85681),i(18444),i(42411),i(9767),i(38218),i(91914),i(86605),i(68196),i(440),i(46547),i(28927),i(6238),i(7299);const c=500;async function y(e,n){const{layer:i,useFeatureReduction:l,mapImageSublayer:s,mapView:o}=e,t=i;n=n||{};const r=(0,f.a)(e,(0,f.g)(e)),u=n.fieldInfos[0];return await a.createRenderer({layer:t,view:o,field:u.field,valueExpression:u.expression,valueExpressionTitle:u.expressionTitle,numTypes:n.numTypes||10,sortBy:n.sortBy||"count",typeScheme:n.typeScheme||(0,f.I)(e,c),returnAllCodedValues:!0,outlineOptimizationEnabled:!s&&(!(0,d.i)(n.outlineOptimizationEnabled)||n.outlineOptimizationEnabled),sizeOptimizationEnabled:!s&&(!(0,d.i)(n.sizeOptimizationEnabled)||n.sizeOptimizationEnabled),legendOptions:n.legendOptions,defaultSymbolEnabled:!0,forBinning:l}).then(i=>{if(i.excludedUniqueValueInfos.length||(i.renderer.defaultLabel=void 0,i.renderer.defaultSymbol=void 0),v(e,n)){const n=(0,f.g)(e).clone(),l=(0,f.c)(n,"size","auto"),s=(0,f.c)(n,"size","outline"),o=(0,f.p)(n,"spike");if(i.renderer.visualVariables=[],l&&(i.renderer.visualVariables=i.renderer.visualVariables||[],i.renderer.visualVariables.push(l)),s&&(i.renderer.visualVariables=i.renderer.visualVariables||[],i.renderer.visualVariables.push(s)),i.renderer.uniqueValueInfos=n.uniqueValueInfos,i.renderer.field2=n.field2,i.renderer.field3=n.field3,((0,f.o)(e)||o)&&"type-size"===(0,f.d)(e)){const n=(0,f.e)(e),l=i.renderer.uniqueValueInfos?.slice();l?.forEach(e=>{const i=(0,f.i)(e.symbol);e.symbol=n.clone(),(0,f.y)(e.symbol,i)}),i.renderer.uniqueValueInfos=l}}return(0,f.b)(r,i.renderer),i})}async function m(e,n){const{layer:i,useFeatureReduction:l,mapImageSublayer:s,mapView:o}=e,t=i,r=(n=n||[]).fieldInfos?n.fieldInfos[0]:null,u=(0,f.g)(e),y=(0,f.a)(e,u),m=u.uniqueValueInfos?.length?u.uniqueValueInfos[0].symbol:null,g=u.defaultSymbol,p=u.defaultLabel,b=r&&(r.field!==u.field||r.expression!==u.valueExpression);return n=n||{},await a.createRenderer({layer:t,view:o,field:r?r.field:u.field,valueExpression:r?r.expression:u.valueExpression,valueExpressionTitle:r?r.expressionTitle:u.valueExpressionTitle,numTypes:n.numTypes||(b?10:u.uniqueValueInfos.length),sortBy:n.sortBy||"count",typeScheme:(0,f.I)(e,c),outlineOptimizationEnabled:!s&&((0,d.i)(n.outlineOptimizationEnabled)?n.outlineOptimizationEnabled:!!y.sizeOutlineVisVar),sizeOptimizationEnabled:!s&&((0,d.i)(n.sizeOptimizationEnabled)?n.sizeOptimizationEnabled:!!y.sizeAutoVisVar),legendOptions:n.legendOptions||u.legendOptions,defaultSymbolEnabled:(0,d.i)(n.defaultSymbolEnabled)||!!u.defaultSymbol,forBinning:l}).then(e=>{if((0,f.b)(y,e.renderer),m&&e.renderer.uniqueValueInfos?.length){const n=e.renderer.uniqueValueInfos.slice();n.forEach(e=>{const n=m.clone();(0,f.y)(n,(0,f.i)(e.symbol)),e.symbol=n}),e.renderer.uniqueValueInfos=n}return g&&(e.renderer.defaultSymbol=g,e.renderer.defaultLabel=p),e})}const g={millisecond:"long-month-day-year-long-time",second:"long-month-day-year-long-time",minute:"long-month-day-year-short-time",hour:"long-month-day-year-short-time",day:"long-month-day-year",month:"long-month-day-year",year:"year"};function p(e,n,i){const{allUniqueValues:l,mapView:o}=e;if(i?.simpleFieldType===f.J.DATE){let e;l&&(e=t.calculateDateFormatInterval(l.map(e=>e.value)));const i=new Date(n);if("unknown"===o.timeZone)return s.formatDate(i,{...s.convertDateFormatToIntlOptions(e?g[e]:"long-month-day-year"),timeZone:"utc",timeZoneName:"shortOffset"});{const n=new Date(i.getTime()+6e4*i.getTimezoneOffset());return s.formatDate(n,{...s.convertDateFormatToIntlOptions(e?g[e]:"long-month-day-year"),timeZone:o.timeZone})}}return s.formatDateOnly(n,s.convertDateFormatToIntlOptions("long-month-day-year"))}function b(e){const{allUniqueValues:n}=e,i=(0,f.g)(e);if(!n?.length||!(0,d.i)(n[0].count))return[];let l=[];return i.uniqueValueGroups.forEach(e=>{const n=[];e.classes?.forEach(e=>e.values?.forEach(e=>n.push(`${e.value}`))),l=l.concat(n)}),n.filter(e=>!l.includes(null===e.value?"<Null>":`${e.value}`)).map(e=>new u.default({label:e.label,symbol:e.symbol,values:[{value:e.value}]}))}function I(e){const{allUniqueValues:n}=e,i=(0,f.g)(e);if(!n?.length||!(0,d.i)(n[0].count))return[];let l=[];return i.uniqueValueGroups.forEach(e=>{const n=[];e.classes.forEach(e=>e.values.forEach(e=>n.push("<Null>"===e.value?"null":`${e.value}`))),l=l.concat(n)}),n.filter(e=>!l.includes(`${e.value}`))}function h(e,n){const{_messages:i}=e;let l=1,s=i.panels.type.defaultGroupName.replace("${number}",l.toString());for(;n.find(e=>e.heading===s);)s=i.panels.type.defaultGroupName.replace("${number}",(++l).toString());return s}function v(e,n){if(["type","type-size"].includes((0,f.d)(e))){const i=(0,f.g)(e),l={field:i.field,expression:i.valueExpression,expressionTitle:i.valueExpressionTitle};if((0,f.N)(n.fieldInfos[0],l))return!0}return!1}function z(e,n,i){const a=(0,f.g)(e),t=(0,f.K)(e,a.field),d=t&&["small-integer","integer","big-integer","long"].includes((0,f.L)(e,t.layerField)),c=t?.simpleFieldType===f.J.DATE,y="date-only"===(0,f.L)(e,t?.layerField),m=[],g=(0,f.I)(e);let b=0;n.classes.forEach((a,I)=>{if(1===a.values.length||i&&!i.includes(I))m.push(a),b++;else if(!i||i.includes(I)){const i=a.symbol?.type,I=null!=i&&["simple-marker","simple-line","simple-fill","cim"].includes(i)?a.symbol:(0,f.e)(e,(0,f.d)(e));a.values.forEach((i,a)=>{const h=l.clone(I);if(a>0)if(g){const e=g.colors[(n.classes.length+b)%g.colors.length];e&&(0,f.y)(h,e)}else{const i=(0,f.M)(e).colors,l=new o.default(i[(n.classes.length+b)%10]);l&&(0,f.y)(h,l)}const v=t?.layerField?.domain,z=v?v.codedValues?.find(e=>e.code===i.value):null,w=z?z.name:c||y?p(e,i.value,t):t?.simpleFieldType===f.J.NUMBER?s.formatNumber(d?Number.parseInt(i.value):Number.parseFloat(i.value)):i.value;m.push(new u.default({values:[new r.default({value:i.value})],label:w,symbol:h})),b++})}}),n.classes=m}}}]);