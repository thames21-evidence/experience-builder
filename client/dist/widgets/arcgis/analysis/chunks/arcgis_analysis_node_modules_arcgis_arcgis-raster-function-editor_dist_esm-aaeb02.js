"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["extensions_widgets_arcgis_analysis_node_modules_arcgis_arcgis-raster-function-editor_dist_esm-aaeb02"],{13444:(e,i,t)=>{t.d(i,{R:()=>c});var s=t(92265),n=(t(5294),t(13661),t(18423),t(21255),t(35431),t(38949)),a=(t(588),t(55448),t(2924),t(11840),t(52373),t(33752),t(440),t(66744),t(45253)),r=t(33797);t(71802),t(44345),t(36596),t(23795),t(17902),t(56451);const l="inputArgHelpClickHandler",c=class{constructor(e){(0,s.r)(this,e),this.rfxArgumentChange=(0,s.c)(this,"rfxArgumentChange"),this.loaded=!1,this.showDimensionLessCheckbox=!0,this.helpActionClickEventHandlers=new Map,this.isRasterSingleSlice=!1,this.mdimDefLeadsToSingleSlice=!1,this.evaluateFilterTriggerArg=async e=>{const i=await this.isMultidimensionalDefinitionAppliedSingleSlice(e);this.mdimDefLeadsToSingleSlice=void 0,this.mdimDefLeadsToSingleSlice=i},this.evaluateRasterTriggerArg=async()=>{const e=this.widgetArgs.triggerArgs.Raster,i=e?.input,t=await i.getSelectedLayer();if(t){const e=await this.checkIfRasterIsSingleSlice(t);this.isRasterSingleSlice=e}else this.mdimDefLeadsToSingleSlice=!1}}connectedCallback(){this.processWidgetArgs(this.widgetArgs)}async componentWillLoad(){await this.setupInitialState(this.widgetArgs)}componentWillRender(){const e=this.isRasterSingleSlice||this.mdimDefLeadsToSingleSlice,i=this.widgetArgs.triggerArgs.Raster?.input,t=!1===Boolean(i?.value)||e;this.showDimensionLessCheckbox=t}componentDidLoad(){}processWidgetArgs({inputArgs:e,triggerArgs:i}){Object.keys(e).forEach(i=>{const t=e[i];this.inputArg=t,t.input=this.hostElement});const t=i.Raster;t?.input?.addEventListener("rfxArgumentChange",()=>{!1!==this.loaded&&this.evaluateRasterTriggerArg()});const s=i.Filter;s?.input?.addEventListener("rfxArgumentChange",({detail:{value:e}})=>{this.evaluateFilterTriggerArg(e)})}async setupInitialState({triggerArgs:e}){this.value=this.inputArg.value;const i=e.Raster?.input;if(!i||!i.value)return this.isRasterSingleSlice=!1,void(this.mdimDefLeadsToSingleSlice=!1);await this.evaluateRasterTriggerArg();const t=e.Filter?.input,s=t?.value||e.Filter.value;t&&s?this.evaluateFilterTriggerArg(s):this.mdimDefLeadsToSingleSlice=!1,this.loaded=!0}async checkIfRasterIsSingleSlice(e){const i=await(0,a.g)(e),t=(0,a.a)(e,i);if(!i||!t||1!==t.length)return!1;return t[0].dimensions.every(e=>{const i=e&&e.values;return i&&1===i.length})}async isMultidimensionalDefinitionAppliedSingleSlice(e){"string"==typeof e&&(e=JSON.parse(e));const i=this.widgetArgs.triggerArgs.Raster?.input;if(!i?.value)return!1;const t=await i.getSelectedLayer();if((0,n.i)(t))return;const s=await(0,a.g)(t),r=(0,a.a)(t,s);return(0,a.m)(e,(0,n.J)(r))}render(){return(0,s.h)("div",{key:"3d2e1e17a356eb07ffd5fac1d1a9ab679867b31d"},this.showDimensionLessCheckbox?(0,s.h)("calcite-label",{alignment:"start",scale:n.s.scale??r.U.Scale,layout:"inline-space-between",ref:e=>{this.widgetContainer=e;const i=this.widgetArgs.onHelpActionClick({heading:this.inputArg.displayName,referenceElement:this.widgetContainer,helpTextID:this.inputArg?.helpTextID});this.helpActionClickEventHandlers.set(l,i)}},(0,s.h)("calcite-checkbox",{checked:this.value,onCalciteCheckboxChange:e=>{const i=e.target.checked;this.value=i}}),(0,s.h)("rfx-label",{label:this.inputArg.displayName,onRfxLabelHelpActionClick:()=>this.helpActionClickEventHandlers?.get(l)()})):null)}get hostElement(){return(0,s.a)(this)}};c.style=""},33797:(e,i,t)=>{t.d(i,{C:()=>n,U:()=>s,a:()=>a,u:()=>r});const s={Scale:"s",PopoverTimer:60},n={s:"s",m:"m",l:"l"},a={absolute:"absolute",fixed:"fixed"},r=e=>e===n.s?n.m:n.l},70178:(e,i,t)=>{t.r(i),t.d(i,{rfx_cte_dimensionless_editor:()=>s.R});var s=t(13444);t(92265),t(5294),t(13661),t(18423),t(21255),t(35431),t(38949),t(32513),t(33752),t(44345),t(588),t(55448),t(2924),t(11840),t(52373),t(440),t(66744),t(45253),t(33797),t(71802),t(36596),t(23795),t(17902),t(56451)}}]);