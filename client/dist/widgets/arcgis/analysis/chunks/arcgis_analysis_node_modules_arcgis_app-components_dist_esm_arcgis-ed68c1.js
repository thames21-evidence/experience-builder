/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-ed68c1.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-ed68c1"],{1402:(e,i,n)=>{n.d(i,{g:()=>l});var r=n(12192);async function l(e){const i=await(0,r.g)(e,"arcgis-member-browser");return i&&i.length?i[0]:null}},1654:(e,i,n)=>{n.d(i,{A:()=>b,B:()=>E,C:()=>A,D:()=>$,E:()=>m,F:()=>O,a:()=>s,b:()=>o,c:()=>t,d:()=>f,e:()=>w,f:()=>T,g:()=>I,h:()=>x,i:()=>g,j:()=>_,k:()=>M,l:()=>a,m:()=>d,n:()=>u,o:()=>S,p:()=>v,q:()=>p,r:()=>h,s:()=>U,t:()=>F,u:()=>c,v:()=>D,w:()=>P,x:()=>G,y:()=>L,z:()=>y});var r=n(46904);const l=e=>{var i,n,r;return"string"==typeof(null==e?void 0:e.role)&&(null==e?void 0:e.role)?null==e?void 0:e.role:null!==(n=null!==(i=null==e?void 0:e.roleId)&&void 0!==i?i:null==e?void 0:e.id)&&void 0!==n?n:null===(r=null==e?void 0:e.sourceJSON)||void 0===r?void 0:r.id};function o(e){return e&&!e.orgId}function t(e,i){return(0,r.u)(e,i)||"update"===e.itemControl||(0,r.c)([e],i)&&T(i)}function s(e,i){const n=(0,r.c)([e],i),l=(0,r.u)(e,i)||T(i)&&n,o=I(i)&&C(i);return!!(l||n&&o)}const u=e=>{var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:manageLicenses"))},a=e=>{var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:inviteUsers"))},d=e=>{var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:manageRoles"))},c=e=>{var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:changeUserRoles"))},v=e=>{var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:viewGroups"))},p=e=>{var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:viewUsers"))};function g(e){return["Trial Developer","Developer","Developer Subscription"].includes(null==e?void 0:e.type)}function m(e){return["Developer Subscription"].includes(null==e?void 0:e.type)}function h(e){return["Geoanalytics Engine","GeoAnalytics MS Fabric"].includes(null==e?void 0:e.type)}const f=e=>{var i;return null===(i=null==e?void 0:e.options)||void 0===i?void 0:i.includes("Developer")},y=e=>{var i;return null===(i=null==e?void 0:e.options)||void 0===i?void 0:i.includes("PublicSharingDisabled")},b=e=>{var i;return null===(i=null==e?void 0:e.options)||void 0===i?void 0:i.includes("HostedServicesPublicSharingDisabled")};function T(e){return"org_admin"===l(e)||"account_admin"===l(e)}function w(e){return["org_admin","account_admin"].includes(l(e))&&!(null==e?void 0:e.roleId)}function I(e){return!!(null==e?void 0:e.roleId)&&e.roleId.length>0}function _(e){var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:updateItemCategorySchema"))}function x(e){var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:updateGroups"))}function S(e){var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:assignToGroups"))}const C=e=>{var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:deleteItems"))};function D(e){return((null==e?void 0:e.privileges)||[]).includes("portal:user:shareToGroup")}function P(e){return((null==e?void 0:e.privileges)||[]).includes("portal:user:shareToOrg")}function E(e){return((null==e?void 0:e.privileges)||[]).includes("portal:user:shareToPublic")}function L(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:shareToOrg")}function A(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:shareToPublic")}function G(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:shareToGroup")}function M(e,i,n,r){const l=r&&!["Trial","Trial Press","Trial Developer","Developer Subscription","Evaluation"].includes(r.type),o=((null==i?void 0:i.privileges)||[]).includes("portal:admin:manageCollaborations");return!(!(null==e?void 0:e.collaborationsEnabled)||!i||!T(i)&&!o||!(null==n?void 0:n.isPortal)&&!l)}function O(e){return!!e&&(!I(e)||I(e)&&function(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:viewItems")}(e))}const $=({items:e,user:i,portal:n})=>{const l=e[0],o=l.owner;if(n.isPortal&&o!==i.username&&o.includes("esri_")&&!["esri_livingatlas"].includes(o))return!1;const s=(0,r.u)(l,i),u=I(i),a=k(i),d=t(l,i)&&function(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:updateItems")}(i)&&!u&&(function(e,i){return!function(e){return!(!e.urlKey||!e.customBaseUrl)||!!e.isPortal}(i)||D(e)||P(e)||!!i.canSharePublic&&E(e)}(i,n)||k(i));return s||d||(0,r.c)(e,i)&&a};function k(e){return G(e)||L(e)||A(e)}const B=["portal:user:createItem","portal:user:viewOrgItems","premium:publisher:createNotebooks","portal:publisher:createDataPipelines","features:user:edit","features:user:fullEdit","portal:admin:viewItems","portal:admin:updateItems","portal:admin:deleteItems"];function F(e){return e.some(e=>B.includes(e))}function U(e){return e.filter(e=>B.includes(e))}},23966:(e,i,n)=>{n.d(i,{a:()=>t,g:()=>o,o:()=>s});var r=n(37762),l=n(74174);function o(e){return(0,l.g)(e,"arcgis-member-browser")}const t=(e,i)=>{e.onChange("view",e=>{i(e)})};(0,r.c)({type:"member-browser",includeExternalUsers:!1});const s=(e,i)=>{e.onChange("sort",e=>{i(e)})}},46904:(e,i,n)=>{n.d(i,{a:()=>t,b:()=>o,c:()=>a,d:()=>d,e:()=>c,f:()=>v,g:()=>p,i:()=>s,u:()=>u});n(93814);var r=n(41473);function l(e){var i;return!!(null===(i=e.owner)||void 0===i?void 0:i.toLowerCase().includes("esri"))}function o(e){var i;return l(e)&&!!(null===(i=e.typeKeywords)||void 0===i?void 0:i.includes("Requires Credits"))}function t(e){var i;return l(e)&&!!(null===(i=e.typeKeywords)||void 0===i?void 0:i.includes("Requires Subscription"))}function s(e,i){return e.owner===i.username}function u(e,i){return s(e,i)||function(e,i){var n;if(null!=e.isAdmin)return!!e.isAdmin;const r=e.owner,l="admin"===e.itemControl,o=["esri_livingatlas","esri_demographics","esri_boundaries"];if((null===(n=e.portal)||void 0===n?void 0:n.isPortal)&&!s(e,i)&&l&&r.includes("esri_")&&!o.includes(r))return!1;return l}(e,i)}const a=(e,i)=>!!i.orgId&&e.every(e=>e.isOrgItem),d=(e,i)=>`${(0,r.a)(i)}item.html?id=${e}`,c=(e,i)=>`${(0,r.g)(i)}/content/users/${e}`,v=e=>e.reduce((e,i)=>(e[i.owner]=e[i.owner]?[...e[i.owner],i.id]:[i.id],e),{}),p=(e,i)=>`${(0,r.a)(i)}content/items/${e}`},74174:(e,i,n)=>{n.d(i,{a:()=>o,b:()=>s,g:()=>a,i:()=>l,o:()=>t});var r=n(15332);const l=e=>"item-browser"===e.state.type,o=(e,i,n)=>{i.onChange("filters",i=>{i[e]&&i[e].value||n()})},t=(e,i)=>{e.onChange("preview",e=>{i()})},s=(e,i)=>{e.onChange("groupId",e=>{i()})},u=new Map;function a(e,i){const n=u.get(e);if(n)return n;const l=(0,r.c)(e,i);return l?(u.set(e,l.store),l.store):null}},91063:(e,i,n)=>{n.r(i),n.d(i,{arcgis_member_browser_filter_login_type:()=>d});var r=n(87849),l=n(59317),o=n(1654),t=n(74174),s=n(1402),u=n(23966),a=n(3367);n(37762),n(46904),n(93814),n(41473),n(15332),n(12192),n(94984),n(931),n(83692),n(54251),n(94737);const d=class{constructor(e){(0,r.r)(this,e),this.arcgisMemberBrowserFilter=(0,r.c)(this,"arcgisMemberBrowserFilter",7),this.loadLoginTypeInfo=async()=>{const{user:e,portal:i}=null!==l.c&&void 0!==l.c?l.c:{};!this.loginTypeInfo&&e&&i&&!i.isPortal&&(0,o.n)(e)&&(this.loginTypeInfo=await(0,a.h)(i),this.loginType&&this.emitEvent())},this.loginType=void 0,this.expanded=void 0,this.loginTypeInfo=void 0}async componentWillLoad(){var e;this.store=(0,u.g)(this.el),this.i18n=null===(e=await(0,s.g)(this.el))||void 0===e?void 0:e.filterLoginType}async componentDidLoad(){await this.loadLoginTypeInfo(),(0,l.o)("user",this.loadLoginTypeInfo),(0,l.o)("portal",this.loadLoginTypeInfo),(0,t.a)("loginType",this.store,()=>this.loginType=null)}getEventDetail(){var e,i,n;const{loginType:r}=this;if(!r)return{id:"loginType",param:"provider",value:"",label:"",loginType:""};const l={social:{text:this.i18n.social,value:(null===(i=null===(e=this.loginTypeInfo)||void 0===e?void 0:e.socialProviders)||void 0===i?void 0:i.join(","))||""},saml:{text:"SAML",value:"enterprise"},oidc:{text:"OpenID Connect",value:`oidc_${null===(n=this.loginTypeInfo)||void 0===n?void 0:n.oidcId}`},arcgis:{text:"ArcGIS",value:"arcgis"}}[this.loginType]||{text:"ArcGIS",value:"arcgis"};return{id:"loginType",param:"provider",value:l.value,loginType:r,label:this.i18n.label.replace("${type}",l.text)}}emitEvent(){const e=this.getEventDetail();this.arcgisMemberBrowserFilter.emit(e)}render(){var e;const{user:i}=l.c,{loginTypeInfo:n}=this;if(this.store.state.groupId&&!this.store.state.myOrgView||!i||!n||this.store.state.includeExternalUsers)return null;const o=[{text:"ArcGIS",value:"arcgis"},...n.hasSAML?[{text:"SAML",value:"saml"}]:[],...Boolean(n.oidcId)?[{text:"OIDC",value:"oidc"}]:[],...(null===(e=n.socialProviders)||void 0===e?void 0:e.length)>0?[{text:this.i18n.social,value:"social"}]:[]];return o.length<=1?null:(0,r.h)("arcgis-browser-filter",{heading:this.i18n.title,expanded:this.expanded,active:!!this.loginType,onArcgisBrowserFilterRemove:()=>{this.loginType=null},filterID:"loginType"},(0,r.h)("calcite-tree",{selectionMode:"single",onCalciteTreeSelect:e=>{var i,n;const r=null===(n=null===(i=e.target.selectedItems)||void 0===i?void 0:i[0])||void 0===n?void 0:n.dataset.loginType;this.loginType===r?this.loginType=null:this.loginType=r,this.emitEvent()}},o.map(e=>(0,r.h)("calcite-tree-item",{key:e.value,"data-login-type":e.value,selected:this.loginType===e.value},(0,r.h)("a",null,e.text)))))}get el(){return(0,r.a)(this)}}}}]);