/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-51f7d4.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-51f7d4"],{1654:(e,t,r)=>{r.d(t,{A:()=>w,B:()=>F,C:()=>E,D:()=>A,E:()=>m,F:()=>$,a:()=>n,b:()=>o,c:()=>a,d:()=>b,e:()=>x,f:()=>y,g:()=>k,h:()=>G,i:()=>g,j:()=>_,k:()=>P,l:()=>c,m:()=>d,n:()=>l,o:()=>O,p:()=>u,q:()=>p,r:()=>v,s:()=>j,t:()=>L,u:()=>h,v:()=>B,w:()=>S,x:()=>U,y:()=>C,z:()=>f});var i=r(46904);const s=e=>{var t,r,i;return"string"==typeof(null==e?void 0:e.role)&&(null==e?void 0:e.role)?null==e?void 0:e.role:null!==(r=null!==(t=null==e?void 0:e.roleId)&&void 0!==t?t:null==e?void 0:e.id)&&void 0!==r?r:null===(i=null==e?void 0:e.sourceJSON)||void 0===i?void 0:i.id};function o(e){return e&&!e.orgId}function a(e,t){return(0,i.u)(e,t)||"update"===e.itemControl||(0,i.c)([e],t)&&y(t)}function n(e,t){const r=(0,i.c)([e],t),s=(0,i.u)(e,t)||y(t)&&r,o=k(t)&&I(t);return!!(s||r&&o)}const l=e=>{var t;return!!(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:admin:manageLicenses"))},c=e=>{var t;return!!(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:admin:inviteUsers"))},d=e=>{var t;return!!(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:admin:manageRoles"))},h=e=>{var t;return!!(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:admin:changeUserRoles"))},u=e=>{var t;return!!(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:admin:viewGroups"))},p=e=>{var t;return!!(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:admin:viewUsers"))};function g(e){return["Trial Developer","Developer","Developer Subscription"].includes(null==e?void 0:e.type)}function m(e){return["Developer Subscription"].includes(null==e?void 0:e.type)}function v(e){return["Geoanalytics Engine","GeoAnalytics MS Fabric"].includes(null==e?void 0:e.type)}const b=e=>{var t;return null===(t=null==e?void 0:e.options)||void 0===t?void 0:t.includes("Developer")},f=e=>{var t;return null===(t=null==e?void 0:e.options)||void 0===t?void 0:t.includes("PublicSharingDisabled")},w=e=>{var t;return null===(t=null==e?void 0:e.options)||void 0===t?void 0:t.includes("HostedServicesPublicSharingDisabled")};function y(e){return"org_admin"===s(e)||"account_admin"===s(e)}function x(e){return["org_admin","account_admin"].includes(s(e))&&!(null==e?void 0:e.roleId)}function k(e){return!!(null==e?void 0:e.roleId)&&e.roleId.length>0}function _(e){var t;return!!(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:admin:updateItemCategorySchema"))}function G(e){var t;return!!(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:admin:updateGroups"))}function O(e){var t;return!!(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:admin:assignToGroups"))}const I=e=>{var t;return!!(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:admin:deleteItems"))};function B(e){return((null==e?void 0:e.privileges)||[]).includes("portal:user:shareToGroup")}function S(e){return((null==e?void 0:e.privileges)||[]).includes("portal:user:shareToOrg")}function F(e){return((null==e?void 0:e.privileges)||[]).includes("portal:user:shareToPublic")}function C(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:shareToOrg")}function E(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:shareToPublic")}function U(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:shareToGroup")}function P(e,t,r,i){const s=i&&!["Trial","Trial Press","Trial Developer","Developer Subscription","Evaluation"].includes(i.type),o=((null==t?void 0:t.privileges)||[]).includes("portal:admin:manageCollaborations");return!(!(null==e?void 0:e.collaborationsEnabled)||!t||!y(t)&&!o||!(null==r?void 0:r.isPortal)&&!s)}function $(e){return!!e&&(!k(e)||k(e)&&function(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:viewItems")}(e))}const A=({items:e,user:t,portal:r})=>{const s=e[0],o=s.owner;if(r.isPortal&&o!==t.username&&o.includes("esri_")&&!["esri_livingatlas"].includes(o))return!1;const n=(0,i.u)(s,t),l=k(t),c=T(t),d=a(s,t)&&function(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:updateItems")}(t)&&!l&&(function(e,t){return!function(e){return!(!e.urlKey||!e.customBaseUrl)||!!e.isPortal}(t)||B(e)||S(e)||!!t.canSharePublic&&F(e)}(t,r)||T(t));return n||d||(0,i.c)(e,t)&&c};function T(e){return U(e)||C(e)||E(e)}const D=["portal:user:createItem","portal:user:viewOrgItems","premium:publisher:createNotebooks","portal:publisher:createDataPipelines","features:user:edit","features:user:fullEdit","portal:admin:viewItems","portal:admin:updateItems","portal:admin:deleteItems"];function L(e){return e.some(e=>D.includes(e))}function j(e){return e.filter(e=>D.includes(e))}},6378:(e,t,r)=>{r.d(t,{g:()=>s});var i=r(12192);async function s(e){const t=await(0,i.g)(e,"arcgis-group-browser");return t&&t.length?t[0]:null}},12192:(e,t,r)=>{r.d(t,{a:()=>a,g:()=>c});var i=r(15332),s=r(94984),o=r(87849);function a(e){var t,r,o;const a=null!==(t=(0,i.c)(e,"[lang]"))&&void 0!==t?t:null===(o=null===(r=e.shadowRoot)||void 0===r?void 0:r.ownerDocument)||void 0===o?void 0:o.documentElement,n=((null==a?void 0:a.lang)||(null===navigator||void 0===navigator?void 0:navigator.language)||"en").toLowerCase();return s.l.has(n)?s.l.get(n):s.l.has(n.slice(0,2))?s.l.get(n.slice(0,2)):"en"}const n={};function l(e,t){const r=`${e}${t}`;return n[r]||(n[r]=function(e,t){return new Promise((r,i)=>{fetch((0,o.d)(`../arcgis-app-assets/i18n/${e}.i18n.${t}.json`)).then(e=>{e.ok?r(e.json()):i()},()=>i())})}(e,t)),n[r]}async function c(e,t){const r=t||e.tagName.toLowerCase(),o=a(e),n=function(e){var t,r,o;const a=null!==(t=(0,i.c)(e,"[lang]"))&&void 0!==t?t:null===(o=null===(r=e.shadowRoot)||void 0===r?void 0:r.ownerDocument)||void 0===o?void 0:o.documentElement,n=((null==a?void 0:a.lang)||(null===navigator||void 0===navigator?void 0:navigator.language)||"en").toLowerCase();return s.l.has(n)?s.l.get(n):s.l.has(n.slice(0,2))?n:"en"}(e);let c;try{c=await l(r,o)}catch(e){console.warn(`no locale for ${r} (${o}) loading default locale en.`),c=await l(r,"en")}return[c,o,n]}},15424:(e,t,r)=>{r.r(t),r.d(t,{arcgis_group_browser:()=>_,arcgis_group_browser_actions:()=>G,arcgis_group_browser_content:()=>O,arcgis_group_browser_filter_date:()=>I,arcgis_group_browser_filter_groups_by_user:()=>B,arcgis_group_browser_filter_member_org:()=>S,arcgis_group_browser_filter_membership:()=>F,arcgis_group_browser_filter_owner:()=>C,arcgis_group_browser_filter_special_groups:()=>P,arcgis_group_browser_filters:()=>$,arcgis_group_browser_pagination:()=>A,arcgis_group_browser_preview:()=>T,arcgis_group_browser_preview_card:()=>D,arcgis_group_browser_search:()=>L,arcgis_group_browser_sort:()=>j,arcgis_group_browser_top_bar:()=>z});var i=r(87849),s=r(37762),o=r(59317),a=r(15332),n=r(4429),l=r(12192),c=r(5157),d=r(44388),h=r(41473),u=r(83692),p=r(33317),g=r(6378),m=r(74174),v=r(1654),b=r(29599),f=r(7449),w=r(96295),y=r(3470),x=r(94984),k=r(28890);r(931),r(93814),r(54251),r(46904),r(26262),r(31581);const _=class{constructor(e){(0,i.r)(this,e),this.arcgisGroupBrowserUpdate=(0,i.c)(this,"arcgisGroupBrowserUpdate",7),this.arcgisGroupBrowserLoading=(0,i.c)(this,"arcgisGroupBrowserLoading",7),this.arcgisGroupBrowserSelect=(0,i.c)(this,"arcgisGroupBrowserSelect",7),this.arcgisGroupBrowserPreview=(0,i.c)(this,"arcgisGroupBrowserPreview",7),this.arcgisGroupBrowserSublayerPreview=(0,i.c)(this,"arcgisGroupBrowserSublayerPreview",7),this.arcgisGroupBrowserInternalUIAction=(0,i.c)(this,"arcgisGroupBrowserInternalUIAction",7),this.liveRegionUpdate=(0,i.c)(this,"liveRegionUpdate",7),this.allowFetch=!1,this.currentResults=[],this.updateFiltersEmpty=()=>{var e;this.store.state.filtersEmpty=!(null===(e=this.el)||void 0===e?void 0:e.querySelector('[slot="filters"]'))},this.updateTopbarEmpty=()=>{var e;this.store.state.topbarEmpty=!(null===(e=this.el)||void 0===e?void 0:e.querySelector('[slot="top-bar"]'))},this.updateSortEmpty=()=>{var e;this.store.state.sortEmpty=!(null===(e=this.el)||void 0===e?void 0:e.querySelector('[slot="sort"]'))},this.updatePreviewFooterActionsEmpty=()=>{var e;this.store.state.previewFooterActionsEmpty=!(null===(e=this.el)||void 0===e?void 0:e.querySelector('[slot="preview-footer-action"]'))},this.filterMutationObserver=new MutationObserver(this.updateFiltersEmpty),this.topbarMutationObserver=new MutationObserver(this.updateTopbarEmpty),this.sortMutationObserver=new MutationObserver(this.updateSortEmpty),this.actionsMutationObserver=new MutationObserver(this.updatePreviewFooterActionsEmpty),this.fetchGroups=(0,n.f)(async()=>{if(this.loading=!0,this.currentResults=[],this.arcgisGroupBrowserLoading.emit(),this.store.state.preview=null,!this.portal||!this.allowFetch)return;let e=this.getQuery();this.preflight&&(e=await this.preflight(e));const t=await(0,n.m)(this.queryGroups(e),500);this.arcgisGroupBrowserUpdate.emit(Object.assign(Object.assign(Object.assign({},t),{selectedGroups:this.selectedGroups,filters:Object.assign({},this.store.state.filters),searchTerm:this.searchTerm}),this.sort)),this.currentResponse=t,this.currentResults=t.results,this.loading=!1},150),this.handleResizeEvent=e=>{this.resize(e)},this.renderSelectedItem=e=>(0,i.h)("arcgis-selected-item",{key:e.id,heading:e.title,onArcgisSelectedItemRemove:()=>{this.deselectGroup(e),this.arcgisGroupBrowserSelect.emit(this.selectedGroups)}},(0,i.h)("arcgis-group-thumbnail",{slot:"content-start",group:e,portal:this.portal,scale:"s"})),this.rangeFormatter=async({start:e,end:t,total:r})=>{const{lang:i}=this.store.state,{i18n:s}=this;return"en"===i?[`${e}-${t} of ${r}`,`${e}-${t} of ${r} group${"1"===r?"":"s"}`]:[(0,d.r)(s.groupBrowser.pageRange,{start:e,end:t,total:r}),(0,d.r)(s.groupBrowser.pageRangeAria,{start:e,end:t,total:r})]},this.api=void 0,this.portal=void 0,this.user=void 0,this.searchUser=void 0,this.config=void 0,this.selection="none",this.view="list",this.num=20,this.q="",this.selectedGroups=[],this.preflight=void 0,this.fetch=void 0,this.hidePreviewFooter=!1,this.hidePreviewBadges=!1,this.hasIndoorsSpaces=!1,this.height="full",this.store=(0,s.c)({filters:{},type:"group-browser"}),this.usePanelLayout=void 0,this.searchTerm="",this.sort=void 0,this.page={num:this.num,start:1,nextStart:-1},this.loading=!0,this.formFactor=void 0,this.pageRangeText="",this.previewGroup=void 0,this.currentResponse=void 0}async refresh(){this.fetchGroups()}async componentWillLoad(){var e;const{el:t,hasIndoorsSpaces:r,selectedGroups:i,view:s}=this,o=await(0,l.g)(t);this.i18n=o[0],this.store.state.i18n=o[0],this.store.state.lang=o[1],this.store.state.view=s,this.store.state.hasIndoorsSpaces=r,this.store.state.selectedGroups=i,this.initializeConfig(),(0,c.s)(this.store).observe(this.el),t.addEventListener("arcgisBrowserResize",this.handleResizeEvent),this.filterMutationObserver.observe(t,{childList:!0}),this.topbarMutationObserver.observe(t,{childList:!0}),this.sortMutationObserver.observe(t,{childList:!0}),this.actionsMutationObserver.observe(t,{childList:!0}),this.updateFiltersEmpty(),this.updateTopbarEmpty(),this.updateSortEmpty(),this.updatePreviewFooterActionsEmpty(),this.store.state.panel=null!==(e=this.usePanelLayout)&&void 0!==e?e:(0,a.c)(this.el,"calcite-shell-panel"),this.store.state.panel&&(this.store.state.filtersExpanded=!1)}disconnectedCallback(){var e,t;null===(e=this.store.state.resizeObserver)||void 0===e||e.unobserve(this.el),this.filterMutationObserver.disconnect(),this.topbarMutationObserver.disconnect(),this.sortMutationObserver.disconnect(),this.filterClearHandler(!1),null===(t=this.el)||void 0===t||t.removeEventListener("arcgisBrowserResize",this.handleResizeEvent)}updateUser(e){var t;null!==(t=o.c.user)&&void 0!==t||(o.c.user=e)}updatePortal(e){var t;null!==(t=o.c.portal)&&void 0!==t||(o.c.portal=e)}updateConfig(e){var t;null!==(t=o.c.config)&&void 0!==t||(o.c.config=e)}updateSelection(e){this.store.state.selection=e}updateSelectedGroups(e){this.store.state.selectedGroups=e}updateQ(){this.resetPagination(),this.fetchGroups()}async componentDidLoad(){this.initializeConfig(),await(0,n.t)(400),this.allowFetch=!0,o.c.portal?this.fetchGroups():(0,o.o)("portal",()=>{this.initializeConfig(),this.fetchGroups()})}filterHandler(e){const t=Object.assign(Object.assign({},this.store.state.filters),{[e.detail.id]:e.detail});e.detail.value||delete t[e.detail.id],this.store.state.filters=t,this.resetPagination(),this.fetchGroups()}filterRemoveHandler(e){if(!e.detail)return;const t=Object.assign({},this.store.state.filters);delete t[e.detail],this.store.state.filters=t,this.resetPagination(),this.fetchGroups()}filterClearHandler(e=!0){this.store.state.filters={},this.resetPagination(),e&&this.fetchGroups()}genericFilterClearHandler(){this.filterClearHandler()}filterToggleHandler(){this.store.state.preview=null,this.store.state.filtersExpanded=!this.store.state.filtersExpanded}searchHandler(e){const t=e.detail;this.searchTerm=t,this.resetPagination(),t?this.fetchGroups():this.fetchGroups.invoke()}sortHandler(e){this.sort=e.detail,this.fetchGroups()}async pageHandler(e){var t;this.page=e.detail,this.allowFetch&&(await this.fetchGroups(),await(0,n.t)(400),null===(t=this.el.shadowRoot.querySelector(".content__view"))||void 0===t||t.scrollTo({top:0,behavior:"smooth"}))}selectHandler(e){const{selected:t,group:r}=e.detail;switch(this.selection){case"single":this.selectedGroups=[r];break;case"multiple":t?this.selectGroup(r):this.deselectGroup(r)}this.arcgisGroupBrowserSelect.emit(this.selectedGroups)}async togglePreview({detail:e}){this.store.state.filtersExpanded=!1,e&&this.store.state.preview!==e.id?(this.restoreFocusElement=document.activeElement,this.store.state.preview=e.id,this.previewGroup=Object.assign({},e),this.arcgisGroupBrowserPreview.emit(Object.assign({},e))):(this.store.state.preview=null,this.previewGroup=null,this.arcgisGroupBrowserPreview.emit(),this.arcgisGroupBrowserSublayerPreview.emit()),this.arcgisGroupBrowserInternalUIAction.emit({action:this.previewGroup?"open panel":"close panel",category:"card action"})}async initializeConfig(){var e,t,r,i;null!==(e=o.c.api)&&void 0!==e||(o.c.api=this.api),null!==(t=o.c.user)&&void 0!==t||(o.c.user=this.user),null!==(r=o.c.portal)&&void 0!==r||(o.c.portal=this.portal),null!==(i=o.c.config)&&void 0!==i||(o.c.config=this.config)}resetPagination(){this.page.start=1,this.page.total=0}getQuery(){return Object.assign(Object.assign({filters:this.store.state.filters,searchUser:this.searchUser,searchTerm:this.searchTerm,baseQuery:this.q},this.sort),this.page)}queryGroups(e){return this.fetch?this.fetch(e):async function(e,t){const r=`${(0,h.g)(e)}community/groups`,{num:i,start:s,sortOrder:o,sortField:a,filters:n,baseQuery:l,searchTerm:c,searchUser:p}=t,g=Object.keys(n||{}),m=c?`(${(0,d.c)(c)}) `:"",v=Object.assign(Object.assign({},p?{searchUserAccess:"groupMember",searchUserName:p}:{}),{q:`${l||""} ${m}`}),b=g.reduce((e,t)=>{const{param:r,value:i}=n[t];return Object.assign(Object.assign({},e),{[r]:`${e[r]||""} ${i}`})},v),f=Object.assign(Object.assign({num:i,start:s},"relevance"===a?{}:{sortField:a,sortOrder:o}),b||{});if(!Object.entries(b).some(([e,t])=>"string"!=typeof t||!!(null==t?void 0:t.trim())))return{nextStart:-1,num:0,results:[],start:0,total:0};const w=await(0,u.r)(r,f);return Object.assign(Object.assign({},w),{q:b.q,queryParams:f})}(this.portal,e)}restoreFocus(){if(this.restoreFocusElement){const e=this.restoreFocusElement;e.restoreFocus?e.restoreFocus():e.setFocus?e.setFocus():e.focus&&e.focus()}}selectGroup(e){this.isSelected(e)||(this.selectedGroups=[...this.selectedGroups,e])}deselectGroup(e){this.selectedGroups=this.selectedGroups.filter(({id:t})=>t!==e.id)}isSelected(e){var t;return null===(t=this.selectedGroups)||void 0===t?void 0:t.some(({id:t})=>e.id===t)}resize({detail:{width:e,height:t}}){this.formFactor=e>c.b.md?"large":"small";const r=this.store.state.width>c.b.md?"large":"small";"large"===r&&"small"===this.formFactor&&(this.store.state.panel=this.usePanelLayout,this.store.state.filtersExpanded=!1),"small"===r&&"large"===this.formFactor&&(this.store.state.panel=!1,this.store.state.filtersExpanded=!0),this.store.state.width=e,this.store.state.height=t}renderSelected(){var e,t,r,s;const o=this.currentResults.length>0&&(null===(e=this.currentResults)||void 0===e?void 0:e.every(e=>this.isSelected(e))),a=null===(t=this.selectedGroups)||void 0===t?void 0:t.length;return(0,i.h)("arcgis-selected",{slot:"selection",loading:this.loading,total:null===(r=this.currentResults)||void 0===r?void 0:r.length,totalSelected:a,emptyText:this.i18n.groupBrowser.noSelectedGroups,heading:this.i18n.groupBrowser.selectedGroups,checked:!this.loading&&o,indeterminate:!o&&!!a,onArcgisSelectedDeselectAll:()=>{this.selectedGroups=[],this.arcgisGroupBrowserSelect.emit(this.selectedGroups)},onArcgisSelectedSelectPage:()=>{var e;null===(e=this.currentResults)||void 0===e||e.forEach(e=>{this.selectGroup(e)}),this.arcgisGroupBrowserSelect.emit(this.selectedGroups)}},null===(s=this.selectedGroups)||void 0===s?void 0:s.map(this.renderSelectedItem))}renderSlot(e,t){return(0,i.h)("div",{slot:e},(0,i.h)("slot",{name:e},t))}renderEmptyTextSlot(e,t){return(0,i.h)("div",{slot:e,class:"empty-text-slot"},(0,i.h)("slot",{name:e},(0,i.h)("p",{class:"empty-text-slot__default"},t)))}render(){const{loading:e,i18n:t,selectedGroups:r,selection:s,currentResponse:o,store:a,api:n,searchTerm:l,formFactor:c,height:d,renderSlot:h,renderEmptyTextSlot:u}=this;return(0,i.h)(i.H,{key:"b5923324d0345b0b5efb1e177461ae58684f6245"},(0,i.h)("arcgis-browser",{key:"2ebaae732f253c229b9e30eea0acb7c0120e8bfe",preview:!!this.previewGroup,loading:e,selected:r,alwaysShowSelection:"multiple"===s,response:o,store:a,api:n,formFactor:c,searchTerm:l,height:d,rangeFormatter:this.rangeFormatter},h("top-bar"),h("sort"),(0,i.h)("arcgis-group-browser-preview",{slot:"preview",group:this.previewGroup,portal:this.portal,user:this.user,key:this.store.state.preview,onArcgisGroupBrowserPreviewClose:()=>{this.store.state.preview=null,this.previewGroup=null,this.arcgisGroupBrowserPreview.emit(),this.arcgisGroupBrowserSublayerPreview.emit(),this.restoreFocus()},hidePreviewFooter:this.hidePreviewFooter,showBadges:!this.hidePreviewBadges,currentResponse:this.currentResponse},(0,i.h)("div",{key:"5ffe610b7cc52cd52faab7b16458e537f53378fc",slot:"footer-action"},(0,i.h)("slot",{key:"a63ba709d2508418f768caf68b122fd7184485b7",name:"preview-footer-action"}))),this.renderSelected(),h("actions"),h("content-start"),h("content"),h("content-end"),h("pagination"),h("filters"),h("scroll-end"),u("no-results",t.content.noResults),u("no-content",t.content.noContent)))}get el(){return(0,i.a)(this)}static get watchers(){return{user:["updateUser"],portal:["updatePortal"],config:["updateConfig"],selection:["updateSelection"],selectedGroups:["updateSelectedGroups"],q:["updateQ"]}}};_.style=":host{position:relative;display:flex;height:100%;flex-direction:column;overflow-y:auto;overflow-x:hidden;background-color:var(--calcite-color-background);--group-browser-max-width:100%;--group-browser-pane-width:18.75rem;--group-browser-pane-z-index:11;--group-browser-top-bar-background:var(--calcite-color-foreground-1)}arcgis-browser{--arcgis-browser-max-width:var(--group-browser-max-width);--arcgis-browser-pane-width:var(--group-browser-pane-width);--arcgis-browser-pane-z-index:var(--group-browser-pane-z-index);--arcgis-browser-top-bar-background:var(--group-browser-top-bar-background)}::slotted([slot=no-results]){width:100%}::slotted([slot=no-content]){width:100%}.empty-text-slot{display:flex;height:100%;width:100%;justify-content:center}.empty-text-slot__default{margin-left:auto;margin-right:auto;max-width:32rem;padding-left:1.5rem;padding-right:1.5rem;padding-bottom:4rem;margin-top:min(8rem, 30vh)}@media screen and (max-width: 640px){:host{--group-browser-pane-width:100%}}";const G=class{constructor(e){(0,i.r)(this,e),this.actions=[]}async componentWillLoad(){this.store=(0,p.g)(this.el)}render(){return(0,i.h)(i.H,{key:"6d56c0af06ec394f4c38d183579b2fd160d1e0b6"},(0,i.h)("arcgis-browser-actions",{key:"27aabb670a794895e2888ed2b2cd6aa23731e4ae",actions:this.actions,selection:this.store.state.selectedGroups,store:this.store}))}get el(){return(0,i.a)(this)}},O=class{constructor(e){(0,i.r)(this,e)}async componentWillLoad(){this.store=(0,p.g)(this.el)}render(){const e=this.store.state.view;return(0,i.h)(i.H,{key:"c7e6480053b3afeffc4a62c47425eb7006aa23bc"},(0,i.h)("div",{key:"bda7f5f4f1f79e608ec8475a7eb577325bc630ba",class:{[e]:!0,"no-space":this.store.state.width<c.b.xs&&this.store.state.panel}},(0,i.h)("slot",{key:"19af8a8eb69c855718f70888503c4d8c7f1fcf5f"})))}get el(){return(0,i.a)(this)}};O.style=":host{--arcgis-group-browser-columns:repeat(1, 1fr);--arcgis-group-browser-gap:0.5rem}.list slot,.compact slot{display:grid;grid-template-columns:var(--arcgis-group-browser-columns)}.compact slot{gap:0px}.list slot{gap:var(--arcgis-group-browser-gap)}";const I=class{constructor(e){(0,i.r)(this,e),this.arcgisGroupBrowserFilter=(0,i.c)(this,"arcgisGroupBrowserFilter",7),this.property="modified",this.range=void 0,this.start=void 0,this.end=void 0,this.expanded=void 0}componentWillLoad(){this.store=(0,p.g)(this.el)}getEventDetail(e){return Object.assign({param:"q"},e)}render(){const{property:e,range:t,start:r,end:s,store:o,expanded:a}=this;return(0,i.h)("arcgis-browser-filter-date",{key:"4159f0752b20af062e912203ab5254bb09474ba1",serverProperty:e,property:e,store:o,start:r,end:s,range:t,expanded:a,onArcgisBrowserFilter:e=>{this.arcgisGroupBrowserFilter.emit(this.getEventDetail(e.detail))}})}get el(){return(0,i.a)(this)}},B=class{constructor(e){(0,i.r)(this,e),this.arcgisGroupBrowserUsernamesFilter=(0,i.c)(this,"arcgisGroupBrowserUsernamesFilter",7),this.searchUsernames=void 0,this.searchUsername=void 0,this.owner=void 0,this.expanded=void 0,this.allUsernames=[],this.selectedUsername=void 0}async componentWillLoad(){var e,t,r,i;this.i18n=null===(e=await(0,g.g)(this.el))||void 0===e?void 0:e.filterGroupsByUser,this.selectedUsername=null!==(r=null!==(t=this.searchUsername)&&void 0!==t?t:this.searchUsernames[0])&&void 0!==r?r:null===(i=o.c.user)||void 0===i?void 0:i.username}async searchUsernamesChanged(){this.allUsernames=this.searchUsernames}async searchUsernameChanged(){this.selectedUsername=this.searchUsername}render(){var e;const{allUsernames:t,selectedUsername:r,searchUsername:s,i18n:a}=this,n=null===(e=o.c.user)||void 0===e?void 0:e.username;return(0,i.h)("arcgis-browser-filter",{key:"22526c63ac45f6ec1170f0668b5dcfc8b8890530",heading:this.i18n.title,expanded:this.expanded,onArcgisBrowserFilterRemove:()=>{this.selectedUsername=s}},(0,i.h)("calcite-tree",{key:"9380bb86a4e8146b04b944d734bdb515e51daa30",selectionMode:"single",scale:"m",onCalciteTreeSelect:e=>{var t,r;const i=(null===(r=null===(t=e.target.selectedItems)||void 0===t?void 0:t[0])||void 0===r?void 0:r.dataset.username)||"";this.selectedUsername=i,this.arcgisGroupBrowserUsernamesFilter.emit(i)}},t.map(e=>(0,i.h)("calcite-tree-item",{"data-username":e,selected:e===r},(0,i.h)("a",null,e===n?a.me.replace("${username}",e):e)))))}get el(){return(0,i.a)(this)}static get watchers(){return{searchUsernames:["searchUsernamesChanged"],searchUsername:["searchUsernameChanged"]}}},S=class{constructor(e){(0,i.r)(this,e),this.arcgisGroupBrowserFilter=(0,i.c)(this,"arcgisGroupBrowserFilter",7),this.memberOrg=void 0,this.orgId=void 0,this.expanded=void 0}async componentWillLoad(){var e;this.store=(0,p.g)(this.el),this.i18n=null===(e=await(0,g.g)(this.el))||void 0===e?void 0:e.filterMemberOrg}async componentDidLoad(){this.memberOrg&&this.arcgisGroupBrowserFilter.emit(this.getEventDetail()),(0,m.a)("memberOrg",this.store,()=>this.memberOrg=null)}getQueryValue(){const{username:e}=o.c.user,t=o.c.portal.id;if(!e||!t)return"";switch(this.memberOrg){case"myOrg":return"memberorgids:NULL";case"anotherOrg":return this.orgId?`(memberorgids:${this.orgId} OR orgid:${this.orgId})`:"-memberorgids:NULL";default:return""}}getEventDetail(){const{memberOrg:e,orgId:t}=this;return{id:"memberOrg",param:"q",value:this.getQueryValue(),label:this.i18n.label.replace("${label}",this.i18n[e]),memberOrg:e,orgId:t}}render(){var e;return(null===(e=null===o.c||void 0===o.c?void 0:o.c.portal)||void 0===e?void 0:e.isPortal)?null:(0,i.h)("arcgis-browser-filter",{heading:this.i18n.currentMembersAreFrom,expanded:this.expanded,active:!!this.memberOrg,filterID:"memberOrg",onArcgisBrowserFilterRemove:()=>{this.memberOrg=null,this.orgId=null}},(0,i.h)("calcite-tree",{selectionMode:"single",scale:"m",onCalciteTreeSelect:e=>{var t,r;const i=(null===(r=null===(t=e.target.selectedItems)||void 0===t?void 0:t[0])||void 0===r?void 0:r.dataset.memberOrg)||"";this.memberOrg===i?this.memberOrg=null:this.memberOrg=i,this.arcgisGroupBrowserFilter.emit(this.getEventDetail())}},["myOrg","anotherOrg"].map(e=>(0,i.h)("calcite-tree-item",{"data-member-org":e,selected:e===this.memberOrg},(0,i.h)("a",null,this.i18n[e])))))}get el(){return(0,i.a)(this)}},F=class{constructor(e){(0,i.r)(this,e),this.arcgisGroupBrowserFilter=(0,i.c)(this,"arcgisGroupBrowserFilter",7),this.hasIndoorsSpaces=!1,this.membership=void 0,this.expanded=void 0}async componentWillLoad(){var e;this.store=(0,p.g)(this.el),this.i18n=null===(e=await(0,g.g)(this.el))||void 0===e?void 0:e.filterMembership,this.hasIndoorsSpaces=this.store.state.hasIndoorsSpaces}async componentDidLoad(){this.membership&&this.arcgisGroupBrowserFilter.emit(this.getEventDetail()),(0,m.a)("membership",this.store,()=>this.membership=null)}getQueryValue(){if(this.hasIndoorsSpaces)return"membershipaccess:org";switch(this.membership){case"org":return"membershipaccess:org";case"collaboration":return"membershipaccess:collaboration";case"anyOrg":return"membershipaccess:NULL";default:return""}}getEventDetail(){const{membership:e}=this;return{id:"membership",param:"q",value:this.getQueryValue(),label:this.i18n.label.replace("${label}",this.i18n[e]),membership:e}}render(){var e;return this.hasIndoorsSpaces||(null===(e=null===o.c||void 0===o.c?void 0:o.c.portal)||void 0===e?void 0:e.isPortal)?null:(0,i.h)("arcgis-browser-filter",{heading:this.i18n.groupMembershipSetting,expanded:this.expanded,active:!!this.membership,filterID:"membership",onArcgisBrowserFilterRemove:()=>{this.membership=null}},(0,i.h)("calcite-tree",{selectionMode:"single",scale:"m",onCalciteTreeSelect:e=>{var t,r;const i=(null===(r=null===(t=e.target.selectedItems)||void 0===t?void 0:t[0])||void 0===r?void 0:r.dataset.membership)||"";this.membership===i?this.membership=null:this.membership=i,this.arcgisGroupBrowserFilter.emit(this.getEventDetail())}},["org","collaboration","anyOrg"].map(e=>(0,i.h)("calcite-tree-item",{"data-membership":e,selected:e===this.membership},(0,i.h)("a",null,this.i18n[e])))))}get el(){return(0,i.a)(this)}},C=class{constructor(e){(0,i.r)(this,e),this.arcgisGroupBrowserFilter=(0,i.c)(this,"arcgisGroupBrowserFilter",7),this.hasIndoorsSpaces=!1,this.searchUsername=void 0,this.owner=void 0,this.expanded=void 0}async componentWillLoad(){var e;this.store=(0,p.g)(this.el),this.i18n=null===(e=await(0,g.g)(this.el))||void 0===e?void 0:e.filterOwner,this.hasIndoorsSpaces=this.store.state.hasIndoorsSpaces}async componentDidLoad(){var e,t;this.owner&&this.arcgisGroupBrowserFilter.emit(this.getEventDetail()),(0,m.a)("owner",this.store,()=>this.owner=null),null!==(e=this.searchUsername)&&void 0!==e||(this.searchUsername=null===(t=o.c.user)||void 0===t?void 0:t.username)}getQueryValue(){var e,t,r;const i=null!==(e=this.searchUsername)&&void 0!==e?e:null===(t=o.c.user)||void 0===t?void 0:t.username,s=null===(r=o.c.portal)||void 0===r?void 0:r.id;if(!i)return"";switch(this.owner){case"owner":return`owner:${i}`;case"inOrg":return`-owner:${i} orgid:${s}`;case"outsideOrg":return(0,v.b)(o.c.user)?`-owner:${i}`:`(orgid: [0 TO {]) -orgid:${s}`;default:return""}}getEventDetail(){const{owner:e,searchUsername:t}=this;return{id:"owner",param:"q",value:this.getQueryValue(),label:this.i18n.label.replace("${label}","owner"===e?t:(0,v.b)(o.c.user)?this.i18n.someoneElse:this.i18n[e]),owner:e,username:t}}getOwnerText(e){return"owner"===e?this.searchUsername:"outsideOrg"===e?this.i18n[(0,v.b)(o.c.user)?"someoneElse":"outsideOrg"]:this.i18n[e]}searchUsernameChanged(){this.arcgisGroupBrowserFilter.emit(this.getEventDetail())}render(){const e=o.c.user;if(!(null==e?void 0:e.username))return null;const t=(0,v.b)(e)?["owner","outsideOrg"]:["owner","inOrg","outsideOrg"];return(0,i.h)("arcgis-browser-filter",{heading:this.i18n.owner,expanded:this.expanded,active:!!this.owner,filterID:"owner",onArcgisBrowserFilterRemove:()=>{this.owner=null}},(0,i.h)("calcite-tree",{selectionMode:"single",scale:"m",onCalciteTreeSelect:e=>{var t,r;const i=(null===(r=null===(t=e.target.selectedItems)||void 0===t?void 0:t[0])||void 0===r?void 0:r.dataset.owner)||"";this.owner===i?this.owner=null:this.owner=i,this.arcgisGroupBrowserFilter.emit(this.getEventDetail())}},t.filter(e=>!(o.c.portal.isPortal||this.hasIndoorsSpaces)||"outsideOrg"!==e).map(e=>(0,i.h)("calcite-tree-item",{"data-owner":e,selected:e===this.owner},(0,i.h)("a",null,this.getOwnerText(e))))))}get el(){return(0,i.a)(this)}static get watchers(){return{searchUsername:["searchUsernameChanged"]}}};async function E(e){var t,r,i,s,o,a,n;let l=[];const c=[e.featuredItemsGroupQuery,e.basemapGalleryGroupQuery,e.basemapGalleryGroupQuery3D,e.templatesGroupQuery,e["2DStylesGroupQuery"],null!==(t=e.stylesGroupQuery)&&void 0!==t?t:null===(r=e.sourceJSON)||void 0===r?void 0:r.stylesGroupQuery,null!==(i=e.analysisLayersGroupQuery)&&void 0!==i?i:null===(s=e.sourceJSON)||void 0===s?void 0:s.analysisLayersGroupQuery,e.galleryTemplatesGroupQuery];if((0,b.h)(e)){const t=await(0,b.c)(e),r=[];null===(a=null===(o=null==t?void 0:t.result)||void 0===o?void 0:o.content)||void 0===a||a.forEach(e=>{var t;"gallery"===(null==(t=e)?void 0:t.type)&&Boolean(null==t?void 0:t.groupId)&&r.push(e)}),r.length>0&&r.forEach(({groupId:e})=>{l=U(`id:${e}`,l)})}else c.push(e.homePageFeaturedContent);c.forEach(e=>{l=U(e,l)}),e.featuredGroups.forEach(e=>{if(e.id){const t=`id:${e.id}`;l=U(t,l)}else{const t=`(${Object.entries(e).map(e=>`${e[0]}:"${e[1]}"`).join(" ")})`;l=U(t,l,!0)}});try{const t=await(0,b.d)(e);null===(n=null==t?void 0:t.groups)||void 0===n||n.forEach(e=>{l=U(`id:${e}`,l)})}catch(e){console.warn("Error fetching member defaults:",e)}return l.length>0?`(${l.join(" OR ")})`:""}function U(e,t,r){return 0!==(null==e?void 0:e.indexOf("id:"))&&!r||t.includes(e)?[...t]:[...t,e]}const P=class{constructor(e){(0,i.r)(this,e),this.arcgisGroupBrowserFilter=(0,i.c)(this,"arcgisGroupBrowserFilter",7),this.hasIndoorsSpaces=!1,this.specialGroup=void 0,this.expanded=void 0,this.options=[]}async componentWillLoad(){var e;this.store=(0,p.g)(this.el),this.i18n=null===(e=await(0,g.g)(this.el))||void 0===e?void 0:e.filterSpecialGroups,this.hasIndoorsSpaces=this.store.state.hasIndoorsSpaces,this.validateOptions(),(0,o.o)("portal",()=>this.validateOptions())}async validateOptions(){if(!o.c.portal)return this.options=[];const e=await E(o.c.portal);this.options=["openData","sharedUpdate","distributed","admin","settings"].filter(t=>!("openData"===t&&o.c.portal.isPortal||"distributed"===t&&this.hasIndoorsSpaces||"settings"===t&&!e))}async componentDidLoad(){this.specialGroup&&this.arcgisGroupBrowserFilter.emit(await this.getEventDetail()),(0,m.a)("specialGroups",this.store,()=>this.specialGroup=null)}async getQueryValue(){switch(this.specialGroup){case"openData":return"isopendata:true";case"sharedUpdate":return"capabilities:updateitemcontrol";case"distributed":return"capabilities:distributed";case"admin":return"isleavingdisallowed:true";case"settings":return await E(o.c.portal);default:return""}}async getEventDetail(){const{specialGroup:e}=this;return{id:"specialGroups",param:"q",value:await this.getQueryValue(),label:this.i18n.label.replace("${label}",this.i18n[e]),specialGroups:e}}render(){return(null===o.c||void 0===o.c?void 0:o.c.portal)?(0,i.h)("arcgis-browser-filter",{heading:this.i18n.title,expanded:this.expanded,active:!!this.specialGroup,filterID:"specialGroups",onArcgisBrowserFilterRemove:async()=>{this.specialGroup=null}},(0,i.h)("calcite-tree",{selectionMode:"single",scale:"m",onCalciteTreeSelect:async e=>{var t,r;const i=(null===(r=null===(t=e.target.selectedItems)||void 0===t?void 0:t[0])||void 0===r?void 0:r.dataset.specialGroups)||"";this.specialGroup===i?this.specialGroup=null:this.specialGroup=i,this.arcgisGroupBrowserFilter.emit(await this.getEventDetail())}},this.options.map(e=>(0,i.h)("calcite-tree-item",{"data-special-groups":e,selected:e===this.specialGroup},(0,i.h)("a",null,this.i18n[e],"settings"===e&&(0,i.h)("arcgis-information",{style:{verticalAlign:"-.25rem","--arcgis-information-min-width":"0"},label:this.i18n.tooltipLabel,overlayPositioning:"fixed",placement:"bottom-end",paddedContent:!0},(0,i.h)("div",{style:{maxWidth:"10rem"}},this.i18n.tooltip))))))):null}get el(){return(0,i.a)(this)}},$=class{constructor(e){(0,i.r)(this,e)}async componentWillLoad(){this.store=(0,p.g)(this.el)}render(){var e,t,r,s;return(0,i.h)("arcgis-browser-filters",{key:"cde06fd589cb43eaf4e75ffc27121276d3373fb1",store:this.store},(0,i.h)("div",{key:"96368cd3e3ef48438da2bafa9df0a5ecc6bbf6ba",slot:"top"},(0,i.h)("slot",{key:"286d5e667ca3fd73f0241ae12e773ad89ee91c48",name:"top"})),(0,i.h)("div",{key:"74c02e428b956489feba4f1bb6886f1a167696e5",slot:"primary"},(0,i.h)("slot",{key:"bf54bc6f00e5a80c1a07bed7eb4161f8336fd470",name:"primary"})),(0,i.h)("div",{key:"2907abb4e6f71c897a787ca548ff2475eac23031",slot:"title"},(0,i.h)("h2",{key:"ddc9d57d458e736bfbbe4de1965a8f35a625b1bf",class:"title"},(null===(s=null===(r=null===(t=null===(e=this.store)||void 0===e?void 0:e.state)||void 0===t?void 0:t.i18n)||void 0===r?void 0:r.groupBrowser)||void 0===s?void 0:s.filters)||""),(0,i.h)("slot",{key:"3429e8333b694cfd0ee6472e6299c32cfba5e0b1",name:"before-filters"})),(0,i.h)("slot",{key:"f2fdab236988fdbdf16b155f6b70ca708863fe0b"}),(0,i.h)("div",{key:"aa94f844c0f8ff695b2d523796dac8616f4c597d",slot:"bottom"},(0,i.h)("slot",{key:"b3ed831741ef80c52dd3c9ca96ee3c289776b18c",name:"bottom"})))}get el(){return(0,i.a)(this)}};$.style=".title{margin:0px;padding-left:0.5rem;padding-right:0.5rem;padding-top:1rem;padding-bottom:1rem;font-size:1rem;font-weight:500;color:var(--calcite-color-text-1);line-height:1;margin-bottom:-1px;border-bottom:1px solid var(--calcite-color-border-2)}";const A=class{constructor(e){(0,i.r)(this,e),this.arcgisGroupBrowserPage=(0,i.c)(this,"arcgisGroupBrowserPage",7),this.total=void 0,this.start=void 0,this.num=60}async componentWillLoad(){this.store=(0,p.g)(this.el)}render(){const{start:e,total:t,num:r,store:s}=this;return(0,i.h)("arcgis-browser-pagination",{key:"308887c306179c9ea18a013e319618c6ca64d009",start:e,total:t,num:r,store:s,onArcgisBrowserPage:e=>this.arcgisGroupBrowserPage.emit(e.detail)})}get el(){return(0,i.a)(this)}};A.style=".wrapper{display:flex;justify-content:center;padding-left:0.5rem;padding-right:0.5rem;padding-top:2rem;padding-bottom:2rem}.hide{display:none}";const T=class{constructor(e){(0,i.r)(this,e),this.arcgisGroupBrowserPreviewClose=(0,i.c)(this,"arcgisGroupBrowserPreviewClose",7),this.arcgisGroupBrowserInternalUIAction=(0,i.c)(this,"arcgisGroupBrowserInternalUIAction",7),this.group=void 0,this.portal=void 0,this.user=void 0,this.hidePreviewFooter=!1,this.showBadges=!0,this.currentResponse=void 0,this.fullGroup=void 0,this.userInfo=void 0,this.content=void 0,this.managers=void 0}async componentWillLoad(){var e;this.store=(0,p.g)(this.el),this.lang=await(0,l.a)(this.el),this.i18n=null===(e=await(0,g.g)(this.el))||void 0===e?void 0:e.preview,this.init()}updatePreview(){this.init()}async init(){var e,t,r;if(!this.group)return;const{group:i,portal:s,user:o}=this;this.isGroupOwner=i.owner===(null==o?void 0:o.username),this.fullGroup=null,this.fullGroup=await(0,n.m)((0,f.f)(i.id,this.portal),600),this.userInfo=await(0,y.f)(i.owner,s);const a=this.getTypeQuery(this.fullGroup);this.content=await((null===(t=null===(e=this.fullGroup.properties)||void 0===e?void 0:e.featuredItemIds)||void 0===t?void 0:t.length)&&this.fullGroup.properties.isFeatured?async function(e,t,r,i=4){const s=`${(0,h.g)(e)}content/groups/${t}/search`,o={num:i,start:0,q:`id:(${r.slice(0,i).join(" OR ")})`},a=await(0,u.r)(s,o);if(a.total){const e=r.map(e=>a.results.find(t=>t.id===e)).filter(Boolean);a.results=e}return a}(s,i.id,this.fullGroup.properties.featuredItemIds):async function(e,t,r={}){const i=`${(0,h.g)(e)}content/groups/${t}/search`;return await(0,u.r)(i,Object.assign(Object.assign({},{num:4,start:0,sortField:"modified",sortOrder:"desc"}),r))}(s,i.id,Object.assign({sortField:this.fullGroup.sortField||"modified",sortOrder:this.fullGroup.sortOrder||"desc"},a?{q:a}:{}))),this.managers=await this.fetchGroupAdmins(s,i),null===(r=this.flowItem)||void 0===r||r.setFocus()}handleAccordionItemClick(e,t){this.arcgisGroupBrowserInternalUIAction.emit({action:e.expanded?"expand":"collapse",category:"group panel action",details:t})}closePreview(){this.fullGroup=null,this.arcgisGroupBrowserInternalUIAction.emit({action:"close panel",category:"group panel action"}),this.arcgisGroupBrowserPreviewClose.emit()}handleDetailsClick(e){this.arcgisGroupBrowserInternalUIAction.emit({action:"click",category:"group panel action",details:e})}renderHeader(){var e;return(0,i.h)("div",{slot:"header-content",class:"preview__header"},(0,i.h)("h3",{class:"preview__title"},null===(e=this.group)||void 0===e?void 0:e.title))}isAccordionItem(e){return"CALCITE-ACCORDION-ITEM"===e.tagName}getViewByText(e){switch(e.access){case"public":return this.i18n.everyone;case"private":return this.i18n.onlyMembers;case"org":return this.i18n.onlyOrganization;case"shared":return this.i18n.onlyOrganizationAndPartners}}getJoinByText(e){return e.autoJoin?this.i18n.byAutojoin:e.isInvitationOnly?this.i18n.byInvitation:e.providerGroupName?this.i18n.byEnterprise:this.i18n.byRequest}async fetchGroupAdmins(e,t){var r,i;const s=null!==(i=null===(r=await async function(e,t,r={}){const i=`${(0,h.g)(t)}community/groups/${e}/userlist`;return(0,u.r)(i,r)}(t.id,e,{memberType:"admin"}))||void 0===r?void 0:r.users)&&void 0!==i?i:[],o=s.find(e=>e.username===t.owner);return[o,...s.filter(e=>e.username!==o.username)]}getTypeQuery(e){var t;if(null===(t=e.displaySettings)||void 0===t?void 0:t.itemTypes){switch(e.displaySettings.itemTypes.split(",")[0].toLowerCase()){case"application":return f.i.applications.q;case"web map":return f.i.maps.q;case"web scene":return f.i.scenes.q;case"locator package":return f.i.tools.q;case"csv":return f.i.files.q;case"layer":return f.i.layers.q}}return w.H}render(){var e,t;const{group:r,fullGroup:s,i18n:o,managers:n,portal:l,content:c,showBadges:d,user:u}=this;return(0,i.h)(i.H,{key:"6d683e21abc4134a2235c186ad593a8d37493a47"},(0,i.h)("calcite-flow",{key:"772a6788e49143473288c65b7a7a24a3ed6590ae"},(0,i.h)("calcite-flow-item",{key:"00fb5d51577da7c0da8fbe8abf68838715bf598e",closable:!0,loading:!s,onCalciteFlowItemClose:()=>this.closePreview(),ref:e=>this.flowItem=e},this.renderHeader(),s&&(0,i.h)("div",{key:"e0c10bd943c4bee88a9361b0c306fb10e2923634",class:"content"},(0,i.h)("calcite-accordion",{"icon-position":"start",appearance:"transparent",key:r.id,class:"accordion"},(0,i.h)("calcite-accordion-item",{key:"0f728fae7de10a0d8a51b94bcd1c007dde5b10c2",heading:o.overview,expanded:Boolean(s.snippet),ref:e=>{this.overviewElement=e},onClick:e=>this.isAccordionItem(e.target)&&this.handleAccordionItemClick(this.overviewElement,"overview")},(0,i.h)("div",{key:"6c611440ea13d0d4fa5c775b9ed045b1b5f34d1c",class:"section"},s.snippet?(0,i.h)("p",{class:"details-text"},s.snippet):(0,i.h)("p",{class:"details-text details-text--empty"},o.noSummary),d&&(0,i.h)("arcgis-group-badges",{key:"9478503713546742cd07a835be4e49b9fd05020d",group:s,portal:l,showTooltips:!1,width:"full",scale:"s",appearance:"outline-fill",class:"badges"}))),(0,i.h)("calcite-accordion-item",{heading:o.description,key:"description",ref:e=>{this.descriptionElement=e},onClick:e=>this.isAccordionItem(e.target)&&this.handleAccordionItemClick(this.descriptionElement,"description")},(0,i.h)("div",{key:"9f055e3a31e4faad0096dd00124de9ae40b5eda6",class:"section"},s.description?(0,i.h)("div",{class:"description",innerHTML:(0,a.s)(s.description)}):(0,i.h)("p",{class:"details-text details-text--empty"},o.noDescription))),(0,i.h)("calcite-accordion-item",{key:"5e8816956ce8c2d881400399b81c5464929a3aa4",heading:o.content.replace("${count}",c?`${c.total}`:"0"),expanded:!0,ref:e=>{this.contentElement=e},onClick:e=>this.isAccordionItem(e.target)&&this.handleAccordionItemClick(this.contentElement,"content")},(0,i.h)("div",{key:"3c77d20deb897f95bd3640358cf1cd83e353448e",class:{section:!0,"section--tight":(null==c?void 0:c.total)>0}},(null==c?void 0:c.total)?(0,i.h)("div",{class:"full-card-wrapper"},c.results.map(e=>(0,i.h)("arcgis-group-browser-preview-card",{class:"content-card",item:e,portal:l,user:u,key:e.id})),(0,i.h)("div",{class:"details-link block--padded"},(0,i.h)("calcite-link",{href:`${(0,h.j)(l)}/home/group.html?id=${r.id}&view=list#content`,onClick:()=>{this.handleDetailsClick("view all content")}},o.viewContent))):(0,i.h)("div",{class:"section--centered"},(0,i.h)("calcite-icon",{scale:"l",icon:"files",class:"icon-xl details-text--empty"}),(0,i.h)("p",{class:"details-text details-text--empty"},o.noContent)))),(0,i.h)("calcite-accordion-item",{key:"e328121ad4cc82f5902e3b8f55e0b7643c82d577",heading:o.groupManagers.replace("${count}",n?`${n.length}`:"0"),expanded:!0,ref:e=>{this.managersElement=e},onClick:e=>this.isAccordionItem(e.target)&&this.handleAccordionItemClick(this.managersElement,"managers")},(0,i.h)("div",{key:"287d5b097e74fb52d8f73ce1f863fea294000f20",class:"section section--tight"},(0,i.h)("div",{key:"6e2a63429e2f12887b2f5fd15fb01adc6e0d3043",class:"full-card-wrapper"},null==n?void 0:n.map(e=>(0,i.h)("calcite-card",{key:e.username,class:"content-card"},(0,i.h)("arcgis-user-popup",{fullName:e.username===r.owner?o.groupOwner.replace("${fullName}",(0,y.g)(e,this.lang)):e.fullName,showName:!0,user:e,showUsername:!0,portal:l}))),(0,i.h)("div",{key:"ad72522a1ca28420c7cb69a1a56e8b58d60066e3",class:"details-link block--padded"},(0,i.h)("calcite-link",{key:"432ea763ec0ec879b1884da763916928e7e3cff0",href:`${(0,h.j)(l)}/home/group.html?id=${r.id}#members`,onClick:()=>{this.handleDetailsClick("open members page")}},o.openMembers))))),(0,i.h)("calcite-accordion-item",{key:"3086d194cef69c69bc37787262894b9f474f4472",heading:o.settings,expanded:this.isGroupOwner,ref:e=>{this.settingsElement=e},onClick:e=>this.isAccordionItem(e.target)&&this.handleAccordionItemClick(this.settingsElement,"settings")},(0,i.h)("div",{key:"b4b30766661fbc93cedc16ca9789c6f31e5c6660",class:"section"},(0,i.h)("h4",{key:"ad027c8ca4f5de032a1f5cf5382107031876f59d",class:"details-title"},o.viewableBy,":"),(0,i.h)("p",{key:"84aded006518d61e37be43482160a8c379f55eb8",class:"settings-text"},this.getViewByText(s)),(0,i.h)("h4",{key:"bd8fe5bdaf0e510e59c21ecff92e67bfa3b32f2d",class:"details-title"},o.contributors,":"),(0,i.h)("p",{key:"adbc09220f9cf5e6496e781eeec503a7905c3ff8",class:"settings-text"},s.isViewOnly?o.onlyOwnerManager:o.allMembers),this.isGroupOwner&&(0,i.h)(i.F,{key:"1f71dc3bff1b482a66fcd19e182d533ea605097e"},(0,i.h)("h4",{key:"b80ff0e0b6caf47bf779fecbb7e149f02a1fd67d",class:"details-title"},o.joinMethod,":"),(0,i.h)("p",{key:"f24cf295bfd2f6a13d889046d645c3959289c8ad",class:"settings-text"},this.getJoinByText(s)),(0,i.h)("div",{key:"aa4909a684835878d9d499ab3a9e4683e154d27e",class:"details-link"},(0,i.h)("calcite-link",{key:"ee04f9569dead7078336fc28ef719a0b2eded88d",href:`${(0,h.j)(l)}/home/group.html?id=${r.id}#settings`,onClick:()=>{this.handleDetailsClick("open settings")}},o.openSettings))))))),!this.hidePreviewFooter&&(0,i.h)("div",{key:"31119963fba8e1799680f6973b2da3d172174b14",slot:"footer",class:{"footer-actions":!0,"footer-actions--spaced":!(null===(t=null===(e=this.store)||void 0===e?void 0:e.state)||void 0===t?void 0:t.previewFooterActionsEmpty)}},l&&r&&(0,i.h)("calcite-button",{key:"f4dfda4f9c17a7856bf9a9c232cfb391e3aa2f6a",onClick:()=>{var e;const{currentResponse:t,group:r}=this,i=(null===(e=null==t?void 0:t.results)||void 0===e?void 0:e.findIndex(e=>e.id===r.id))+t.start;this.arcgisGroupBrowserInternalUIAction.emit({action:"view group details",category:"group panel action",position:i})},href:`${(0,h.j)(l)}/home/group.html?id=${r.id}`,kind:"neutral",appearance:"solid",width:"full"},o.viewDetails),(0,i.h)("slot",{key:"d7fad717425ffd072c2a4a30405312861023510e",name:"footer-action"})))))}get el(){return(0,i.a)(this)}static get watchers(){return{group:["updatePreview"]}}};T.style=":host{display:flex;height:100%;width:100%;flex:1 1 0%;flex-direction:column;background-color:var(--calcite-color-background)}.preview__header{margin-inline-start:0.75rem}.preview__title{margin:0px;overflow-wrap:break-word;padding:0px;font-size:1rem;font-weight:500;color:var(--calcite-color-text-1);line-height:1.375}.title{margin-top:0.75rem;margin-bottom:0.75rem;padding:0px;font-size:1.125rem;font-weight:500;color:var(--calcite-color-text-1);word-wrap:break-word;word-break:break-word}.badges{margin-top:1rem}.badges[empty]{display:none}calcite-accordion{--calcite-accordion-item-header-background-color:var(--calcite-color-foreground-1)}calcite-accordion-item{--calcite-internal-accordion-item-padding:1rem 1rem;width:100%;box-sizing:border-box;border-bottom:1px solid var(--calcite-color-border-2)}.section{margin:-1rem;background-color:var(--calcite-color-background);padding-left:1rem;padding-right:1rem;padding-top:1rem;padding-bottom:1rem;line-height:1.35}.section--tight{padding-top:0px;padding-bottom:0px;padding-left:0px;padding-right:0px}.section--centered{display:flex;width:100%;flex-direction:column;align-items:center;row-gap:0.75rem}.full-card-wrapper{padding-left:0.5rem;padding-right:0.5rem;padding-top:0.75rem}.details-title{margin-top:1rem;margin-bottom:0px;padding-bottom:0.25rem;padding-top:0px;font-size:0.75rem;font-weight:500;color:var(--calcite-color-text-3);--calcite-label-margin-bottom:0}.details-title:first-of-type{margin-top:0px}.details-title--label{padding-bottom:0px}.details-text{margin:0px;overflow-wrap:break-word;padding:0px;font-size:0.875rem;font-weight:400;color:var(--calcite-color-text-1)}.details-text a{color:var(--calcite-color-text-link)}.details--text-empty{font-weight:400;color:var(--calcite-color-text-3)}.details-link{margin-top:0.75rem}.description{overflow-wrap:break-word;line-height:1.35}.description *{max-width:100%;font-size:0.875rem !important}.description{--item-browser-table-border:1px solid var(--calcite-color-border-2)}.description img,.description video{height:auto}.description table{width:100%;border-collapse:collapse;--tw-border-spacing-x:0px;--tw-border-spacing-y:0px;border-spacing:var(--tw-border-spacing-x) var(--tw-border-spacing-y);overflow:auto;background-color:var(--calcite-color-foreground-1);text-align:start;font-size:0.75rem;border:var(--item-browser-table-border)}.description table>thead{background-color:var(--calcite-color-foreground-1);font-weight:400;border-bottom:var(--item-browser-table-border)}.description table>tbody{width:100%;overflow:auto}.description table>tfoot{border-top:var(--item-browser-table-border)}.description table th,.description table td{padding:0.5rem;text-align:start;font-weight:300;border-left:var(--item-browser-table-border);border-right:var(--item-browser-table-border)}.description table tr{text-align:start;border-bottom:var(--item-browser-table-border)}.description table tr:last-child{border-bottom:none}.icon-xl{height:3rem;width:3rem}.content-card{margin-bottom:0.25rem}.content-thumbnail{margin-top:auto;margin-bottom:auto;width:100%;margin-inline-end:1rem}.settings-text{margin-top:-0.25rem;margin-bottom:-0.25rem;font-size:0.875rem;font-weight:400}.footer-actions{display:grid;width:100%;grid-template-columns:repeat(1, minmax(0, 1fr))}.footer-actions--spaced{gap:0.5rem}.block--padded{padding-bottom:1rem;padding-inline-start:0.25rem}";const D=class{constructor(e){var t;(0,i.r)(this,e),this.arcgisGroupBrowserInternalUIAction=(0,i.c)(this,"arcgisGroupBrowserInternalUIAction",7),this.arcgisGroupBrowserPreviewCardSelect=(0,i.c)(this,"arcgisGroupBrowserPreviewCardSelect",7),this.handleCardClick=()=>{this.link||this.arcgisGroupBrowserPreviewCardSelect.emit(this.item)},this.item=void 0,this.portal=void 0,this.user=void 0,this.api=void 0,this.baseUrl=null===(t=null===o.c||void 0===o.c?void 0:o.c.config)||void 0===t?void 0:t.baseUrl,this.link=void 0,this.newTab=void 0,this.showThumbnail=!0,this.showOwner=!0,this.showItemType=!0,this.showDateUpdated=!1,this.showSummary=!1,this.showBadges=!1,this.showOwnerPopup=!1,this.interactive=!1,this.hover=void 0,this.updatedText="",this.loaded=void 0}async restoreFocus(){this.link&&this.linkEl?this.linkEl.focus():this.sectionEl&&this.sectionEl.focus()}async componentWillLoad(){var e,t;this.updatedText=(0,x.b)(this.item.modified),this.portal=null!==(e=this.portal)&&void 0!==e?e:o.c.portal,this.user=null!==(t=this.user)&&void 0!==t?t:o.c.user}async componentDidLoad(){await(0,n.t)(100),this.loaded=!0}render(){var e,t;const{item:r,user:s,portal:a,api:n,loaded:l,showDateUpdated:c,showItemType:d,showOwner:h,showOwnerPopup:u,showBadges:p,showSummary:g,showThumbnail:m,interactive:v,link:b,newTab:f}=this,w=null!==(e=this.baseUrl)&&void 0!==e?e:null===(t=o.c.config)||void 0===t?void 0:t.baseUrl,y=this.link?"a":"div",x=Object.assign({href:b},f?{target:"_blank",rel:"noopener noreferrer"}:{});return(0,i.h)(i.H,{key:"18738672cdd9e42fbfd74dfd896e80a7ca87d66e"},(0,i.h)("section",Object.assign({key:"8da506b126e19b0a877565b86a3bbe3d26153967",class:{card:!0,"card--hoverable":v,"card--loaded":l}},v?{onMouseOver:()=>this.hover=!0}:{},v?{onMouseOut:()=>this.hover=!1}:{},b?{}:{onClick:this.handleCardClick},{ref:e=>this.sectionEl=e}),(0,i.h)("slot",{key:"8f7054097e3ac97110f15216a468faa5b13eb5a5",name:"content-top"}),(0,i.h)(y,Object.assign({key:"bc3ac76762582e8426fcf0edf760bcb8bcf9c655",class:{card__upper:!0,"card__upper--link":!!b}},b?x:{},{ref:e=>this.linkEl=e}),(0,i.h)("div",{key:"251105ebc5ac803ae135164060faaeafcebad313",class:"card-flex card__top"},(0,i.h)("div",{key:"1e01b894b5b99250b5e45e581fdb1d76b4bf388e",class:"card-flex-1"},(0,i.h)("div",{key:"0c538dd79997d4ba37daa63e0ac7046cc7e22a54",class:"card-flex"},(0,i.h)("div",{key:"b45382162831543b8a33515b5e8e0452231f7917",class:"card__content"},(0,i.h)("h3",{key:"40fc96b47f5b4f2a826a86580049875d04dfd71f",class:{card__title:!0,"card__title--padded":d||g&&!!r.snippet}},(0,i.h)("span",{key:"8da81e5f1aff9ab1821eae2d9a6298699fdf00c5",class:"card__title__span"},r.title)),g&&r.snippet&&(0,i.h)("p",{key:"3b9e63baa10f67bdcf93bbca7e0d253a18d7ea28",class:"card__summary"},r.snippet.length>250?`${r.snippet.substring(0,250)}\u2026`:r.snippet),d&&(0,i.h)("arcgis-item-type",{key:"b796422c8b860cd3ec979bfe07baaa4038d2599d",scale:"s",item:r,portal:a}),(0,i.h)("div",{key:"48e5916625a8eb93a257dd5ad82e013992416418",class:"card__details"},c&&(0,i.h)("span",{key:"bee5d9ace8650cddea03daa87b8ffd586c07f82a",class:{card__detail:!0,card__divider:!0}},this.updatedText),p&&(0,i.h)("arcgis-item-badges",{key:"b8d62052e771569d4c437b659a6dd453f1fd92cb",item:r,user:s,portal:a,width:"narrow",showTooltips:!0,class:{card__badges:!0,card__divider:!0},scale:"s"}))),m&&(0,i.h)("figure",{key:"0ee328681aa86d2ab68a8dc8a4c01843a4566e8e",class:"card__thumbnail"},(0,i.h)("arcgis-item-thumbnail",{key:"d8833ccdefd913909e0be8450962f064edd97324",item:r,user:s,portal:a})))))),(0,i.h)("div",{key:"dc6d7380cbb22be373e20445c0df3458336dc6d4",class:"card__footer",onClick:e=>{e.stopPropagation()},onKeyPress:e=>{"Enter"!==e.key&&" "!=e.key||e.stopPropagation()}},(0,i.h)("div",{key:"34f29a6cf72c5af13c47a36910f1ca11f1230025",class:{card__footer__start:!0,"card__footer__start--owner":h}},h&&(0,i.h)("div",{key:"cee6d4096c648664ad55981707e9cc523e91afa9",class:"card__profile-wrap",onClick:e=>{e.preventDefault(),e.stopPropagation()}},u?(0,i.h)("arcgis-user-popup",{underline:!0,username:r.owner,api:n,portal:a,baseUrl:w,showAvatar:!1,class:"card__owner",scale:"s",onArcgisUserPopupInternalUIAction:e=>{e.stopPropagation(),this.arcgisGroupBrowserInternalUIAction.emit(e.detail)}}):(0,i.h)("arcgis-user-avatar",{slot:"footer-start",scale:"s",showName:!0,showAvatar:!1,username:r.owner,portal:a}))),(0,i.h)("slot",{key:"211743bb55dc27941a4083960fbd7854938b6856",name:"actions-end"}))))}get el(){return(0,i.a)(this)}};D.style=':host{display:block;min-width:0px}.card{position:relative;box-sizing:border-box;display:flex;height:100%;width:100%;flex-direction:column;color:var(--calcite-color-text-1);opacity:0;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);transition-duration:150ms;outline-color:transparent;background-color:var(--calcite-color-foreground-1);transition-property:background-color, outline, outline-offset, opacity;border:1px solid var(--calcite-color-border-3)}.card:focus{z-index:10;outline:2px solid var(--calcite-color-brand);outline-offset:-2px}.card--loaded{opacity:1}.card--selected{border-color:var(--calcite-color-brand)}.card--hoverable{cursor:pointer}.card__top{padding:0.75rem}.card__upper{flex:1 1 0%;background-color:var(--calcite-color-foreground-1);transition:all var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s}.card--hoverable .card__upper:hover{background-color:var(--calcite-color-background)}.card__upper--link{color:var(--calcite-color-text-1);text-decoration-line:none;outline-color:transparent}.card__upper--link:focus{z-index:10;outline:2px solid var(--calcite-color-brand);outline-offset:2px}.card__content{display:flex;min-width:0px;flex:1 1 0%;flex-direction:column}.card__details{margin-top:0.25rem;display:flex;flex-direction:row}.card__detail{font-size:0.75rem;color:var(--calcite-color-text-2)}.card__footer{margin-top:auto;display:flex;align-items:center;background-color:var(--calcite-color-foreground-1);padding-left:0.75rem;padding-right:0.75rem;padding-top:0.5rem;padding-bottom:0.5rem;border-top:1px solid var(--calcite-color-border-2)}.card__footer__start{display:flex;min-width:0px;flex:1 1 0%;flex-direction:row;align-items:center;overflow:hidden;margin-inline-end:0.75rem}.card__footer__start--owner{margin-inline-start:-0.25rem}.card__profile-wrap{box-sizing:border-box;max-width:100%;padding:0.25rem}.card__summary{margin:0px;padding:0px;font-size:0.875rem;color:var(--calcite-color-text-2)}.card__divider{display:flex;align-items:center;flex:0 0 auto}.card__divider:not([empty]):before{content:"";height:1.25rem;width:1px;background-color:var(--calcite-color-border-1);margin-inline:0.75rem}.card__divider:first-child:before{display:none}.card-flex{display:flex}.card-flex-1{min-width:0px;flex:1 1 0%}.screen-readers-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0}.card__title{margin-top:0px;margin-bottom:0px;height:2rem;overflow:hidden;overflow-wrap:break-word;padding-top:0px;padding-bottom:0px;font-size:0.875rem;font-weight:500;line-height:1.15;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.card__title--padded{margin-bottom:0.5rem}.card__snippet{margin:0px;margin-bottom:0.75rem;flex:1 1 0%;padding:0px;font-size:0.875rem}.card__badges--stacked{margin-top:0.5rem}.card__thumbnail{margin:0px;box-sizing:content-box;width:4rem;padding:0px;padding-inline-start:0.5rem}.card__owner{min-width:0px}';const L=class{constructor(e){(0,i.r)(this,e),this.arcgisGroupBrowserSearch=(0,i.c)(this,"arcgisGroupBrowserSearch",7),this.arcgisGroupBrowserSearchInput=(0,i.c)(this,"arcgisGroupBrowserSearchInput",7),this.term=void 0,this.placeholder=void 0,this.showClear=!1}async componentWillLoad(){var e;this.i18n=null===(e=await(0,g.g)(this.el))||void 0===e?void 0:e.search}render(){const{term:e,placeholder:t}=this;return(0,i.h)(i.H,{key:"c891563125e49c69065fbc276a21cd61f94e308a"},(0,i.h)("arcgis-browser-search",{key:"2a905aef4cdc820ea80c505f8a084e3ab2fe7322",term:e,placeholder:t||this.i18n.label,onArcgisBrowserSearch:e=>this.arcgisGroupBrowserSearch.emit(e.detail),onArcgisBrowserSearchInput:e=>this.arcgisGroupBrowserSearchInput.emit(e.detail)}))}get el(){return(0,i.a)(this)}};L.style=":host{position:relative;display:block}.search{pointer-events:none;position:absolute;z-index:10;margin-top:1rem;font-size:0.875rem;color:var(--calcite-color-text-1);inset-inline-start:1.5rem}.x{position:absolute;top:0px;z-index:10;margin-top:0.25rem;cursor:pointer;border-style:none;padding:0.5rem;color:var(--calcite-color-text-1);outline:2px solid transparent;outline-offset:2px;inset-inline-end:0.25rem;background:transparent}.input{position:relative;z-index:0;box-sizing:border-box;display:block;height:3rem;width:100%;border-style:none;padding-top:1rem;padding-bottom:1rem;padding-left:3rem;padding-right:3rem;font-size:0.875rem;color:var(--calcite-color-text-1);--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, -webkit-backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter, -webkit-backdrop-filter;transition-duration:150ms;background-color:transparent;border-bottom:2px solid transparent;font-family:inherit}.input::-webkit-search-cancel-button{display:none}.input::-ms-clear{display:none}.input:focus{--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);outline:2px solid transparent;outline-offset:2px;border-bottom-color:var(--calcite-color-brand)}";const j=class{constructor(e){var t;(0,i.r)(this,e),this.arcgisGroupBrowserSort=(0,i.c)(this,"arcgisGroupBrowserSort",7),this.options=["title","relevance","modified"],this.field=(null===(t=this.options)||void 0===t?void 0:t[0])||"relevance",this.order=void 0,this.activeField=void 0,this.activeOrder=void 0}async componentWillLoad(){this.store=(0,p.g)(this.el),this.activeField=this.field}updateField(e){this.activeField=e}updateOptions(e){(null==e?void 0:e.includes(this.activeField))||(this.activeField=null==e?void 0:e[0],this.activeOrder=(0,k.a)(this.activeField),this.arcgisGroupBrowserSort.emit({sortField:this.activeField,sortOrder:this.activeOrder}))}componentDidLoad(){this.arcgisGroupBrowserSort.emit({sortField:this.field,sortOrder:this.order||(0,k.a)(this.field)})}updateSortField(e){this.activeField=e,this.activeOrder=(0,k.a)(e),this.arcgisGroupBrowserSort.emit({sortField:this.activeField,sortOrder:this.activeOrder})}updateSortOrder(e){this.activeOrder=e,this.arcgisGroupBrowserSort.emit({sortField:this.activeField,sortOrder:this.activeOrder})}render(){const{activeField:e,activeOrder:t,field:r,order:s,options:o}=this,a=e||(o.includes(r)?r:o[0]),n=t||s;return(0,i.h)(i.H,{key:"6e90edbb49e7117e685405140adb3aa9f3fa0b9a"},(0,i.h)("arcgis-browser-sort",{key:"7fb2420404e9af9c2fc6be7c26373cf01103e436",store:this.store,field:a,order:n,options:o,onArcgisBrowserSortFieldChange:e=>this.updateSortField(e.detail),onArcgisBrowserSortOrderChange:e=>this.updateSortOrder(e.detail)}))}get el(){return(0,i.a)(this)}static get watchers(){return{field:["updateField"],options:["updateOptions"]}}},z=class{constructor(e){(0,i.r)(this,e)}async componentWillLoad(){this.store=(0,p.g)(this.el)}render(){return(0,i.h)(i.H,{key:"63bc0d726fdb5e57c88025e656a2d22c1983745c"},(0,i.h)("arcgis-browser-top-bar",{key:"2de30fc62c372e952f6756b83d67799c42ad1f9c",store:this.store},(0,i.h)("div",{key:"1c206209072352502c6668ffe9f4127d780b5e47",slot:"content-start"},(0,i.h)("slot",{key:"a88e76bdc8b5d9fa04a0e0573c45b737c6b5f8f2",name:"content-start"})),(0,i.h)("div",{key:"79f98852bd6c39a7fe8e06a11587247cba7e4593",slot:"search"},(0,i.h)("slot",{key:"ba2893c6107c652fa9a2c6456d354c51b79653e9",name:"search"})),(0,i.h)("div",{key:"60112fdbe133bb95cfaa350c251ad93fbaf2e96d",slot:"content-end"},(0,i.h)("slot",{key:"680af6090b871e6145538ac2637a0679eb3fd4ad",name:"content-end"}))))}get el(){return(0,i.a)(this)}}},33317:(e,t,r)=>{r.d(t,{a:()=>a,g:()=>o});var i=r(37762),s=r(74174);function o(e){return(0,s.g)(e,"arcgis-group-browser")}const a=(0,i.c)({filters:{},type:"group-browser"}).state},44388:(e,t,r)=>{r.d(t,{c:()=>s,r:()=>o});var i=r(15332);function s(e=""){return(0,i.s)(e).replace(/[<>\/\\?]/g,"\\$&").trim()}function o(e,{start:t,end:r,total:i}){const s="rtl"===document.documentElement.dir;return e.replace("${start}",s?r:t).replace("${end}",s?t:r).replace("${total}",i)}},46904:(e,t,r)=>{r.d(t,{a:()=>a,b:()=>o,c:()=>c,d:()=>d,e:()=>h,f:()=>u,g:()=>p,i:()=>n,u:()=>l});r(93814);var i=r(41473);function s(e){var t;return!!(null===(t=e.owner)||void 0===t?void 0:t.toLowerCase().includes("esri"))}function o(e){var t;return s(e)&&!!(null===(t=e.typeKeywords)||void 0===t?void 0:t.includes("Requires Credits"))}function a(e){var t;return s(e)&&!!(null===(t=e.typeKeywords)||void 0===t?void 0:t.includes("Requires Subscription"))}function n(e,t){return e.owner===t.username}function l(e,t){return n(e,t)||function(e,t){var r;if(null!=e.isAdmin)return!!e.isAdmin;const i=e.owner,s="admin"===e.itemControl,o=["esri_livingatlas","esri_demographics","esri_boundaries"];if((null===(r=e.portal)||void 0===r?void 0:r.isPortal)&&!n(e,t)&&s&&i.includes("esri_")&&!o.includes(i))return!1;return s}(e,t)}const c=(e,t)=>!!t.orgId&&e.every(e=>e.isOrgItem),d=(e,t)=>`${(0,i.a)(t)}item.html?id=${e}`,h=(e,t)=>`${(0,i.g)(t)}/content/users/${e}`,u=e=>e.reduce((e,t)=>(e[t.owner]=e[t.owner]?[...e[t.owner],t.id]:[t.id],e),{}),p=(e,t)=>`${(0,i.a)(t)}content/items/${e}`},94984:(e,t,r)=>{r.d(t,{C:()=>n,a:()=>h,b:()=>d,f:()=>l,g:()=>a,l:()=>o,s:()=>p});var i=r(15332),s=r(931);const o=new Map([["ar","ar"],["bg","bg"],["bs","bs"],["ca","ca"],["cs","cs"],["da","da"],["de","de"],["el","el"],["en","en"],["es","es"],["et","et"],["fi","fi"],["fr","fr"],["he","he"],["hr","hr"],["hu","hu"],["id","id"],["it","it"],["ja","ja"],["ko","ko"],["lt","lt"],["lv","lv"],["nb","no"],["no","no"],["nl","nl"],["pl","pl"],["pt-br","pt-BR"],["pt-pt","pt-PT"],["ro","ro"],["ru","ru"],["sk","sk"],["sl","sl"],["sr","sr"],["sv","sv"],["th","th"],["tr","tr"],["uk","uk"],["vi","vi"],["zh-cn","zh-CN"],["zh-hk","zh-HK"],["zh-tw","zh-TW"]]);function a(e){return function(e,t,r){const s=(0,i.c)(e,`[${t}]`);return s?s.getAttribute(t):r}(e,"dir","ltr")}const n={rtl:"arcgis--rtl"};async function l(e,t){const{api:r,type:i,places:o}=t||{};if(3===r){const[r]=await(0,s.l)(["dojo/number"]);return r.format(e,{type:i,places:o,pattern:null==t?void 0:t.pattern})}const[a]=await(0,s.l)(["esri/intl"]),n=a.convertNumberFormatToIntlOptions({places:o,style:i,digitSeparator:!0});return a.formatNumber(e,Object.assign(Object.assign({},n),{style:i}))}const c={};function d(e,t){let r=document.documentElement.lang;const i="bs"===r;if(i&&(r="hr"),t){const t=`${r}-full`,i={dateStyle:"full",timeStyle:"long"};return c[t]||(c[t]=new Intl.DateTimeFormat(r,i)),c[t].format(e)}const s={year:"numeric",month:i?"numeric":"short",day:"numeric"};return c[r]||(c[r]=new Intl.DateTimeFormat(r,s)),c[r].format(e)}function h(e,t,r,i){const s=null!=e?e:"en";let o=t.unknown;return(1===r||["id","ja","ko","th","vi","zh-cn","zh-hk","zh-tw"].includes(s))&&(o=t.single),1!==r&&["en","ca","da","de","el","es","et","fi","hi","hu","it","nb","nl","pt-pt","sv","tr"].includes(s)&&(o=t.multiple),p(o,Object.assign(Object.assign({},i),{number:r}))}const u=/\$\{([^}]+)\}/g;function p(e,t,r=u){let i=e;try{i=e.replace(r,(e,r)=>function(e,t){const r=e.split(".").reduce((e,t)=>e[t],t);return"string"==typeof r||"number"==typeof r?r:e}(r,t).toString())}catch(e){console.error(e)}return i}},96295:(e,t,r)=>{r.d(t,{H:()=>i,R:()=>s});const i='-typekeywords:("MapAreaPackage") -type:("Map Area" OR "Indoors Map Configuration" OR "Code Attachment")',s="Indoors Map Configuration,Code Attachment"}}]);