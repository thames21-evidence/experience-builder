/*! For license information please see arcgis_analysis_node_modules_arcgis_map-config-components_dist_com-e7eb68.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_map-config-components_dist_com-e7eb68"],{22679:(e,t,s)=>{s.d(t,{F:()=>c,a:()=>n,b:()=>l,c:()=>a,d:()=>p,e:()=>i,f:()=>r,g:()=>d,h:()=>o,i:()=>u});const i=9,r=90,a=37.5,l=9,o=90,n=37.5;var c=(e=>(e.CLUSTERING="clustering",e.CHART_CLUSTERING="chartClustering",e.BINNING="binning",e))(c||{});function d(e){const t=e.featureReduction;if(t)return"binning"===t.type?"binning":"cluster"===t.type?function(e){const t=e.featureReduction;return!!t.renderer&&"pie-chart"===t.renderer.type&&!t?.renderer?.authoringInfo?.isAutoGenerated}(e)?"pie-chart":"cluster":void 0}function u(e){const t=e.featureReduction;return!t?.renderer||!!t?.renderer?.authoringInfo?.isAutoGenerated}function p(e,t){switch(e){case"sum":return t.fields.sum;case"avg":return t.fields.mean;case"min":return t.fields.min;case"max":return t.fields.max;case"stddev":return t.fields.stdDev;case"mode":return t.fields.mode;case"var":return t.fields.var;case"count":return t.fields.count;default:return""}}},39176:(e,t,s)=>{s.d(t,{a:()=>p,b:()=>u,c:()=>m,d:()=>n,g:()=>c,h:()=>d,i:()=>o});var i=s(83930),r=s(23054),a=s(77462),l=s(56451);function o(e){return["simple-fill","simple-marker","simple-line","picture-marker","cim"].includes(e.type)}function n(e){return"picture-marker"===e.type||"cim"===e.type&&!function(e){return!!i.getCIMSymbolColor(e)}(e)}function c(){const e=new a.default({style:"solid",color:new l.default([92,92,92,64]),width:1});return new r.default({style:"circle",size:6.75,outline:e,color:new l.default([227,139,79,255])})}function d(e){return"picture-marker"!==e.type&&"cim"!==e.type&&!!e.outline?.color}function u(e){return"cim"===e?.type?l.default.fromJSON(i.getCIMSymbolColor(e).toJSON()):"simple-marker"===e?.type&&["x","cross"].includes(e?.style)?e?.outline?.color:e?.color}function p(e){return"cim"===e.type?i.getCIMSymbolSize(e):e.size?e.size:e.width}function m(e,t){return e.a=t,e}},42855:(e,t,s)=>{s.d(t,{a:()=>l,f:()=>i,l:()=>r,s:()=>a});var i=(e=>(e.expression="expression/",e.raster="Raster.",e.relationship="relationships/",e))(i||{}),r=(e=>(e.cluster="cluster",e.feature="feature",e.mapNotes="mapNotes",e))(r||{}),a=(e=>(e.catalog="catalog",e.catalogFootprint="catalog-footprint",e.csv="csv",e.feature="feature",e.geojson="geojson",e.imagery="imagery",e.imageryTile="imagery-tile",e.knowledgeGraphSublayer="knowledge-graph-sublayer",e.mapImage="map-image",e.ogcFeature="ogc-feature",e.orientedImagery="oriented-imagery",e.parquet="parquet",e.scene="scene",e.stream="stream",e.subtype="subtype",e.tile="tile",e.voxel="voxel",e.wcs="wcs",e.wfs="wfs",e.wms="wms",e))(a||{}),l=(e=>(e.bigInteger="big-integer",e.blob="blob",e.date="date",e.dateOnly="date-only",e.double="double",e.globalId="global-id",e.guid="guid",e.integer="integer",e.long="long",e.number="number",e.oid="oid",e.single="single",e.smallInteger="small-integer",e.string="string",e.timeOnly="time-only",e.timestampOffset="timestamp-offset",e))(l||{})},66228:(e,t,s)=>{s.d(t,{a:()=>b,b:()=>P,c:()=>_,d:()=>N,e:()=>k,f:()=>B,g:()=>g,h:()=>f,i:()=>y,j:()=>h,k:()=>$,l:()=>I,m:()=>x,n:()=>p,o:()=>C,p:()=>q,q:()=>F,r:()=>L,s:()=>w,t:()=>S,u:()=>v});var i=s(63438),r=s(18423),a=s(96086),l=s(91813),o=s(21255),n=s(13078),c=s(21303),d=s(12627),u=s(42855);const p=["feature","scene","geojson","csv","subtype-sublayer","oriented-imagery","catalog-footprint","sublayer"],m=["feature"];function y(e){return null!=e}function h(e,t,s){const i=t.fieldName;if(i.includes(u.f.expression)){const e=s.get(i);return e?.title?e.title:i}return w(e)&&e.getFieldConfiguration(i)?e.getFieldAlias(i)||i:t.label||i}async function g(e){return new Map((await $(e)).filter(e=>e.visible).map(e=>[e.name,e]))}function f(e){const t=new Map;return e?.expressionInfos&&e.expressionInfos.forEach(e=>{const s=`${u.f.expression}${e.name}`;t.set(s,e)}),t}function b(e){return"map-image"===e?.layer?.type?u.s.mapImage:"subtype-sublayer"===e?.type?u.s.subtype:"tile"===e?.layer?.type?u.s.tile:"scene"===e?.type?u.s.scene:"ogc-feature"===e?.type?u.s.ogcFeature:"imagery"===e?.type?u.s.imagery:"imagery-tile"===e?.type?u.s.imageryTile:"wfs"===e?.type?u.s.wfs:"wcs"===e?.type?u.s.wcs:"wms"===e?.layer?.type?u.s.wms:"csv"===e?.type?u.s.csv:"geojson"===e?.type?u.s.geojson:"stream"===e?.type?u.s.stream:"oriented-imagery"===e?.type?u.s.orientedImagery:"catalog"===e?.type?u.s.catalog:"catalog-footprint"===e?.type?u.s.catalogFootprint:"knowledge-graph-sublayer"===e?.type?u.s.knowledgeGraphSublayer:"voxel"===e?.type?u.s.voxel:"parquet"===e?.type?u.s.parquet:u.s.feature}function v(e){const t=b(e);let s;return t===u.s.wms||t===u.s.mapImage?s=e?.layer.version:(t===u.s.imagery||t===u.s.feature||t===u.s.scene)&&(s=e.version),Number.parseFloat(s)}function w(e){return"fieldConfigurations"in e&&m.includes(e.type)}async function $(e){return await new Promise((t,s)=>{switch(b(e)){case u.s.feature:case u.s.ogcFeature:case u.s.stream:t(e.fields);break;case u.s.mapImage:{const i=e,r=i?.layer;r?.portalItem&&r.url.includes("https://demographics")&&r.url.includes(".arcgis.com")?r.portalItem?.fetchData().then(e=>{if(e?.thematicGroup){const s=new Map(i.fields.map(e=>[e.name,e])),r=e.thematicGroup.fieldNames,a=[];r.forEach(e=>{s.has(e)&&a.push(s.get(e))}),t(a)}else t(i.fields)}).catch(e=>{s(new Error(e))}):t(i.fields);break}case u.s.imagery:case u.s.imageryTile:case u.s.wcs:t(e.rasterFields);break;default:t("fields"in e?e.fields??[]:[])}})}function C(e){if(e)switch(e.type){case"point":return e;case"extent":return e.center;case"polygon":return e.centroid;case"multipoint":case"polyline":return e.extent?.center;default:return}}function x(e){return Number((100*(1-e)).toFixed(1))}function S(e){return Number((1-e/100).toFixed(3))}const N=(e,t)=>{const s=[];return e?.fieldInfos?.forEach(e=>{e.fieldName?.includes(u.f.expression)||s.push({name:e.fieldName,alias:e.label,type:"string"})}),s},P=async(e,t)=>{const s=new d.default;return s.geometry=t.extent,s.mapExtent=t.extent,s.returnGeometry=!0,s.tolerance=6,s.layerOption="popup",s.width=t.width,s.height=t.height,s.layerIds=[e.id],(await c.identify(e.layer.url,s))?.results?.[0]?.feature},k=async(e,t,s)=>{const i=await(await e.whenLayerView(t)).queryAggregates();return await T(s,i.features?.[0])},T=async(e,t)=>{let s;if(t)s=t.clone();else{s=new i.default;const t=N(e);if(t?.length){const e={};t.forEach(t=>{e[t.name]=""}),s.attributes=e}const a=new r.default;s.geometry=a}return s};function F(e,t){const s=t.startsWith("#"),i=t.startsWith(".");for((i||s)&&(t=t.slice(1));e;){if(s){if(e.id===t)return e}else if(i){if(e.classList.contains(t))return e}else if(e.tagName.toLowerCase()===t.toLowerCase())return e;e=e.parentElement??e.getRootNode()?.host??void 0}}async function _(e){if(b(e)===u.s.stream)return await Promise.resolve("point");if(e.geometryType)return await Promise.resolve(e.geometryType);if(b(e)===u.s.mapImage&&e?.layer?.sourceJSON?.layers){const t=e.layer?.sourceJSON.layers.find(t=>{if(t.id===e.id)return t})?.geometryType?.toLowerCase();if(t)return t.indexOf("point")>-1?await Promise.resolve("point"):t.indexOf("line")>-1?await Promise.resolve("polyline"):t.indexOf("polygon")>-1?await Promise.resolve("polygon"):await Promise.resolve(t);{const t=e?.layer?.findSublayerById(e.id);if(t){const e=await(t?.createFeatureLayer());return e?(await e.load(),await Promise.resolve(e?.geometryType)):void await Promise.resolve()}return void await Promise.resolve()}}await Promise.resolve()}function I(e,t,s){let i="";if(/^raster.(?:item|service)pixelvalue/iu.test(e))i="number";else if(t.has(e)){const s=t.get(e);i=s.type?s.type.toLowerCase():""}else if(s.has(e)){const t=s.get(e);i=t.returnType?t.returnType.toLowerCase():""}else i="number";return i}async function B(e,t){try{const s=b(e);if(s===u.s.mapImage&&e.layer.version>=10.5&&!e.layer.capabilities?.operations?.supportsQuery&&e.layer.capabilities?.operations?.supportsIdentify)return{features:[await P(e,t)||await R(e,t)]};if(s===u.s.scene&&!e.capabilities?.operations?.supportsQuery)return{features:[await R(e,t)]};const i=s===u.s.ogcFeature||s===u.s.stream?await t.whenLayerView(e):e,r=i.createQuery();r.where=i.definitionExpression||"1=1",r.outFields=["*"],r.returnM="hasM"in e&&e.hasM,r.returnZ="hasZ"in e&&e.hasZ,r.outSpatialReference=t.spatialReference,r.returnGeometry=!0,(i.sourceJSON?.advancedQueryCapabilities?.supportsPagination||s===u.s.ogcFeature)&&(r.start=0,r.num=1),r.outSpatialReference=t.spatialReference;const a=await i.queryFeatures(r);return a?.features?.length||(a.features[0]=await R(e,t)),a}catch(e){console.error(e)}}async function R(e,t){return await new Promise(s=>{const r=new i.default;if(e.fields?.length){const t={};e.fields.forEach(e=>{t[e.name]=e.defaultValue}),r.attributes=t}const c=t.extent;let d;"polygon"===e.geometryType?d=o.default.fromExtent(c):"point"===e.geometryType?d=c.center.clone():"multipoint"===e.geometryType?d=new a.default({points:[[c.center.x,c.center.y]],spatialReference:c.center.spatialReference.clone()}):"polyline"===e.geometryType?(d=new l.default({spatialReference:t.spatialReference.clone()}),d.addPath([[c.xmin,c.ymin],[c.xmax,c.ymax]])):"mesh"===e.geometryType&&(d=n.default.createBox(c.center.clone(),{size:{width:50,height:50,depth:50}})),r.geometry=d,s(r)})}function L(e){return b(e)===u.s.tile&&"url"in e&&"sublayer"===e.type&&-1===e.url?.indexOf(e.parent.url)&&!!e.fields?.length}function q(e){return b(e)===u.s.tile&&"url"in e&&"sublayer"===e.type&&-1!==e.url?.indexOf(e.parent.url)&&!!e.fields?.length}},92653:(e,t,s)=>{s.r(t),s.d(t,{ArcgisMapConfigFeatureReductionClustering:()=>h});var i=s(73679),r=s(4395),a=s(41631),l=s(70169),o=s(83552),n=s(42855),c=s(66228),d=s(85643),u=s(73801),p=s(22679),m=s(39176);s(42097);const y=r.AH`:host{display:none}:host([selected]){display:flex}.block-section{padding:var(--calcite-spacing-sm) 10px 0 10px;background-color:var(--calcite-color-foreground-1)}.block-content{padding-top:10px}.symbol-button{border:solid 1px var(--calcite-color-foreground-3);display:flex;justify-content:space-between}.symbol-button:hover{cursor:pointer}.symbol-button:focus{box-shadow:inset 0 0 0 2px var(--calcite-color-foreground-3);outline:2px solid var(--calcite-color-brand);outline-offset:2px}.symbol{padding:5px}.symbol-icon{padding:6px}.slider-title-wrapper{background-color:var(--calcite-color-foreground-1);border-bottom:1px solid var(--calcite-color-foreground-3);padding:var(--calcite-spacing-lg)}.slider-div{display:flex;align-items:center;justify-content:space-between;flex-flow:row wrap}.slider-heading{display:inline-block;padding:var(--calcite-spacing-sm) 0}.slider-label{display:inline-block;order:2}.slider-slider{display:inline-block;width:100%;order:1}.cluster-btn-section{background-color:var(--calcite-color-foreground-1)}.cluster-btn{background:var(--calcite-color-transparent);border:none;border-bottom:solid 1px var(--calcite-color-foreground-3);display:flex;align-items:center;justify-content:space-between;padding:var(--calcite-spacing-lg);cursor:pointer;width:100%}.cluster-btn:hover{background-color:var(--calcite-color-foreground-3);border-color:var(--calcite-color-border-3)}.cluster-btn-disabled{opacity:var(--calcite-opacity-disabled)}.cluster-btn:focus{outline:none;border:2px solid var(--calcite-color-brand)}.cluster-btn-text{font-family:var(--calcite-font-family);font-size:var(--calcite-font-size)}`;class h extends u.WF{constructor(){super(...arguments),this._direction=(0,o.jH)(),this.flowItemNode=(0,d._)(),this.symbolBlockSectionNode=(0,d._)(),this.symbolButtonNode=(0,d._)(),this.fieldsButtonNode=(0,d._)(),this.labelsButtonNode=(0,d._)(),this.popupButtonNode=(0,d._)(),this.disableSizeSlider=!1,this.hideLayerTitle=!1,this.allowTimeSeriesConfiguration=!1,this.menuOpen=!1,this.showBackButton=!1,this.selected=!1,this.arcgisBackClick=(0,u.lh)(),this.arcgisChange=(0,u.lh)()}static{this.properties={view:0,layer:0,portal:0,config:0,_messages:0,flowNode:0,hideLayerTitle:5,allowTimeSeriesConfiguration:5,menuOpen:5,showBackButton:5,selected:7,beforeBack:0}}static{this.styles=y}async done(){this.closePopovers()}async setFocus(){this.flowItemNode.value?.setFocus()}async load(){const{layer:e}=this,t=function(e,t,s){const i=e&&e.visualVariables;if(i){const e=i.filter(e=>{const i=e.target,r="$view.scale"===e.valueExpression;return e.type===t&&(!(0,c.i)(i)&&!(0,c.i)(s)&&!r||i===s||"auto"===s)});if(e.length)return e[0]}}(e.renderer,"size");this.disableSizeSlider=(0,c.i)(t)}async loaded(){this.flowItemNode.value?.setFocus();const{layer:e}=this;if("pie-chart"===e.featureReduction.renderer?.type){const t=await l.createRendererForClustering({layer:e});this.autoGeneratedPieChartClusterFields=t.fields?.map(e=>e.name)}}disconnectedCallback(){super.disconnectedCallback(),this.closePopovers()}divRefHandler(e){e&&(this.symbolPreviewDivNode=e,this.createSymbolPreview(e))}closePopovers(){this.stylerPopoverNode?.remove(),this.stylerPopoverNode=void 0}handleToggleSymbol(){const{layer:e}=this,t=e.featureReduction;this.symbolBlockSectionNode.value.expanded?this.lastSymbol?(t.symbol=this.lastSymbol,this.lastSymbol=void 0):t.symbol=(0,m.g)():(this.lastSymbol=t.symbol,t.symbol=void 0,this.closePopovers()),this.handleClusteringChange(),this.requestUpdate()}createSymbolPreview(e){const{layer:t}=this,s=t.featureReduction;if(!s.symbol)return;const i=s.symbol,r="cim"===i.type?20:14;a.renderPreviewHTML(i,{size:r,symbolConfig:void 0}).then(t=>{t&&(e.childNodes.forEach(e=>e.remove()),e.appendChild(t))})}async openSymbolStylerPopover(){const{layer:e,portal:t,_messages:s}=this;this.stylerPopoverNode?(this.stylerPopoverNode.remove(),this.stylerPopoverNode=void 0):(this.stylerPopoverNode=(0,u.dN)(r.qy`<arcgis-map-config-feature-reduction-symbol-styler-popover .props=${{layer:e,portal:t,_messages:s}} .referenceElement=${this.flowItemNode.value} @arcgisChange=${e=>{e.stopPropagation(),this.handleClusteringChange(),this.requestUpdate(),this.createSymbolPreview(this.symbolPreviewDivNode)}} @arcgisClose=${()=>{this.closePopovers(),setTimeout(()=>this.symbolButtonNode.value?.focus(),300)}}></arcgis-map-config-feature-reduction-symbol-styler-popover>`),document.body.appendChild(this.stylerPopoverNode),this.stylerPopoverNode?.setFocus())}addFieldsPanel(){const{layer:e,view:t,portal:s,_messages:i,flowNode:a,hideLayerTitle:l,autoGeneratedPieChartClusterFields:o}=this,n=(0,u.dN)(r.qy`<arcgis-map-config-feature-reduction-fields .layer=${e} .mapView=${t} .portal=${s} ._messages=${i} .hideLayerTitle=${l??!1} .flowNode=${a} .showBackButton=${!0} .autoGeneratedPieChartClusterFields=${o} @arcgisChange=${e=>{e.stopPropagation(),this.handleClusteringChange(),this.requestUpdate()}} @arcgisBackClick=${()=>{n.remove(),this.selected=!0,setTimeout(()=>this.fieldsButtonNode.value?.focus(),300)}}></arcgis-map-config-feature-reduction-fields>`);a.appendChild(n),a.childNodes.forEach(e=>e.selected=!1),setTimeout(()=>{n.selected=!0,n.setFocus()},1),this.selected=!1}addLabelPanel(){const{layer:e,view:t,portal:s,_messages:i,flowNode:a,hideLayerTitle:l,allowTimeSeriesConfiguration:o}=this,c=(0,u.dN)(r.qy`<calcite-flow-item .heading=${i.cluster.labelClusterFeaturesHeading} .description=${l?void 0:e.title??void 0} selected @calciteFlowItemBack=${()=>{c.remove(),this.selected=!0,setTimeout(()=>this.labelsButtonNode.value?.focus(),300)}}></calcite-flow-item>`),d=(0,u.dN)(r.qy`<arcgis-map-config-label .layer=${e} .mapView=${t} .portal=${s} .layerDisplayType=${n.l.cluster} .calciteFlowProps=${{calciteFlowItem:c}} .allowTimeSeriesConfiguration=${o} @arcgisChange=${e=>{e.stopPropagation(),this.handleClusteringChange(),this.requestUpdate()}}></arcgis-map-config-label>`);c.appendChild(d),a.appendChild(c),this.selected=!1,c.setFocus()}addPopupPanel(){const{layer:e,view:t,portal:s,config:i,_messages:a,flowNode:l,hideLayerTitle:o,allowTimeSeriesConfiguration:c}=this,d=(0,u.dN)(r.qy`<calcite-flow-item .heading=${a.cluster.clusterPopupsHeading} .description=${o?void 0:e.title??void 0} selected @calciteFlowItemBack=${()=>{d.remove(),this.selected=!0,setTimeout(()=>this.popupButtonNode.value?.focus(),300)}}></calcite-flow-item>`),p=(0,u.dN)(r.qy`<arcgis-map-config-popup .layer=${e} .mapView=${t} .portal=${s} .config=${i} .layerDisplayType=${n.l.cluster} .calciteFlowProps=${{calciteFlow:l,calciteFlowItem:d}} .allowTimeSeriesConfiguration=${c} @arcgisChange=${e=>{e.stopPropagation(),this.handleClusteringChange(),this.requestUpdate()}}></arcgis-map-config-popup>`);d.appendChild(p),l.appendChild(d),this.selected=!1,d.setFocus()}handleClusteringChange(){const{layer:e}=this,t=e.featureReduction;e.featureReduction=t.clone(),this.arcgisChange.emit()}render(){const{layer:e,_messages:t,hideLayerTitle:s}=this,i=(0,p.i)(e),a=(0,p.g)(e);return this.el.classList.add("calcite-match-height"),r.qy`<calcite-flow-item .heading=${t.clustering} .description=${s?void 0:e.title??void 0} .selected=${this.selected} show-back-button @calciteFlowItemBack=${()=>this.arcgisBackClick.emit()} ${(0,d.K)(this.flowItemNode)}>${i&&this.renderSymbol()||""}${"pie-chart"===a&&this.renderShape()||""}${this.renderClusterRadius()}${this.renderClusterSize()}${this.renderScaleThresholdSlider()}${this.renderFieldsBtn()}${this.renderLabelBtn()}${this.renderPopupBtn()}</calcite-flow-item>`}renderSymbol(){const{layer:e,_messages:t}=this,s=!!e.featureReduction.symbol;return r.qy`<calcite-block-section .text=${t.cluster.overrideSymbol} .expanded=${s} toggle-display=switch class="block-section" @calciteBlockSectionToggle=${()=>this.handleToggleSymbol()} ${(0,d.K)(this.symbolBlockSectionNode)}>${this.renderSymbolContent()}</calcite-block-section>`}renderSymbolContent(){const{layer:e,_messages:t}=this;return e.featureReduction.symbol?r.qy`<div class="block-content"><calcite-label>${t.symbolStyle}<div class="symbol-button" tabindex=0 role=button .ariaLabel=${t.symbolStyle} @click=${()=>this.openSymbolStylerPopover()} @keydown=${e=>{(" "===e.key||"Enter"===e.key)&&this.openSymbolStylerPopover()}} ${(0,d.K)(this.symbolButtonNode)}><div class="symbol" ${(0,d.K)(this.divRefHandler)}></div><calcite-icon scale=s icon=pencil class="symbol-icon"></calcite-icon></div></calcite-label></div>`:""}renderShape(){const{layer:e,_messages:t}=this,s="rtl"===this._direction,i=e.featureReduction;return r.qy`<div class="slider-title-wrapper"><calcite-label>${t.cluster.shape}<div class="slider-div"><label class="slider-label">${s?t.cluster.donut:t.cluster.pie}</label><calcite-slider class="slider-slider" min=0 .max=${Math.max(.9,i.renderer.holePercentage)} .value=${i.renderer.holePercentage??0} step=0.1 .minLabel=${t.cluster.shape} @calciteSliderInput=${t=>{const s=e.featureReduction,i=t.target;s.renderer.holePercentage=i.value,this.handleClusteringChange()}}></calcite-slider><label class="slider-label">${s?t.cluster.pie:t.cluster.donut}</label></div></calcite-label></div>`}renderClusterRadius(){const{layer:e,_messages:t}=this,s="rtl"===this._direction,i=e.featureReduction;return r.qy`<div class="slider-title-wrapper"><label class="slider-heading">${t.cluster.radiusTitle}</label><div class="slider-div"><label class="slider-label">${s?t.cluster.high:t.cluster.low}</label><calcite-slider class="slider-slider" .min=${p.e} .max=${p.f} .value=${i.clusterRadius??p.c} step=1 .minLabel=${t.cluster.radiusTitle} @calciteSliderInput=${t=>{const s=e.featureReduction,i=t.target;s.clusterRadius=i.value,this.handleClusteringChange()}}></calcite-slider><label class="slider-label">${s?t.cluster.low:t.cluster.high}</label></div></div>`}renderClusterSize(){const{layer:e,_messages:t,disableSizeSlider:s}=this,i="rtl"===this._direction,a=e.featureReduction;return r.qy`<div class="slider-title-wrapper"><label class="slider-heading">${t.cluster.sizeTitle}</label><div class="slider-div"><label class="slider-label">${i?t.cluster.max:t.cluster.min}</label><calcite-slider class="slider-slider" .min=${p.b} .max=${p.h} .minValue=${a.clusterMinSize??p.b} .maxValue=${a.clusterMaxSize??p.h} step=1 .disabled=${s} .minLabel=${`${t.cluster.min} ${t.cluster.sizeTitle}`} .maxLabel=${`${t.cluster.max} ${t.cluster.sizeTitle}`} @calciteSliderInput=${t=>{const s=e.featureReduction,i=t.target;s.clusterMinSize=i.minValue,s.clusterMaxSize=i.maxValue,this.handleClusteringChange()}}></calcite-slider><label class="slider-label">${i?t.cluster.min:t.cluster.max}</label></div></div>`}renderScaleThresholdSlider(){const{layer:e,view:t,portal:s,_messages:i}=this;return r.qy`<arcgis-map-config-feature-reduction-scale-threshold-slider .view=${t} .portal=${s} .layer=${e} ._messages=${i}></arcgis-map-config-feature-reduction-scale-threshold-slider>`}renderFieldsBtn(){const{_messages:e}=this,t="rtl"===this._direction;return r.qy`<div class="cluster-btn-section"><button class="cluster-btn" @click=${e=>{e.stopPropagation(),this.addFieldsPanel()}} ${(0,d.K)(this.fieldsButtonNode)}><span class="cluster-btn-text">${e.cluster.editClusterAttributes}</span><span class="cluster-btn-icon"><calcite-icon scale=s .icon=${t?"chevron-left":"chevron-right"}></calcite-icon></span></button></div>`}renderLabelBtn(){const{_messages:e}=this,t="rtl"===this._direction;return r.qy`<div class="cluster-btn-section"><button class="cluster-btn" @click=${e=>{e.stopPropagation(),this.addLabelPanel()}} ${(0,d.K)(this.labelsButtonNode)}><span class="cluster-btn-text">${e.cluster.editClusterLabel}</span><span class="cluster-btn-icon"><calcite-icon scale=s .icon=${t?"chevron-left":"chevron-right"}></calcite-icon></span></button></div>`}renderPopupBtn(){const{_messages:e}=this,t="rtl"===this._direction;return r.qy`<div class="cluster-btn-section"><button class="cluster-btn" @click=${e=>{e.stopPropagation(),this.addPopupPanel()}} ${(0,d.K)(this.popupButtonNode)}><span class="cluster-btn-text">${e.cluster.editClusterPopups}</span><span class="cluster-btn-icon"><calcite-icon scale=s .icon=${t?"chevron-left":"chevron-right"}></calcite-icon></span></button></div>`}}(0,i.c)("arcgis-map-config-feature-reduction-clustering",h)}}]);