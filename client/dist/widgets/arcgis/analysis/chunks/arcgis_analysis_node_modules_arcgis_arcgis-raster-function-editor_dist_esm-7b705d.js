"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["extensions_widgets_arcgis_analysis_node_modules_arcgis_arcgis-raster-function-editor_dist_esm-7b705d"],{168:(e,t,n)=>{function o(e){void 0!==e&&(e.open=!1,e.remove())}function i(e,t){setTimeout(()=>{!1===e.body.contains(t)&&(e.body.appendChild(t),t.open=!0)},10)}function l(e,t){const{helpUrl:n,helpId:l,heading:a,referenceElement:s,portal:r,helpSrcdoc:d,learnMoreUrl:c,offsetDistance:h,offsetSkidding:p}=t;return void 0!==e&&(o(e),e=void 0),e=function(e){const{helpUrl:t,helpId:n,heading:o,referenceElement:i,portal:l,helpSrcdoc:a,learnMoreUrl:s,placement:r,offsetDistance:d,offsetSkidding:c}=e,h=document.createElement("rfx-help-popover");return h.helpUrl=t,h.helpId=n,h.heading=o,h.referenceElement=i,h.placement=r??"leading-start",h.portal=l,h.helpSrcdoc=a,h.learnMoreUrl=s,void 0!==d&&(h.offsetDistance=d),void 0!==c&&(h.offsetSkidding=c),h}({helpUrl:n,helpId:l,heading:a,referenceElement:s,portal:r,helpSrcdoc:d,learnMoreUrl:c,offsetDistance:h,offsetSkidding:p}),i(document,e),e}function a(e,t){const{referenceElement:n,label:l,direction:a,offsetDistance:s,offsetSkidding:r,showPropertiesAction:d,showRenameAction:c,handleNodeDuplicate:h,handleNodeRename:p,handleNodeDelete:f,handleNodeEditProperties:m}=t;void 0!==e&&(o(e),e=void 0),e=document.createElement("calcite-popover");const u={overlayPositioning:"fixed",autoClose:!0,dir:a,focusTrapDisabled:!0,triggerDisabled:!0,pointerDisabled:!0,placement:"bottom",closable:!1,open:!0,referenceElement:n,label:l,offsetDistance:s,offsetSkidding:r,style:"z-index: 650;"};Object.assign(e,u);const g=document.createElement("rfx-node-interaction-toolbar"),v={showPropertiesAction:d,showRenameAction:c,handleNodeDuplicate:h,handleNodeRename:p,handleNodeDelete:f,handleNodeEditProperties:m};return Object.assign(g,v),e.append(g),i(document,e),setTimeout(()=>requestAnimationFrame(()=>{e.open=!0,e.setFocus()}),1),e}n.d(t,{c:()=>a,r:()=>o,s:()=>l})},43755:(e,t,n)=>{n.r(t),n.d(t,{rfx_container:()=>s});var o=n(92265),i=(n(5294),n(13661),n(18423),n(21255),n(35431),n(38949),n(588),n(55448),n(2924),n(11840),n(52373),n(33752),n(440),n(66744),n(44345),n(33797)),l=n(80587),a=(n(23795),n(17902),n(56451),n(71802),n(36596),n(168));n(32513),n(69843),n(16035),n(51477),n(85740),n(42335),n(45253),n(73427);const s=class{constructor(e){(0,o.r)(this,e),this.panelMode=0,this.handleAnalysisHelpPopoverClose=()=>{(0,a.r)(this.toolHelpPopover)},this.handleRFxHelpPopoverChange=e=>{e.stopPropagation();const{referenceElement:t,helpSrcdoc:n,heading:o}=e.detail;this.toolHelpPopover=(0,a.s)(this.toolHelpPopover,{helpId:"param.name",helpSrcdoc:n,heading:o,referenceElement:t,offsetDistance:30}),this.toolHelpPopover.addEventListener("rfxHelpPopoverClose",this.handleAnalysisHelpPopoverClose)},this.handleHeadingHelpClick=async()=>{const e=this.customRFT,{helpTemplate:t,learnMoreUrl:n}=await(0,l.g)({rfxName:this.functionName,rfxTemplate:e,portal:this.portal});this.toolHelpPopover=(0,a.s)(this.toolHelpPopover,{helpSrcdoc:t,helpId:"toolDescription",heading:this.customRFT?.name??this.functionName,referenceElement:this.headerHelpIconComponent,learnMoreUrl:n,offsetDistance:55,offsetSkidding:10}),this.toolHelpPopover.addEventListener("analysisHelpPopoverClose",this.handleAnalysisHelpPopoverClose)},this.handleClose=()=>{this.panelMode=0},this._handleDone=async()=>{this.panelMode=0,await this.editorComponent.getUpdatedRFTWithValues()}}_renderFunctionUI(){return(0,o.h)("div",{style:{display:"flex","flex-direction":"column"}},(0,o.h)("calcite-panel",{heading:this.customRFT?.name??this.functionName,closable:!0,onCalcitePanelClose:this.handleClose},(0,o.h)("calcite-action",{label:"",text:"",icon:"information",slot:"header-actions-end",onClick:this.handleHeadingHelpClick,ref:e=>this.headerHelpIconComponent=e}),(0,o.h)("rfx-analysis-wrapper",{ref:e=>this.editorComponent=e,functionName:this.functionName,portal:this.portal,mapLayers:this.mapLayers,usePanel:!1,mapView:this.mapView,onAnalysisToolclose:this.handleClose,rfxTemplate:this.customRFT,validateOnPreview:this.validateOnPreview,onAnalysisUnsupportedFunction:()=>{console.log("has unsupported function in this RFT, set showUnsupportedFunction as true in analysis-wrapper to see the function chain"),this.handleClose()},onAnalysisRFxHelpPopoverChange:this.handleRFxHelpPopoverChange})),(0,o.h)("div",{style:{display:"flex","flex-direction":"row","justify-content":"flex-start"}},this.renderValidationButton(),this._renderDoneButton()))}_renderDoneButton(){return(0,o.h)("calcite-button",{alignment:"start",appearance:"solid",kind:"brand",scale:i.U.Scale,href:"",onClick:this._handleDone},"done")}renderValidationButton(){return(0,o.h)("calcite-button",{alignment:"start",appearance:"solid",kind:"brand",scale:i.U.Scale,href:"",style:{"margin-left":"5px"},onClick:async()=>{const e=await this.editorComponent.validateRFx();console.log("validation-status---\x3e",e)}},"Validate")}render(){return(0,o.h)("calcite-flow-item",{id:"rfx-container",key:"rfx-container",heading:"Raster Functions",style:{display:"block",width:"400px"}},0===this.panelMode&&(0,o.h)("rfx-list-view",{key:"ea13e54c61ff3eb600e514a5775ccaf093e64967",scale:i.C.m,onTriggerSelectFunction:e=>{this.functionName=e.detail,this.panelMode=1}}),1===this.panelMode&&this._renderFunctionUI())}}}}]);