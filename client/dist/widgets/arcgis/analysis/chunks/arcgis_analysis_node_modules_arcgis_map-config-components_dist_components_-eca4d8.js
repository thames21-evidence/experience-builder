/*! For license information please see arcgis_analysis_node_modules_arcgis_map-config-components_dist_components_-eca4d8.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["extensions_widgets_arcgis_analysis_node_modules_arcgis_map-config-components_dist_components_-eca4d8"],{38313:(e,t,a)=>{a.r(t),a.d(t,{ArcgisMapConfigSmartMappingHeatmapSlider:()=>m});var i=a(73679),s=a(4395),r=a(85643),l=a(56451),d=a(2270),o=a(86559),n=a(1225),p=(a(54312),a(44345),a(55448),a(52797),a(34031),a(63438),a(5933),a(28927),a(83368),a(89704),a(5294),a(18423),a(96086),a(91813),a(21255),a(13078),a(21303),a(12627),a(31521),a(23054),a(5077),a(23795),a(17902),a(87420),a(30161),a(81734),a(65595)),h=(a(77462),a(49403),a(10281),a(83930),a(66617),a(10628),a(59640),a(64451),a(6176),a(10454),a(29614),a(94916),a(52554),a(2156),a(4038),a(49851),a(75054),a(15223),a(70169),a(47207),a(70852),a(48103),a(39423),a(85681),a(18444),a(42411),a(9767),a(38218),a(91914),a(86605),a(68196),a(440),a(46547),a(6238),a(7299),a(73801));const c=s.AH`.slider-box{height:255px;.esri-heatmap-slider__ramp{width:30px}.esri-heatmap-slider .esri-slider .esri-slider__content{height:175px}.esri-heatmap-slider{min-width:200px}}`;class m extends h.WF{constructor(){super(...arguments),this.styleSheetStatus="not-loaded",this.smartMappingState=(0,p.u)()}static{this.styles=c}divRefHandler(e){e&&this.afterHeatmapSliderCreate(e)}prepareHeatmapSlider(){const{smartMappingState:e}=this,t=(0,n.g)(e);if(this.heatmapSlider){if("dragging"===this.heatmapSlider.slider?.state)return!0;const e=t.colorStops.map(e=>new d.default({color:new l.default(e.color.toRgba()),ratio:e.ratio})),a={stops:e.splice(3,e.length-3)};this.heatmapSlider.set(a)}else{const e=t.colorStops.map(e=>new d.default({color:new l.default(e.color.toRgba()),ratio:e.ratio})),a={stops:e.splice(3,e.length-3)};this.heatmapSlider=new o.default(a),this.createHeatmapSliderChangeEvents()}return(0,n.V)(this.heatmapSlider)}afterHeatmapSliderCreate(e){if(this.heatmapSlider.container)e.append(this.heatmapSlider.container);else{const t=document.createElement("div");e.append(t),this.heatmapSlider.container=t}}createHeatmapSliderChangeEvents(){this.heatmapSlider&&(this.heatmapSlider.on("thumb-change",()=>{this.handleHeatmapSliderEvent()}),this.heatmapSlider.on("thumb-drag",()=>{this.handleHeatmapSliderEvent()}))}handleHeatmapSliderEvent(){const{smartMappingState:e}=this,t=(0,n.g)(e),a=this.heatmapSlider.values[0],i=this.heatmapSlider.values[1];a===i&&(a+.001<=1?this.heatmapSlider.viewModel.setValue(1,a+.001):this.heatmapSlider.viewModel.setValue(0,i-.001));const s=t.colorStops.filter((e,t)=>t<3).map(e=>new d.default({color:new l.default(e.color.toRgba()),ratio:e.ratio})),r=s[s.length-1].ratio;a<r&&this.heatmapSlider.viewModel.setValue(0,r);const o=s.concat(this.heatmapSlider.stops.slice());t.colorStops=o,(0,n.a4)(e)}render(){const{config:e}=this.smartMappingState;return s.qy`<link rel=stylesheet href=${`${e.jsapiUrl}/themes/light/main.css`} @load=${()=>{this.styleSheetStatus="loaded",this.requestUpdate()}} @error=${()=>{this.styleSheetStatus="failed",this.requestUpdate()}}>${"loaded"===this.styleSheetStatus?this.renderHeatmapSlider():"not-loaded"===this.styleSheetStatus?this.renderHeatmapSliderLoading():null}`}renderHeatmapSlider(){return this.prepareHeatmapSlider()||this.heatmapSlider?s.qy`<div class="slider-box"><div ${(0,r.K)(this.divRefHandler)}></div></div>`:this.renderHeatmapSliderLoading()}renderHeatmapSliderLoading(){const{_messages:e}=this.smartMappingState;return s.qy`<div class="slider-box"><calcite-loader .label=${e.loading}></calcite-loader></div>`}}(0,i.c)("arcgis-map-config-smart-mapping-heatmap-slider",m)},65595:(e,t,a)=>{a.d(t,{c:()=>l,u:()=>d});var i=a(20936),s=a(1225),r=(a(54312),a(44345),a(55448),a(52797),a(34031),a(63438),a(5933),a(28927),a(83368),a(89704),a(5294),a(18423),a(96086),a(91813),a(21255),a(13078),a(21303),a(12627),a(56451),a(31521),a(23054),a(5077),a(23795),a(17902),a(87420),a(30161),a(81734),a(75698),a(10628),a(59640),a(64451),a(6176),a(83552));a(77462),a(49403),a(10281),a(83930),a(66617),a(10454),a(29614),a(94916),a(52554),a(2156),a(4038),a(49851),a(75054),a(15223),a(70169),a(47207),a(70852),a(48103),a(39423),a(85681),a(18444),a(42411),a(9767),a(38218),a(91914),a(86605),a(68196),a(440),a(46547),a(6238),a(7299);function l(e){e.selectedFields=[],e.layerFields=void 0,e.fields=void 0,e.hideLayerTitle=!1,e.supportsArcade=!1,e.stringFieldsCount=-1,e.dateFieldsCount=-1,e.numberFieldsCount=-1,e.containsFlow=!0,e.oneFeatureResponseStatus=s.s.MISSING,e.selectedAttribute=void 0,e.selectedAttributeText=void 0,e.selectedTypeValue=void 0,e.selectedValue=void 0,e.lastDefault=void 0,e.lastDefaults=void 0,e.dotColorSelected=void 0,e.backgroundStyleSelected=void 0,e.lastSettings=void 0,e.classedSymbolSelectedIdx=void 0,e.allUniqueValues=void 0,e.useFeatureReduction=void 0,e.symbolStylerConfig={},e.allowTimeSeriesConfiguration=!1,e.rasterInfo=void 0}function d(){const e=(0,r.Gk)(),t=e;e.manager.onLoad(()=>{t.smartMappingState=function(e,t){const a=o.get(e);if(a)return a;const s=(0,i.el)(e,t);return s&&"store"in s?(o.set(e,s.store),s.store):null}(e.el,"arcgis-map-config-smart-mapping")})}const o=new WeakMap}}]);