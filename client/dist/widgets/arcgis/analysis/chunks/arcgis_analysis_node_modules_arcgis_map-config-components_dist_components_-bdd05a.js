/*! For license information please see arcgis_analysis_node_modules_arcgis_map-config-components_dist_components_-bdd05a.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["extensions_widgets_arcgis_analysis_node_modules_arcgis_map-config-components_dist_components_-bdd05a"],{28252:(e,t,s)=>{s.d(t,{u:()=>l});var i=s(85282),r=s(34670),o=s(42466);const a=(e,t,s)=>{const i=new Map;for(let r=t;r<=s;r++)i.set(e[r],r);return i},l=(0,r.u$)(class extends r.WL{constructor(e){if(super(e),e.type!==r.OA.CHILD)throw Error("repeat() can only be used in text expressions")}dt(e,t,s){let i;void 0===s?s=t:void 0!==t&&(i=t);const r=[],o=[];let a=0;for(const t of e)r[a]=i?i(t,a):a,o[a]=s(t,a),a++;return{values:o,keys:r}}render(e,t,s){return this.dt(e,t,s).values}update(e,[t,s,r]){const l=(0,o.cN)(e),{values:n,keys:c}=this.dt(t,s,r);if(!Array.isArray(l))return this.ut=c,n;const d=this.ut??=[],m=[];let g,u,p=0,w=l.length-1,f=0,h=n.length-1;for(;p<=w&&f<=h;)if(null===l[p])p++;else if(null===l[w])w--;else if(d[p]===c[f])m[f]=(0,o.lx)(l[p],n[f]),p++,f++;else if(d[w]===c[h])m[h]=(0,o.lx)(l[w],n[h]),w--,h--;else if(d[p]===c[h])m[h]=(0,o.lx)(l[p],n[h]),(0,o.Dx)(e,m[h+1],l[p]),p++,h--;else if(d[w]===c[f])m[f]=(0,o.lx)(l[w],n[f]),(0,o.Dx)(e,l[p],l[w]),w--,f++;else if(void 0===g&&(g=a(c,f,h),u=a(d,p,w)),g.has(d[p]))if(g.has(d[w])){const t=u.get(c[f]),s=void 0!==t?l[t]:null;if(null===s){const t=(0,o.Dx)(e,l[p]);(0,o.lx)(t,n[f]),m[f]=t}else m[f]=(0,o.lx)(s,n[f]),(0,o.Dx)(e,l[p],s),l[t]=null;f++}else(0,o.KO)(l[w]),w--;else(0,o.KO)(l[p]),p++;for(;f<=h;){const t=(0,o.Dx)(e,m[h+1]);(0,o.lx)(t,n[f]),m[f++]=t}for(;p<=w;){const e=l[p++];null!==e&&(0,o.KO)(e)}return this.ut=c,(0,o.mY)(e,m),i.c0}})},39655:(e,t,s)=>{function i(e){return e?.sourceJSON?.id}s.d(t,{g:()=>i})},55535:(e,t,s)=>{function i(e,t,s){window.localStorage.setItem(e,JSON.stringify(t))}function r(e){window.localStorage.removeItem(e)}function o(e,t){const s=window.localStorage.getItem(e);return s&&t?JSON.parse(s):s}function a(e,t,s){window.sessionStorage.setItem(e,JSON.stringify(t))}function l(e,t){const s=window.sessionStorage.getItem(e);return s&&t?JSON.parse(s):s}s.d(t,{a:()=>a,b:()=>l,g:()=>o,r:()=>r,s:()=>i})},65722:(e,t,s)=>{s.d(t,{a:()=>o,g:()=>a,o:()=>l});var i=s(44345);const r=e=>e&&!e.endsWith("/")?`${e}/`:e;function o(e){const{customBaseUrl:t,portalHostname:s,urlKey:i}=e,{protocol:r}=window.location;return`${r}//${i?`${i}.${t}`:s}`}function a(e){return r(e.restUrl)}async function l(e){if(!e?.user)return!1;const t=`${a(e)}portals/self/signinSettings`,s=await(0,i.default)(t,{query:{f:"json",async:!1},responseType:"json"});return!(s?.data&&!s.data.blockBetaApps)}},99448:(e,t,s)=>{s.r(t),s.d(t,{ArcgisMapConfigPrintBrowseTemplates:()=>g});var i=s(73679),r=s(4395),o=s(28252),a=s(65722),l=s(55535),n=s(39655),c=s(85643),d=s(73801);const m=r.AH`.custom-templates-dialog{--calcite-dialog-size-y: min(900px, calc(80vh + 100px) );--calcite-dialog-size-x: 1080px;--calcite-dialog-content-space: 0px}`;class g extends d.WF{constructor(){super(),this.itemBrowserNode=(0,c._)(),this.openItemDetailsNode=(0,c._)(),this.selectedCount=0,this.arcgisClose=(0,d.lh)(),this.listen("arcgisItemBrowserCardPreview",this.arcgisItemBrowserCardPreviewHandler)}static{this.properties={items:16,pagination:16,selectedCount:16,portal:0,_messages:0}}static{this.styles=m}load(){const{portal:e}=this,t=(0,n.g)(e.user),s=((0,l.g)("arcgis-app-print-custom-templates-storage-infos",!0)||[])[t];s&&(this.savedTemplateIds=s.map(e=>e.itemId))}bucketSelectRefHandler(e){this.portal.isPortal&&(e.options=["my","favorites","group","org","living atlas"])}arcgisItemBrowserCardPreviewHandler(e){const{portal:t}=this,s=e.detail;if(s?.id){const e=`${(0,a.a)(t)}/home/`;this.openItemDetailsNode.value.href=`${e}/item.html?id=${s.id}`}else this.openItemDetailsNode.value.removeAttribute("href")}render(){const{portal:e,savedTemplateIds:t,_messages:s}=this;let i="";t?.forEach(e=>i+=` -id:${e}`);const l=`type:"Layout" typekeywords:"Layout" ${i}`,n=`${(0,a.a)(e)}/home/`;return r.qy`<calcite-dialog class="custom-templates-dialog" open modal escape-disabled outside-close-disabled @calciteDialogClose=${()=>this.arcgisClose.emit()} .heading=${s.browseCustomTemplates}><arcgis-item-browser .view=${"list"} .selection=${"multiple"} .filter=${l} .portal=${e} .user=${e.user??void 0} .api=${4} .config=${{baseUrl:n}} @arcgisItemBrowserUpdate=${e=>{const{results:t,num:s,start:i,total:r}=e.detail;this.items=t,this.pagination={start:i,num:s,total:r}}} @arcgisItemBrowserSelect=${()=>this.selectedCount=this.itemBrowserNode.value?.selectedItems?.length} ${(0,c.K)(this.itemBrowserNode)}><arcgis-item-browser-top-bar slot=top-bar><arcgis-item-browser-bucket-select slot=bucket ${(0,c.K)(this.bucketSelectRefHandler)}></arcgis-item-browser-bucket-select><arcgis-item-browser-search slot=search .term=${""}></arcgis-item-browser-search></arcgis-item-browser-top-bar><arcgis-item-browser-sort .options=${["modified","title","relevance"]} slot=sort></arcgis-item-browser-sort><arcgis-item-browser-filters slot=filters>${e.user&&r.qy`<arcgis-item-browser-filter-folder .expanded=${!0}></arcgis-item-browser-filter-folder>`||""}<arcgis-item-browser-filter-categories></arcgis-item-browser-filter-categories><arcgis-item-browser-filter-location></arcgis-item-browser-filter-location><arcgis-item-browser-filter-date property=modified></arcgis-item-browser-filter-date><arcgis-item-browser-filter-date property=created></arcgis-item-browser-filter-date><arcgis-item-browser-filter-tags></arcgis-item-browser-filter-tags><arcgis-item-browser-filter-sharing></arcgis-item-browser-filter-sharing></arcgis-item-browser-filters><arcgis-item-browser-content slot=content>${(0,o.u)(this.items||[],e=>`card-${e.id}`,t=>r.qy`<arcgis-item-browser-card .item=${t} .portal=${e} .baseUrl=${n} .showItemType=${!0} .showDateUpdated=${!0} .showOwner=${!0} .showSummary=${!0} .showThumbnail=${!0} .preview=${"action"} .messageOverrides=${{preview:s.viewItemDetails}}></arcgis-item-browser-card>`)}</arcgis-item-browser-content><arcgis-item-browser-pagination slot=pagination .total=${this.pagination?.total} .start=${this.pagination?.start} .num=${this.pagination?.num}></arcgis-item-browser-pagination><calcite-button slot=preview-footer alignment=center appearance=outline-fill kind=neutral width=full target=_blank ${(0,c.K)(this.openItemDetailsNode)}>${s.viewDetails}</calcite-button></arcgis-item-browser><calcite-button slot=footer-end appearance=outline-fill alignment=center @click=${()=>{this.arcgisClose.emit()}}>${s.cancel}</calcite-button><calcite-button slot=footer-end alignment=center appearance=solid .disabled=${!this.selectedCount} @click=${()=>{this.arcgisClose.emit(this.itemBrowserNode.value.selectedItems.length?this.itemBrowserNode.value.selectedItems.map(e=>e):[])}}>${s.add}</calcite-button></calcite-dialog>`}}(0,i.c)("arcgis-map-config-print-browse-templates",g)}}]);