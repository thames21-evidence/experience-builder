/*! For license information please see arcgis_analysis_node_modules_arcgis_common-components_dist_chunks_-e8df1a.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_common-components_dist_chunks_-e8df1a"],{24186:(e,r,t)=>{t.d(r,{a:()=>x,b:()=>C,c:()=>R,d:()=>v,e:()=>U,f:()=>y,g:()=>c,h:()=>h,i:()=>L,j:()=>N,k:()=>b,l:()=>D,m:()=>A,n:()=>l,o:()=>F,p:()=>d,q:()=>_,r:()=>m,s:()=>B,t:()=>f,u:()=>E,v:()=>O,w:()=>k,x:()=>u,y:()=>T,z:()=>M});var s=t(80666),a=(t(52797),t(5294)),o=t(51546),n=t(28927),p=t(588),i=t(44345);t(34031),t(43284);function u(e,r){const t=r.fieldDomains;if(t){let r="";for(let s=0;s<t.length;s++){const a=t[s];a.code==e&&(r+=(r.length?" | ":"")+a.name)}return r.length||(r=`${e}`),r}return e}function l(e){return!!e.fieldDomains?.length}async function d(e){const{layer:r,mapImageSublayer:t,mode:p}=e;if(!r)return;if("feature-reduction"===p)return await async function(e){const{layer:r,view:t}=e;if("imagery"!==r.type&&"subtype-group"!==r.type&&"subtype-sublayer"!==r.type&&"catalog"!==r.type&&"catalog-footprint"!==r.type&&"sublayer"!==r.type&&!e.fields?.length){e.fields=[],e.stringFieldsCount=0,e.dateFieldsCount=0,e.numberFieldsCount=1;let a=5e3,p=10,i=0;try{i=await(0,o.g)(r,t),a=i?Math.min(Math.max(10,Math.ceil(i/4)),5e3):5e3,p=i&&i>=1e3?100:10}catch{}const u=r.featureReduction;e.fields=[],u.fields.forEach(t=>{const o="count"===t.statisticType,i=t.onStatisticField?r.fields.find(e=>e.name===t.onStatisticField):void 0;if(!t.onStatisticField&&o||i){const r={layerField:new n.default({name:t.name,alias:t.alias||t.name,type:i?.type||"integer"}),statisticsStatus:o?s.b.SUCCESS:s.b.MISSING,statistics:o?{min:1,max:a,avg:p}:void 0,histogramStatus:o?s.b.FAILED:s.b.MISSING,uniqueValuesStatus:s.b.MISSING,partialUniqueValues:!1,label:t.alias||t.name};I(e,r),e.fields.push(r)}})}}(e);let i=r.fields;if(t?.layer?.portalItem&&t.layer.url?.includes("https://demographics")&&t.layer.url.includes(".arcgis.com")){const e=t.layer.portalItem;try{const r=await e.fetchData();if(r?.thematicGroup){const e=r.thematicGroup.fieldNames;e&&(i=i?.filter(r=>e.indexOf(r.name)>-1))}}catch{}}!function(e,r){if(!e.fields?.length){e.fields=[],e.stringFieldsCount=0,e.dateFieldsCount=0,e.numberFieldsCount=0,e.supportsStandardizedQuery||(r=r?.filter(e=>!["date","date-only","time-only"].includes(e.type)));const t=(0,o.s)(e.layer);let n=[];if("subtype-group"!==e.layer.type&&"catalog"!==e.layer.type&&"catalog-footprint"!==e.layer.type){const{popupTemplate:r}=e.layer;n=r?r.fieldInfos??[]:[]}r?.forEach(r=>{const a=!t&&n?n.filter(e=>e.fieldName===r.name):null,o=t?e.layer.getFieldAlias(r.name):a?.length?a[0].label:r.alias,p={layerField:r,statisticsStatus:s.b.MISSING,histogramStatus:s.b.MISSING,uniqueValuesStatus:s.b.MISSING,partialUniqueValues:!1,label:o||r.name};I(e,p),p.simpleFieldType&&e.fields.push(p)}),function(e){const{layer:r,fields:t}=e;"feature"!==r.type&&"subtype-group"!==r.type&&"subtype-sublayer"!==r.type&&"imagery"!==r.type||t.forEach(t=>{const s=t.layerField.name,o=t.layerField.domain,n=c(s,e);if(n){if("imagery"!==r.type&&r.subtypeField===s){let t;t="subtype-group"===r.type||"feature"===r.type?r.subtypes:r.parent.subtypes,t.forEach(t=>{"subtype-sublayer"===r.type&&r.subtypeCode!==t.code||(n.fieldDomains=n.fieldDomains||[],n.fieldDomains.push({code:t.code,name:t.name}),I(e,n),t.domains&&Object.keys(t.domains).forEach(r=>{const s=c(r,e);if(s){const a=t.domains[r];"coded-value"===a.type&&a?.codedValues&&a.codedValues.forEach(r=>{let t=!1;s.fieldDomains=s.fieldDomains||[],s.fieldDomains.forEach(e=>{e.code===r.code&&(t=!0,`| ${e.name} |`.includes(`| ${r.name} |`)||(e.name+=` | ${r.name}`))}),t||(s.fieldDomains.push({code:r.code,name:r.name}),I(e,s))})}}))})}if("feature"===r.type||"imagery"===r.type){const t="feature"===r.type?r.typeIdField:void 0,p="feature"===r.type?r.types:void 0;"feature"===r.type&&t&&p?(t===s?(n.fieldDomains=p.map(e=>({code:e.id,name:e.name})),I(e,n)):(n.fieldDomains=n.fieldDomains||[],p.forEach(e=>{if(e.domains?.[s]&&"inherited"!==e.domains[s].type)e.domains?.[s]?.codedValues&&e.domains[s].codedValues.forEach(e=>{let r=!1;n.fieldDomains.forEach(t=>{t.code===e.code&&(r=!0,`| ${t.name} |`.includes(`| ${e.name} |`)||(t.name+=` | ${e.name}`))}),r||n.fieldDomains.push((0,a.clone)(e))});else{const e=o;e?.codedValues&&e.codedValues.forEach(e=>{let r=!1;n.fieldDomains.forEach(t=>{t.code===e.code&&(r=!0,`| ${t.name} |`.includes(`| ${e.name} |`)||(t.name+=` | ${e.name}`))}),r||n.fieldDomains.push((0,a.clone)(e))})}})),!l(n)&&o?.codedValues&&(n.fieldDomains=(0,a.clone)(o.codedValues))):o?.codedValues&&(n.fieldDomains=o.codedValues),I(e,n)}}})}(e)}e.fields}(e,i)}function c(e,r){const{fields:t}=r;for(let r=0;r<t.length;r++){const s=t[r];if(s.layerField.name===e)return s}}function m(e){const{fields:r,defaultFieldName:t}=e;if(t){const e=r.find(e=>e.layerField.name===t);if(e)return e}let a;for(let e=0;e<r.length;e++){const t=r[e];if(t.simpleFieldType&&![s.s.OID,s.s.GUID,s.s.DATE,s.s.DATE_ONLY,s.s.TIME_ONLY].includes(t.simpleFieldType)){if(t.simpleFieldType!==s.s.NUMBER||a)return t;a=t}}return a||r[0]}function f(e,r,t){const{_messages:a}=e,o={},n=r.statistics;if(!n)return r.simpleFieldType===s.s.STRING&&r.uniqueValuesStatus===s.b.SUCCESS&&r.uniqueValueInfos?.length&&[a.operators.stringOperatorIs,a.operators.stringOperatorIsNot].includes(t)&&(o.value=r.uniqueValueInfos[0].value),o;if(C(e,t)){const e=(new Date).getTime(),r=Math.abs(e-n.avg);r>2*s.t.YEAR?(o.value=Math.round(r/s.t.YEAR),o.unit=s.d.YEAR):r>2*s.t.MONTH?(o.value=Math.round(r/s.t.MONTH),o.unit=s.d.MONTH):r>2*s.t.WEEK?(o.value=Math.round(r/s.t.WEEK),o.unit=s.d.WEEK):r>2*s.t.DAY?(o.value=Math.round(r/s.t.DAY),o.unit=s.d.DAY):r>2*s.t.HOUR?(o.value=Math.round(r/s.t.HOUR),o.unit=s.d.HOUR):(o.value=Math.round(r/s.t.MINUTE),o.unit=s.d.MINUTE)}else L(e,t)?(o.value=O(n.avg,e,r),o.value2=O(n.max,e,r)):o.value=O(n.avg,e,r);return o}function g(e,r,t){const a=function(e,r){const{layer:t}=e;let a=2;const o="subtype-group"!==t.type&&"catalog"!==t.type&&"catalog-footprint"!==t.type&&t.popupTemplate;if(o){const e=o.fieldInfos?.filter(e=>e.fieldName===r.layerField.name);if(e?.length){const r=e[0];r.format&&(0,s.i)(r.format.places)&&(a=r.format.places)}}return a}(r,t),o=Math.pow(10,a);return(0,s.i)(e)?Math.round(e*o)/o:void 0}function O(e,r,t){return(0,s.i)(e)?E(t)?Math.round(e):g(e,r,t):void 0}function I(e,r){switch(r.layerField.type){case"string":r.simpleFieldType=s.s.STRING,e.stringFieldsCount++;break;case"date":l(r)?(r.simpleFieldType=s.s.STRING,e.stringFieldsCount++):(r.simpleFieldType=s.s.DATE,e.dateFieldsCount++);break;case"date-only":l(r)?(r.simpleFieldType=s.s.STRING,e.stringFieldsCount++):r.simpleFieldType=s.s.DATE_ONLY;break;case"time-only":l(r)?(r.simpleFieldType=s.s.STRING,e.stringFieldsCount++):r.simpleFieldType=s.s.TIME_ONLY;break;case"oid":r.simpleFieldType=s.s.OID;break;case"guid":r.simpleFieldType=s.s.GUID;break;case"small-integer":case"big-integer":case"integer":case"single":case"double":case"long":l(r)?(r.simpleFieldType=s.s.STRING,e.stringFieldsCount++):(r.simpleFieldType=s.s.NUMBER,e.numberFieldsCount++)}}function y(e){return"string"===e.layerField.type}function h(e){return"guid"===e.layerField.type}function N(e){return["small-integer","big-integer","integer","single","double","long"].includes(e.layerField.type)}function E(e){return["small-integer","big-integer","integer","long"].includes(e.layerField.type)}function T(e){return["single","double"].includes(e.layerField.type)}function b(e){return"date"===e.layerField.type}function D(e){return"date-only"===e.layerField.type}function A(e){return"time-only"===e.layerField.type}function M(e,r,t){const{_messages:a}=t,o=c(e,t);return!!(o?.simpleFieldType&&"failed"!==o.statisticsStatus&&[s.s.NUMBER,s.s.DATE,s.s.DATE_ONLY,s.s.TIME_ONLY].includes(o.simpleFieldType)&&[a.operators.numberOperatorIs,a.operators.dateOperatorIsOn,a.operators.dateOperatorIsNotOn,a.operators.numberOperatorIsNot,a.operators.numberOperatorIsLessThan,a.operators.numberOperatorIsGreaterThan,a.operators.dateOperatorIsBefore,a.operators.dateOperatorIsAfter,a.operators.dateOperatorIsBeforeOrEqual,a.operators.dateOperatorIsAfterOrEqual,a.operators.numberOperatorIsAtMost,a.operators.numberOperatorIsAtLeast,a.operators.numberOperatorIsBetween,a.operators.dateOperatorIsBetween,a.operators.numberOperatorIsNotBetween,a.operators.dateOperatorIsNotBetween].includes(r))}function F(e){const{layer:r,expressions:t,_messages:a}=e;if("feature"!==r.type)return;const{portalItem:o,sourceJSON:n}=r;if(!o)return;const{typeKeywords:p,itemControl:i,portal:u}=o,l=u.isPortal;if(l)return;const d=p?.indexOf("Hosted Service")>-1,m=!l&&p?.indexOf("Location Tracking Service")>-1;if(d&&!m&&u.user&&i&&["admin","update"].includes(i)){const r=a.operators,o=[r.stringOperatorEndsWith,r.stringOperatorContains,r.stringOperatorDoesNotContain],p=[],i=r=>{const t=r.fieldName;if(!t)return;const a=c(t,e);(a?.simpleFieldType!==s.s.STRING&&a?.simpleFieldType!==s.s.GUID||!(a.layerField.length>4e3||o.includes(r.operator)))&&!p.includes(t)&&p.push(t)};t?.forEach(e=>e.conditions.forEach(e=>i(e)));const u={indexes:[]};n.indexes=n.indexes||[],p.forEach(e=>{n.indexes.some(r=>r.fields===e)||u.indexes.push({name:`${e}_Index`,fields:e,isUnique:!1,isAscending:!0,description:`${e}_Index`})}),u.indexes.length&&S(u,e)}}async function S(e,r){const{layer:t,parentServiceUrl:s}=r;if("feature"!==t.type)return;const{sourceJSON:a}=t,o=t.portalItem,{typeKeywords:n,portal:u}=o;if(n.includes("View Service")&&!s){const t=`${u.restUrl}/content/items/${o.id}/relatedItems?relationshipType=Service2Service&direction=reverse`,s=await p.default.getCredential(u.restUrl,{prompt:!1}),a=await(0,i.default)(t,{query:{f:"json",token:s.token}});return void(a?.data?.total&&a.data.relatedItems.filter(e=>e.typeKeywords.includes("Hosted Service")).forEach(t=>{r.parentServiceUrl=t.url,S(e,r)}))}const l=`${(s||t.url).replace("/rest/services","/rest/admin/services")}/${t.layerId}/addToDefinition`,d=await p.default.getCredential(t.url,{prompt:!1}),c={f:"json",addToDefinition:JSON.stringify(e),async:!u.isPortal,token:d.token},m=await(0,i.default)(l,{query:c,method:"post"});if(u.isPortal)a.indexes=a.indexes||[],a.indexes=a.indexes.concat(e.indexes);else try{await w(m?.data?.statusURL,{f:"json",token:d.token}),a.indexes=a.indexes||[],a.indexes=a.indexes.concat(e.indexes)}catch{}}const w=async(e,r)=>{if(!e)throw new Error("pollForStatus: no status URL");const t=["processing","partial","Pending","InProgress"],s=["completed","Completed"];try{const a=await(0,i.default)(e,{query:r}),o=a?.data?.status;if(t.includes(o))return await function(e){return new Promise(r=>setTimeout(r,e))}(500),await w(e,r);if(s.includes(o))return a;throw new Error(a.data)}catch(e){throw console.error(e),e}};function _(e){const{layer:r,mode:t,supportsCurrentUser:a,_messages:o}=e,n="stream"===r.type;e.operators||(e.operators=new Map,e.operators.set(s.s.STRING,[]),e.operators.get(s.s.STRING).push({name:o.operators.stringOperatorIs}),e.operators.get(s.s.STRING).push({name:o.operators.stringOperatorIsNot}),n||(e.operators.get(s.s.STRING).push({name:o.operators.stringOperatorIncludes}),e.operators.get(s.s.STRING).push({name:o.operators.stringOperatorExcludes})),e.operators.get(s.s.STRING).push({name:o.operators.stringOperatorStartsWith}),e.operators.get(s.s.STRING).push({name:o.operators.stringOperatorEndsWith}),e.operators.get(s.s.STRING).push({name:o.operators.stringOperatorContains}),e.operators.get(s.s.STRING).push({name:o.operators.stringOperatorDoesNotContain}),e.operators.get(s.s.STRING).push({name:o.operators.stringOperatorIsBlank}),e.operators.get(s.s.STRING).push({name:o.operators.stringOperatorIsNotBlank}),e.operators.get(s.s.STRING).push({name:o.operators.stringOperatorIsEmpty}),e.operators.get(s.s.STRING).push({name:o.operators.stringOperatorIsNotEmpty}),a&&(e.operators.get(s.s.STRING).push({name:o.operators.stringOperatorIsCurrentUser}),e.operators.get(s.s.STRING).push({name:o.operators.stringOperatorIsNotCurrentUser})),e.operators.set(s.s.DATE,[]),e.operators.get(s.s.DATE).push({name:o.operators.dateOperatorIsOn}),e.operators.get(s.s.DATE).push({name:o.operators.dateOperatorIsNotOn}),n||(e.operators.get(s.s.DATE).push({name:o.operators.numberOperatorIncludes}),e.operators.get(s.s.DATE).push({name:o.operators.numberOperatorExcludes})),e.operators.get(s.s.DATE).push({name:o.operators.dateOperatorIsBefore}),e.operators.get(s.s.DATE).push({name:o.operators.dateOperatorIsAfter}),e.operators.get(s.s.DATE).push({name:o.operators.dateOperatorIsBeforeOrEqual}),e.operators.get(s.s.DATE).push({name:o.operators.dateOperatorIsAfterOrEqual}),(e.isHosted||e.supportedSqlParserVersion||"feature"===r.type&&null!=r.version&&r.version>=10.91&&e.supportsStandardizedQuery)&&(e.operators.get(s.s.DATE).push({name:o.operators.dateOperatorInTheLast}),e.operators.get(s.s.DATE).push({name:o.operators.dateOperatorNotInTheLast})),e.operators.get(s.s.DATE).push({name:o.operators.dateOperatorIsBetween}),e.operators.get(s.s.DATE).push({name:o.operators.dateOperatorIsNotBetween}),e.operators.get(s.s.DATE).push({name:o.operators.dateOperatorIsBlank}),e.operators.get(s.s.DATE).push({name:o.operators.dateOperatorIsNotBlank}),e.operators.set(s.s.DATE_ONLY,[]),e.operators.get(s.s.DATE_ONLY).push({name:o.operators.dateOperatorIsOn}),e.operators.get(s.s.DATE_ONLY).push({name:o.operators.dateOperatorIsNotOn}),n||(e.operators.get(s.s.DATE_ONLY).push({name:o.operators.dateOperatorIncludes}),e.operators.get(s.s.DATE_ONLY).push({name:o.operators.dateOperatorExcludes})),e.operators.get(s.s.DATE_ONLY).push({name:o.operators.dateOperatorIsBefore}),e.operators.get(s.s.DATE_ONLY).push({name:o.operators.dateOperatorIsAfter}),(e.isHosted||e.supportedSqlParserVersion)&&(e.operators.get(s.s.DATE_ONLY).push({name:o.operators.dateOperatorInTheLast}),e.operators.get(s.s.DATE_ONLY).push({name:o.operators.dateOperatorNotInTheLast})),e.operators.get(s.s.DATE_ONLY).push({name:o.operators.dateOperatorIsBetween}),e.operators.get(s.s.DATE_ONLY).push({name:o.operators.dateOperatorIsNotBetween}),e.operators.get(s.s.DATE_ONLY).push({name:o.operators.dateOperatorIsBlank}),e.operators.get(s.s.DATE_ONLY).push({name:o.operators.dateOperatorIsNotBlank}),e.operators.set(s.s.TIME_ONLY,[]),e.operators.get(s.s.TIME_ONLY).push({name:o.operators.dateOperatorIsOn}),e.operators.get(s.s.TIME_ONLY).push({name:o.operators.dateOperatorIsNotOn}),n||(e.operators.get(s.s.TIME_ONLY).push({name:o.operators.dateOperatorIncludes}),e.operators.get(s.s.TIME_ONLY).push({name:o.operators.dateOperatorExcludes})),e.operators.get(s.s.TIME_ONLY).push({name:o.operators.dateOperatorIsBefore}),e.operators.get(s.s.TIME_ONLY).push({name:o.operators.dateOperatorIsAfter}),e.operators.get(s.s.TIME_ONLY).push({name:o.operators.dateOperatorIsBeforeOrEqual}),e.operators.get(s.s.TIME_ONLY).push({name:o.operators.dateOperatorIsAfterOrEqual}),e.operators.get(s.s.TIME_ONLY).push({name:o.operators.dateOperatorIsBetween}),e.operators.get(s.s.TIME_ONLY).push({name:o.operators.dateOperatorIsNotBetween}),e.operators.get(s.s.TIME_ONLY).push({name:o.operators.dateOperatorIsBlank}),e.operators.get(s.s.TIME_ONLY).push({name:o.operators.dateOperatorIsNotBlank}),e.operators.set(s.s.NUMBER,[]),e.operators.get(s.s.NUMBER).push({name:o.operators.numberOperatorIs}),e.operators.get(s.s.NUMBER).push({name:o.operators.numberOperatorIsNot}),"feature-reduction"!==t&&!n&&(e.operators.get(s.s.NUMBER).push({name:o.operators.numberOperatorIncludes}),e.operators.get(s.s.NUMBER).push({name:o.operators.numberOperatorExcludes})),e.operators.get(s.s.NUMBER).push({name:o.operators.numberOperatorIsAtLeast}),e.operators.get(s.s.NUMBER).push({name:o.operators.numberOperatorIsLessThan}),e.operators.get(s.s.NUMBER).push({name:o.operators.numberOperatorIsAtMost}),e.operators.get(s.s.NUMBER).push({name:o.operators.numberOperatorIsGreaterThan}),e.operators.get(s.s.NUMBER).push({name:o.operators.numberOperatorIsBetween}),e.operators.get(s.s.NUMBER).push({name:o.operators.numberOperatorIsNotBetween}),"feature-reduction"!==t&&(e.operators.get(s.s.NUMBER).push({name:o.operators.numberOperatorIsBlank}),e.operators.get(s.s.NUMBER).push({name:o.operators.numberOperatorIsNotBlank})),e.operators.set(s.s.DOMAIN,[]),e.operators.get(s.s.DOMAIN).push({name:o.operators.stringOperatorIs}),e.operators.get(s.s.DOMAIN).push({name:o.operators.stringOperatorIsNot}),!n&&!n&&(e.operators.get(s.s.DOMAIN).push({name:o.operators.stringOperatorIncludes}),e.operators.get(s.s.DOMAIN).push({name:o.operators.stringOperatorExcludes})),e.operators.get(s.s.DOMAIN).push({name:o.operators.stringOperatorIsBlank}),e.operators.get(s.s.DOMAIN).push({name:o.operators.stringOperatorIsNotBlank}),a&&(e.operators.get(s.s.DOMAIN).push({name:o.operators.stringOperatorIsCurrentUser}),e.operators.get(s.s.DOMAIN).push({name:o.operators.stringOperatorIsNotCurrentUser})))}function B(e,r){const{_messages:t,defaultOperator:s}=e;if("cluster_count"===r.layerField.name)return t.operators.numberOperatorIsGreaterThan;switch(r.layerField.type){case"string":return t.operators.stringOperatorIs;case"date":case"date-only":case"time-only":if(l(r))return t.operators.stringOperatorIs;if(!s)return t.operators.dateOperatorIsBefore;switch(s){case">":return t.operators.dateOperatorIsAfter;case">=":return t.operators.dateOperatorIsAfterOrEqual;case"<":return t.operators.dateOperatorIsBefore;case"<=":return t.operators.dateOperatorIsBeforeOrEqual;default:return t.operators.dateOperatorIsOn}case"oid":case"guid":return t.operators.numberOperatorIs;case"small-integer":case"big-integer":case"integer":case"single":if(l(r))return t.operators.stringOperatorIs;if(!s)return t.operators.numberOperatorIs;switch(s){case">":return t.operators.numberOperatorIsGreaterThan;case">=":return t.operators.numberOperatorIsAtLeast;case"<":return t.operators.numberOperatorIsLessThan;case"<=":return t.operators.numberOperatorIsAtMost;default:return t.operators.numberOperatorIs}case"double":case"long":if(l(r))return t.operators.stringOperatorIs;if(!s)return t.operators.numberOperatorIsAtLeast;switch(s){case">":return t.operators.numberOperatorIsGreaterThan;case">=":return t.operators.numberOperatorIsAtLeast;case"<":return t.operators.numberOperatorIsLessThan;case"<=":return t.operators.numberOperatorIsAtMost;default:return t.operators.numberOperatorIs}default:return t.operators.stringOperatorIs}}function L(e,r){const{_messages:t}=e;return!(!r||![t.operators.numberOperatorIsBetween,t.operators.numberOperatorIsNotBetween,t.operators.dateOperatorIsBetween,t.operators.dateOperatorIsNotBetween].includes(r))}function R(e,r){const{_messages:t}=e;return!(!r||![t.operators.stringOperatorIsBlank,t.operators.stringOperatorIsNotBlank,t.operators.numberOperatorIsBlank,t.operators.numberOperatorIsNotBlank,t.operators.dateOperatorIsBlank,t.operators.dateOperatorIsNotBlank].includes(r))}function v(e,r){const{_messages:t}=e;return!(!r||![t.operators.stringOperatorIsEmpty,t.operators.stringOperatorIsNotEmpty].includes(r))}function U(e,r){const{_messages:t}=e;return!(!r||![t.operators.stringOperatorIsCurrentUser,t.operators.stringOperatorIsNotCurrentUser].includes(r))}function x(e,r){const{_messages:t}=e;return!(!r||![t.operators.stringOperatorIncludes,t.operators.stringOperatorExcludes,t.operators.numberOperatorIncludes,t.operators.numberOperatorExcludes].includes(r))}function C(e,r){const{_messages:t}=e;return!(!r||![t.operators.dateOperatorInTheLast,t.operators.dateOperatorNotInTheLast].includes(r))}function k(e,r,t,s){return r.simpleFieldType!==t.simpleFieldType?function(e,r){const{_messages:t}=e;return!(!r||![t.operators.stringOperatorIncludes,t.operators.numberOperatorIncludes].includes(r))}(e,s)?function(e,r){const{_messages:t}=e;switch(r.simpleFieldType){case"string":case"domain":default:return t.operators.stringOperatorIncludes;case"number":case"oid":case"guid":return t.operators.numberOperatorIncludes}}(e,t):function(e,r){const{_messages:t}=e;return!(!r||![t.operators.stringOperatorExcludes,t.operators.numberOperatorExcludes].includes(r))}(e,s)?function(e,r){const{_messages:t}=e;switch(r.simpleFieldType){case"string":default:return t.operators.stringOperatorExcludes;case"number":case"oid":case"guid":return t.operators.numberOperatorExcludes}}(e,t):B(e,t):s}},51546:(e,r,t)=>{function s(e){return null!=e}function a(e,r){const t=r.startsWith("#"),s=r.startsWith(".");for((s||t)&&(r=r.slice(1));e;){if(t){if(e.id===r)return e}else if(s){if(e.classList.contains(r))return e}else if(e.tagName.toLowerCase()===r.toLowerCase())return e;e=e.parentElement??e.getRootNode()?.host??void 0}}async function o(e,r){return"feature"!==e.type||e.url?"feature"===e.type||"csv"===e.type||"scene"===e.type||"wfs"===e.type||"geojson"===e.type||"oriented-imagery"===e.type||"subtype-group"===e.type||"subtype-sublayer"===e.type||"catalog"===e.type||"catalog-footprint"===e.type?await e.queryFeatureCount():!r||"stream"!==e.type&&"ogc-feature"!==e.type?await Promise.reject(new Error(`Can't get feature count for layer of type ${e.type}.`)):await async function(e,r){return await(await r.whenLayerView(e)).queryFeatureCount()}(e,r):await async function(e){const r=e.createQuery();r.outFields=["*"];const t=await e.queryFeatures(r);if(t.features?.length)return t.features.length;throw new Error("could not get feature count")}(e)}function n(e){return function(e){return null!=e&&"object"==typeof e&&"type"in e&&"feature"===e.type}(e)&&function(e){return"feature"===e?.type&&"feature-layer"===e.source?.type}(e)}t.d(r,{g:()=>o,i:()=>s,q:()=>a,s:()=>n})}}]);