/*! For license information please see arcgis_analysis_node_modules_arcgis_map-config-components_dist_components_-559774.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["extensions_widgets_arcgis_analysis_node_modules_arcgis_map-config-components_dist_components_-559774"],{7080:(e,t,n)=>{n.d(t,{a:()=>d,b:()=>c,g:()=>a,s:()=>l});var s=n(72885),i=n(55535),o=n(81822);function a(e,t,n){const o=function(e){if(e)return(0,i.b)(e.webmap,!0)||(0,i.b)(e.current,!0)||void 0}(e)||{enabled:!0,selfEnabled:!0,featureEnabled:!0,featureSourcesIds:[t.id]};return new s.default({enabled:o.enabled,selfEnabled:o.selfEnabled,featureEnabled:o.featureEnabled,featureSources:r(n,o.featureSourcesIds)})}function r(e,t){return function(e){const{map:t}=e,n=t?.allLayers?.flatten(e=>"sublayers"in e?e.sublayers:null).filter(e=>!e.isTable);return[...new Set(n?.toArray())]}(e).filter(e=>t.includes(e.id)).map(e=>({layer:e,enabled:!0}))}function l(e,t){const n=[...new Set([...e.featureSources.filter(e=>e.enabled).map(e=>e.layer.id)])],s={enabled:e.enabled,selfEnabled:e.selfEnabled,featureEnabled:e.featureEnabled,featureSourcesIds:n};(0,i.a)(t,s)}function c(e){const t=function(e){if(e)return(0,i.b)(e.webmap,!0)||(0,i.b)(e.current,!0)||void 0}(e)||{enabled:!1};return new o.default({enabled:t.enabled})}function d(e,t){const n={enabled:e.enabled};(0,i.a)(t,n)}},40731:(e,t,n)=>{n.r(t),n.d(t,{ArcgisMapConfigSketchLayerEditorSnapping:()=>p});var s=n(73679),i=n(4395),o=(n(91813),n(7080)),a=(n(56451),n(5077),n(83930),n(16161),n(63438),n(18423),n(96086),n(21255),n(13078),n(21303),n(12627),n(49748)),r=n(74092),l=n(85643),c=n(73801);const d=i.AH`@layer{arcgis-map-config-sketch-layer-editor-snapping{.popover{--calcite-popover-z-index: 100}.content{max-height:60vh}.content .esri-grid-controls__tile__content{padding:var(--calcite-spacing-sm)}}}`;class p extends c.WF{constructor(){super(...arguments),this.sketchLayerEditorSnappingPopover=(0,l._)(),this.snappingControlDiv=(0,l._)(),this.sketchTooltipControlDiv=(0,l._)(),this.arcgisCloseSnappingPopovers=(0,c.lh)()}static{this.properties={refElement:0,sketchLayerEditorState:0}}static{this.styles=d}static{this.shadowRootOptions=c.Iq}async reposition(){this.sketchLayerEditorSnappingPopover.value?.reposition()}async load(){this.addSnappingWidget(),this.addTooltipsWidget()}loaded(){this.snappingControls.container=this.snappingControlDiv.value,this.sketchTooltipControls.container=this.sketchTooltipControlDiv.value}disconnectedCallback(){super.disconnectedCallback(),this.snappingControls?.destroy(),this.sketchTooltipControls?.destroy()}addSnappingWidget(){const{sketchLayerEditorState:e}=this,{mapView:t,snappingOptions:n}=e;this.snappingControls=new r.default({view:t,snappingOptions:n,visibleElements:{header:!1}})}addTooltipsWidget(){const{sketchLayerEditorState:e}=this,{sketchTooltipOptions:t}=e;this.sketchTooltipControls=a.createSketchTooltipControls({tooltipsToggle:!0,labelsToggle:!1},{tooltips:t})}render(){const{sketchLayerEditorState:e}=this,{_messages:t}=e;return this.el.classList.add("js-app-flyout"),i.qy`<calcite-popover class="popover" placement=leading-start open pointer-disabled .referenceElement=${this.refElement} .offsetDistance=${-Math.round(this.refElement.getBoundingClientRect().width)} offset-skidding=0 .label=${t.settings} ${(0,l.K)(this.sketchLayerEditorSnappingPopover)}><calcite-panel closable heading-level=2 .heading=${t.settings} style=${(0,c.zl)({width:`${this.refElement.getBoundingClientRect().width}px`})} @calcitePanelClose=${()=>{const{sketchLayerEditorState:e}=this,{snappingOptions:t,snappingSessionStorageIds:n,sketchTooltipOptions:s,sketchTooltipSessionStorageIds:i}=e;n?.current&&(0,o.s)(t,n.current),i?.current&&(0,o.a)(s,i.current),this.arcgisCloseSnappingPopovers.emit()}}><div class="content"><div ${(0,l.K)(this.sketchTooltipControlDiv)}></div><div ${(0,l.K)(this.snappingControlDiv)}></div></div></calcite-panel></calcite-popover>`}}(0,s.c)("arcgis-map-config-sketch-layer-editor-snapping",p)},55535:(e,t,n)=>{function s(e,t,n){window.localStorage.setItem(e,JSON.stringify(t))}function i(e){window.localStorage.removeItem(e)}function o(e,t){const n=window.localStorage.getItem(e);return n&&t?JSON.parse(n):n}function a(e,t,n){window.sessionStorage.setItem(e,JSON.stringify(t))}function r(e,t){const n=window.sessionStorage.getItem(e);return n&&t?JSON.parse(n):n}n.d(t,{a:()=>a,b:()=>r,g:()=>o,r:()=>i,s:()=>s})}}]);