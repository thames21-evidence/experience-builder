/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-new-ite-894b70.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-new-ite-894b70"],{85063:(e,r,t)=>{t.r(r),t.d(r,{arcgis_new_item_pages_feature_layer_from_existing:()=>u});var s=t(87849),i=t(41473),a=t(59317),l=t(74695),n=t(3826),o=t(95878),c=t(88863),d=t(33547),g=t(1536);t(37762),t(88878),t(83692),t(931),t(93814),t(54251),t(46904),t(24869),t(15912),t(72257),t(86562),t(15332),t(27137),t(76246),t(58573),t(29599),t(60958),t(32478),t(90079),t(62645);const u=class{constructor(e){(0,s.r)(this,e),this.newItemUpdatePage=(0,s.c)(this,"newItemUpdatePage",7),this.getLayerDetailInfo=async()=>{const{result:e}=await(0,g.p)(this.selectedItem.id,a.c.portal);return e},this.selectedItem=void 0,this.errorMessage=null}async handleNext(){const{selectedItem:e,i18n:r,getLayerDetailInfo:t}=this;if(!e)return(0,d.f)("No layer selected"),void(this.errorMessage={title:r.noLayerError.title,message:r.noLayerError.description});try{const s=e.url,{error:o}=(0,c.g)(s);if("invalidFeatureLayerUrl"===(null==o?void 0:o.code))return void(this.errorMessage={title:r.invalidUrl.title,message:r.invalidUrl.description});const{layers:d,tables:g,serviceInfo:u}=await(0,l.o)({serviceUrl:s,restBaseUrl:(0,i.g)(a.c.portal),forceAddToken:!0}),m=await t();n.a.layerData=m,n.a.serviceInfo=Object.assign(Object.assign({},u),{layers:d,tables:g}),n.a.sourceTitle=e.title,(0,c.s)(e),this.newItemUpdatePage.emit("featureLayerSummary")}catch(e){console.error(e),this.errorMessage={title:o.u.i18n.itemProperties.errorTitle,message:o.u.i18n.url.errorMessage}}}componentWillLoad(){n.a.serviceInfo=null,n.a.selectedServiceInfoLayersNames=null,this.i18n=o.u.i18n.featureLayerFromExisting}render(){const{errorMessage:e}=this;return(0,s.h)(s.H,{key:"9c38c60a9220f0ef9e2bf8f4e54dac4344479742"},(0,s.h)("arcgis-new-item-feature-layer-browser",{key:"c1ead7bf02d9e4357f2ce1fbded7d9d2862c366e",onItemSelected:({detail:e})=>{this.selectedItem=e,this.errorMessage=null},itemBrowserBucket:a.c.portal.isPortal?["my","org"]:["my","org","living atlas","all"]}),(0,s.h)("arcgis-new-item-alert",{key:"67e65f8397d5ea797cdfe1d1fd044081958b07a7",heading:null==e?void 0:e.title,description:null==e?void 0:e.message,active:!!e,onAlertDismiss:()=>{this.errorMessage=null}}))}}}}]);