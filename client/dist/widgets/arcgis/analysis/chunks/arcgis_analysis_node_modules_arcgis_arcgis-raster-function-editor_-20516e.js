"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_arcgis-raster-function-editor_-20516e"],{64130:(e,t,n)=>{n.d(t,{a:()=>p,b:()=>d,c:()=>g,d:()=>v,e:()=>f,f:()=>E,g:()=>s,h:()=>u,i:()=>c,j:()=>y,k:()=>h,l:()=>C,m:()=>o,n:()=>l,o:()=>i});var a=n(38949),r=n(33797);const l=({label:e,open:t})=>{const n=document.createElement("rfx-section");return n.label=e,n.open=t,n},o=({content:e,unsupportedWarningComponent:t,title:n,isFunctionChain:r})=>{const l=document.createElement("calcite-block");return l.open=!0,!0===r&&(l.heading=n,l.collapsible=!0,l.headingLevel=3),(0,a.i)(t)||l.appendChild(t),l.appendChild(e),l},i=({label:e,hideHelp:t=!1,onHelpActionClick:n})=>{const a=document.createElement("rfx-label");return a.label=e,a.hideHelp=t,a.addEventListener("rfxLabelHelpActionClick",n),a},s=({portal:e,portalItem:t,itemProps:n,onCancel:a,onSave:r})=>{const l=document.createElement("rfx-save-modal");return l.portal=e,l.portalItem=t,l.itemProps=n,l.addEventListener("cancelClick",a),l.addEventListener("saveClick",r),l},c=({portal:e,portalItem:t})=>{const n=document.createElement("rfx-share-modal");return n.portal=e,n.portalItem=t,n},d=({modalStrings:{header:e},portal:t,user:n,filter:a,hideFilters:r,selectionMode:l,cardMessageOverrides:o,onClose:i,onSelection:s})=>{const c=document.createElement("rfx-item-browser");return c.portal=t,c.user=n,c.header=e,c.filter=a,c.hideFilters=r,c.cardMessageOverrides=o,c.selectionMode=l??"single",c.addEventListener("rfxItemBrowserClose",i),c.addEventListener("rfxItemBrowserSelection",s),c},u=({templateProperties:e,portalItem:t,modalStrings:n,showPrimaryButton:r,onCancel:l,onSave:o})=>{const i=document.createElement("rfx-modal"),{header:s,secondary:c}=n;(0,a.i)(c)||(i.labels={secondary:c}),i.showPrimaryButton=r;const d=document.createElement("div");d.innerHTML=s,d.slot="header",i.appendChild(d);const u=document.createElement("rfx-template-editor");u.value=e,u.portalItem=t;const p=document.createElement("div");return p.slot="content",p.style.height="50vh",p.appendChild(u),i.appendChild(p),i.addEventListener("rfxModalSecondaryClick",l),i.addEventListener("rfxModalPrimaryClick",()=>{o(u.value)}),i.addEventListener("rfxModalClose",l),i},p=(e,t,n)=>{const a=document.createElement(e);var r,l;return r=a,l=n,Object.keys(l).forEach(e=>{r.setAttribute(e,l[e])}),a.innerHTML=t,a},m={modal:{kind:"warning"},header:{slot:"header",style:"\n      display: flex;\n      align-items: center;\n      justify-content: flex-start;\n    "},headerIcon:{icon:"exclamation-mark-triangle-f",style:"\n      margin: 0 1rem;\n      --calcite-ui-icon-color: var(--calcite-color-status-warning);\n    "},content:{slot:"content"}},f=({modalStrings:{header:e,content:t}})=>{const n=p("rfx-modal","",m.modal);n.showPrimaryButton=!1;const a=p("div","",m.header),r=p("div",e,{}),l=p("calcite-icon","",m.headerIcon);a.appendChild(l),a.appendChild(r);const o=p("div","",m.content);return o.appendChild(p("p",t,{})),n.appendChild(a),n.appendChild(o),n.addEventListener("rfxModalSecondaryClick",()=>{n.remove(),n.open=!1}),n.addEventListener("rfxModalClose",()=>{n.remove(),n.open=!1}),n},v=({modalStrings:{content:e,linkUrl:t,linkText:n},autoClose:l=!0,onLinkClicked:o})=>{const i=p("calcite-alert",e,{kind:"success",scale:r.C.l,open:!0,label:"save success"});i.autoClose=l;const s=p("div",e,{slot:"message"});if(i.appendChild(s),!1===(0,a.i)(t)&&!1===(0,a.i)(n)){const e=p("calcite-link",n,{slot:"link",href:t,target:"_blank"});"function"==typeof o&&(e.onclick=o),i.appendChild(e)}return i},h=({modalStrings:{content:e,header:t,functionNames:n}})=>{const a=p("calcite-alert",e,{kind:"warning",scale:r.C.m,open:!0,label:"deprecate function"});a.autoClose=!0;const l=p("div",t,{slot:"title"}),o=p("div",e,{slot:"message"}),i=p("p",n,{});return o.appendChild(i),a.appendChild(o),a.appendChild(l),a},C=({modalStrings:{content:e,header:t,functionNames:n}})=>{const a=p("calcite-alert",e,{kind:"warning",scale:r.C.m,open:!0,label:"unsupported function"});a.autoClose=!0;const l=p("div",t,{slot:"title"}),o=p("div",e,{slot:"message"}),i=p("p",n,{});return o.appendChild(i),a.appendChild(o),a.appendChild(l),a},E=({modalStrings:{header:e,content:t}})=>{const n=p("calcite-alert",t,{kind:"danger",scale:r.C.m,open:!0,icon:"exclamation-mark-triangle",label:"error",autoClose:!0,autoCloseDuration:"medium"});n.autoClose=!1;const a=p("div",e,{slot:"title"}),l=p("div",t,{slot:"message"});return n.appendChild(l),n.appendChild(a),n},y=({heading:e,labels:t,showPrimaryButton:n,handlePanelClose:a,handlePanelOk:r,inputLayers:l,layerValue:o,createLayerBrowse:i})=>{let s;const c=p("rfx-modal","",{open:!0});c.labels=t,c.showPrimaryButton=n,c.addEventListener("rfxModalClose",a),c.setAttribute("style","--calcite-dialog-size-y: 32rem"),c.addEventListener("rfxModalPrimaryClick",async()=>{const e=await(s?.getRasterValue());r({rasterValue:e})}),c.addEventListener("rfxModalSecondaryClick",a);const d=p("div",e,{slot:"header"}),u=p("div","",{slot:"content"});return c.appendChild(d),s=document.createElement("rfx-select-layer-panel"),s.value=o?.value,s.inputLayers=l,c.addEventListener("rfxlayerSelectBrowseLayerClick",i),u.appendChild(s),c.appendChild(u),c},g=({modalStrings:{header:e,content:t}})=>{const n=p("calcite-alert",t,{kind:"info",scale:r.C.m,open:!0,label:"read only"});n.autoClose=!0;const a=p("div",e,{slot:"title"}),l=p("div",t,{slot:"message"});return n.appendChild(l),n.appendChild(a),n}},69529:(e,t,n)=>{n.d(t,{D:()=>s,J:()=>p,a:()=>d,b:()=>v,c:()=>R,d:()=>h,e:()=>C,f:()=>k,g:()=>T,h:()=>A,i:()=>c,j:()=>E,k:()=>u,l:()=>f,m:()=>i,n:()=>I,o:()=>x,p:()=>_,s:()=>L});var a=n(5294),r=(n(13661),n(18423),n(21255),n(35431),n(16035)),l=n(38949),o=(n(588),n(55448),n(2924),n(11840),n(52373),n(33752),n(440),n(66744),n(44345),n(51477));n(71802),n(36596),n(23795),n(17902),n(56451);const i=[38,39,40,41,42,43,47,54,55,58,66,67,68,69,70,71,72,73,74,75,93,94],s="distanceLegacy",c=e=>{const t=e?.category;return!![s].includes(t)},d=e=>!0===e?.hidden,u={local:"LocalFunction"},p={RASTER_FUNCTION_TEMPLATE:"RasterFunctionTemplate",RASTER_FUNCTION_VARIABLE:"RasterFunctionVariable",ARGUMENT_ARRAY:"ArgumentArray",RECORD_SET:"RecordSet",ECD_FILE:"ECDFile"},m={MATCH_VARIABLE:"MatchVariable",UNION_DIMENSION:"UnionDimension"},f={name:"Raster",isDataset:!0,isPublic:!1,type:p.RASTER_FUNCTION_VARIABLE};function v(e){return null==e?"":e.name||e.datasetName&&e.datasetName.name}function h(e){return e.hasOwnProperty("EsriClassifierDefinitionFile")}function C(e){return e.type&&e.type.toLowerCase().indexOf(p.RECORD_SET.toLowerCase())>=0}function E(e,t){const n=t&&t.value;if(null==n)return;let a;return e.some(e=>{if(e.values&&e.values.indexOf(n)>-1)return a=e.inputArgs,!0}),a}function y(e,t){let n;if(!(0,l.i)(e)&&(n=e.rasterFunctionArguments,1===Object.keys(n).length&&!e.hasArgumentsObject))return!0;const a=t.arguments,r=a&&a.type;return!(!r||r!==p.RASTER_FUNCTION_TEMPLATE&&r!==p.RASTER_FUNCTION_VARIABLE)||void 0}function g(e,t,n){if((0,l.i)(t)||(0,l.i)(n))return;const a=e?.rasterFunctionArguments;return(0,l.i)(a)?void 0:(0,o.b)(t,a)}function A(e,t,n,a){if((0,l.i)(t)&&(0,l.i)(a))return!1;const o=g(e,a=a||t.key,n);if(!(0,l.i)(o)&&o.dataType===r.d.rasterArray)return!0;if(!t)return;const i=t.value;if(i&&i.elements){return i.elements.some(e=>e&&(e.isDataset||e.type===p.RASTER_FUNCTION_TEMPLATE||e.value&&e.value.type===p.RASTER_FUNCTION_TEMPLATE))}i&&Array.isArray(i)&&i.some(e=>e&&e.name&&e.url)}function R(e,t,n){t.value||(t.value={elements:[],type:p.ARGUMENT_ARRAY});let a=t.value&&t.value.elements?t.value.elements:t.value;return a&&Array.isArray(a)?void 0!==n?a[n]=e:(a.push(e),n=a.length-1):(a=[e],n=0),t.value&&t.value.elements?t.value.elements=a:t.value=a,n}function T(e,t,n){let a,r;if("string"==typeof t?a=t:(a=t.key,r=t.index),(0,l.i)(a)||(0,l.i)(n))return;const o=n.arguments,i=o&&o.type,s=a&&a.toLowerCase();let c;if(y(e,n))return i!==p.RASTER_FUNCTION_TEMPLATE&&!o.isDataset||"raster"!==s?i===p.RASTER_FUNCTION_VARIABLE&&"rasters"===s&&(c=void 0!==r?function(e,t){if((0,l.i)(t)||void 0===e)return;const n=t.value&&t.value.elements?t.value.elements:t.value;return n&&n.length?n[e]:void 0}(r,o):o):c=o,c;if(c=o[a],void 0!==r&&A(e,c,n,a)){const e=c.value&&c.value.elements?c.value.elements:c.value;c=e&&e.length?e[r]:void 0}return c}function k(e,t){if((0,l.i)(t))return;const n=[],r=t.arguments,o=r&&r.type;if(y(e,t)){let e,t=a.clone(r);return e=o===p.RASTER_FUNCTION_TEMPLATE||t.isDataset?"Raster":"Rasters",(0,l.i)(t)?t={key:e}:t.key=e,n.push(t),n}return Object.keys(r).forEach(e=>{if(e===m.MATCH_VARIABLE||e===m.UNION_DIMENSION)return;let t=a.clone(r[e]);(0,l.c)(t)&&((0,l.i)(t)?t={key:e}:t.key=e,n.push(t))}),n}function L(e,t,n,a,r){if((0,l.i)(t)||(0,l.i)(n)||(0,l.i)(a))return;const o=t.arguments,i=A(e,o,t,a)&&void 0!==r;if(y(e,t))i?r=R(n,o,r):t.arguments=n;else{const e=o[a];i?r=R(n,e,r):o[a]=n}return n.value&&"Scalar"===n.value.type&&(0,l.i)(n.name)&&(n.name=i?t.function.type.toLowerCase()===u.local.toLowerCase()&&r>0?`InRaster${r+1}`:`Raster${r>0?r+1:""}`:g(e,a,t).displayName||a),{key:a,index:r}}function _(e){return e.dataType===r.d.raster||e.dataType===r.d.rfxtemplate}function x(e){return e.dataType===r.d.scalar}const I=(e,t,n)=>{let a=e;!function e(r){if(r>=t.length)return void n(a);const l=t[r];let o;if("shadowRoot"===l)o=a?.shadowRoot;else if(l.startsWith("children[")){const e=parseInt(l.match(/\d+/)[0],10);o=a.children[e]}o?(a=o,e(r+1)):requestAnimationFrame(()=>e(r))}(0)}}}]);