/*! For license information please see arcgis_analysis_node_modules_arcgis_map-config-components_dist_components_-1a8419.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["extensions_widgets_arcgis_analysis_node_modules_arcgis_map-config-components_dist_components_-1a8419"],{10763:(e,a,t)=>{t.d(a,{c:()=>o,u:()=>r});var s=t(83552),i=t(20936);function o(e){e.mapView=void 0,e.portal=void 0,e.config=void 0,e.layerDisplayType=void 0,e.serviceType=void 0,e.layerHasAttributes=!0,e.layerSupportsAttachments=!1,e.layerHasCharts=!0,e.layerHasImages=!0,e.layerHasText=!0,e.layerSupportsArcade=!1,e.layerHasRelatedRecords=!1,e.layerIsUNLayer=!1,e.layerHasEditInfo=!1,e.blockFeatureReductionArcade=!1,e.allowTimeSeriesConfiguration=!1}function r(){const e=(0,s.Gk)(),a=e;e.manager.onLoad(()=>{a.popupState=function(e,a){const t=n.get(e);if(t)return t;const s=(0,i.el)(e,a);return s&&"store"in s?(n.set(e,s.store),s.store):null}(e.el,"arcgis-map-config-popup")})}const n=new WeakMap},96163:(e,a,t)=>{t.r(a),t.d(a,{ArcgisMapConfigPopupArcade:()=>p});var s=t(73679),i=t(4395),o=t(34132),r=(t(81565),t(63438),t(18423),t(96086),t(91813),t(21255),t(13078),t(21303),t(12627),t(73801)),n=t(10763);class p extends r.WF{constructor(){super(...arguments),this.popupState=(0,n.u)(),this.blockOpen=!1,this.arcgisChange=(0,r.lh)(),this.closePopupPopovers=(0,r.lh)(),this.disablePopupPanel=(0,r.lh)()}static{this.properties={blockOpen:5,expressionContent:0}}async loaded(){this.blockOpen&&await this.launchArcade()}async launchArcade(){const{popupState:e}=this,{layer:a,mapView:t,portal:s,layerDisplayType:n,popupTemplate:p,serviceType:c,_messages:d}=e;if(!this.arcadeEditorNode){this.disablePopupPanel.emit(!0);const l=await(0,o.g)(a,t,c,p,n),u=await(0,o.a)(a,t,n,p),h=(0,o.b)(this.expressionContent.expressionInfo?.expression,n,d),g=(0,o.c)(e,"popupElement");this.arcadeEditorNode=(0,r.dN)(i.qy`<arcgis-map-config-modal-arcade .arcadeProfile=${l} .testData=${u} .arcadeScript=${h} .suggestions=${g} add-existing-expressions .layer=${a} .portal=${s} .arcadeTitle=${this.expressionContent.expressionInfo?.title||d.arcadeDefaultTitle} arcade-title-editable .arcadeTitleEditingEnabled=${!this.expressionContent.expressionInfo?.title} @arcgisClose=${e=>{e.stopPropagation(),this.arcadeSetup(e.detail)}}></arcgis-map-config-modal-arcade>`),document.body.appendChild(this.arcadeEditorNode)}}arcadeSetup(e){e&&(this.expressionContent.expressionInfo.expression=e.script,this.expressionContent.expressionInfo.title=e.title,this.requestUpdate(),this.arcgisChange.emit()),this.disablePopupPanel.emit(!1),this.arcadeEditorNode&&(this.arcadeEditorNode.remove(),this.arcadeEditorNode=void 0)}render(){const{popupState:e}=this,{_messages:a}=e;return i.qy`<calcite-button .disabled=${e.blockFeatureReductionArcade} appearance=transparent width=full @click=${async()=>await this.launchArcade()}>${a.editExpression}</calcite-button>`}}(0,s.c)("arcgis-map-config-popup-arcade",p)}}]);