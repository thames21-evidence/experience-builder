/*! For license information please see arcgis_analysis_node_modules_arcgis_map-config-components_dist_components_-a4f59b.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["extensions_widgets_arcgis_analysis_node_modules_arcgis_map-config-components_dist_components_-a4f59b"],{4265:(e,t,i)=>{i.d(t,{a:()=>a,d:()=>s,t:()=>l});const s=(e,t)=>{let i,s="idle";const a=async(...a)=>await new Promise(l=>{switch(s){case"flushed":s="idle",i?(clearTimeout(i),l(e(...a))):l(null);break;case"invoked":clearTimeout(i),s="idle",l(e(...a));break;case"cancelled":clearTimeout(i),s="idle",l(null);break;default:i&&clearTimeout(i),s="pending",i=setTimeout(()=>{s="idle",l(e(...a))},t)}});return a.flush=async function(...e){return s="flushed",await a(...e)},a.invoke=async function(...e){return s="invoked",await a(...e)},a.cancel=async function(...e){return s="cancelled",await a(...e)},a.getStatus=function(){return s},a},a=(e,t)=>{let i;return async(...s)=>await new Promise(a=>{i||(i=setTimeout(()=>{clearTimeout(i),i=void 0,a(e(...s))},t))})};function l(e){return new Promise(t=>setTimeout(t,e))}},27155:(e,t,i)=>{i.d(t,{i:()=>a});var s=i(12762);function a(e){if(!e)return;let t=s.default.assetsPath;t.endsWith("/")||(t+="/"),e?.firstElementChild?.insertAdjacentHTML("beforebegin",`<link rel="stylesheet" href="${t}esri/themes/light/main.css" />`)}},34050:(e,t,i)=>{i.r(t),i.d(t,{ArcgisMapConfigSmartMappingRasterSlider:()=>b});var s=i(73679),a=i(85643),l=i(52797),n=i(54312),r=i(86421),o=(i(44345),i(55448),i(34031),i(63438),i(5933),i(28927),i(83368),i(89704),i(5294),i(18423),i(96086),i(91813),i(21255),i(13078),i(21303),i(12627),i(1225)),d=(i(56451),i(23054),i(5077),i(23795),i(17902),i(87420),i(30161),i(81734),i(75698),i(10628),i(59640),i(64451),i(6176),i(65595)),c=(i(77462),i(49403),i(10281),i(83930),i(66617),i(10454),i(29614),i(94916),i(52554),i(2156),i(4038),i(49851),i(75054),i(15223),i(70169),i(47207),i(70852),i(48103),i(39423),i(85681),i(18444),i(42411),i(9767),i(38218),i(91914),i(31521),i(86605),i(68196),i(440),i(46547),i(6238),i(7299),i(4265)),h=i(27155),u=i(73801),m=i(4395);const p=m.AH`.slider{height:60px;background-color:transparent;position:relative;width:100%;margin:0 auto}.esri-slider__content{margin-bottom:40px}.slider-with-thumb{margin-top:10px;width:90%}.slider-bottom-label .esri-slider__max,.slider-bottom-label .esri-slider__min{width:fit-content;position:absolute;bottom:8px}.slider-bottom-label .esri-slider__max{right:0;text-align:right}.slider-bottom-label .esri-slider__min{left:0;text-align:left}`;class b extends u.WF{constructor(){super(...arguments),this.smartMappingState=(0,d.u)(),this.showThumbLabel=!1,this.editThumbLabel=!1}static{this.properties={rendererType:1,type:1,showThumbLabel:5,editThumbLabel:5,min:9,max:9,values:0,precision:9,minLabel:1,maxLabel:1}}static{this.styles=p}willUpdate(e){if(this.slider&&(this.slider.precision=this.precision,e.has("values")||e.has("min")||e.has("max"))){const e={min:this.min,max:this.max,values:this.values,precision:this.precision};this.minLabel&&this.maxLabel&&(e.inputFormatFunction=e=>e.toLocaleString(l.getLocale()),e.labelFormatFunction=e=>e===this.min?this.minLabel:e===this.max?this.maxLabel:e.toLocaleString(l.getLocale()),e.inputParseFunction=e=>{e=e.replace(",",".");const t=Number.parseFloat(e);return Number.isNaN(t)?this.slider.values[0]:t}),this.slider.set(e)}}loaded(){(0,h.i)(this.el.shadowRoot)}disconnectedCallback(){super.disconnectedCallback(),this.sliderValuesHandle?.remove()}divRefHandler(e){if(e){if(this.slider.container)e.append(this.slider.container);else{const t=document.createElement("div");e.append(t),this.slider.container=t}this.createRasterSliderChangeEvents()}}createRasterSliderChangeEvents(){this.sliderValuesHandle?.remove(),this.sliderValuesHandle=n.watch(()=>this.slider.values,(0,c.d)(()=>{"flow"===this.rendererType?this.handleFlowSliderValueChange():"vector-field"===this.rendererType?this.handleVectorFieldSliderValueChange():"shaded-relief"===this.rendererType&&this.handleShadedReliefSliderValueChange()},300))}handleFlowSliderValueChange(){const{smartMappingState:e}=this,t=(0,o.T)(e);switch(this.type){case"speed":t.flowSpeed=Math.max(this.slider.values[0],.1);break;case"density":t.density=this.slider.values[0];break;case"trail-length":t.trailLength=.75*this.slider.values[0]}(0,o.ag)(e)}handleVectorFieldSliderValueChange(){const{smartMappingState:e}=this,t=(0,o.T)(e),i=this.slider.values[0]/100;t.symbolTileSize=Math.floor(1/i),(0,o.ag)(e)}handleShadedReliefSliderValueChange(){const{smartMappingState:e}=this;(0,o.T)(e)[this.type]=this.slider.values[0],(0,o.ag)(e)}render(){if(!this.slider){const e={min:this.min,max:this.max,values:this.values,precision:this.precision,visibleElements:{labels:this.showThumbLabel,rangeLabels:!0},labelInputsEnabled:this.editThumbLabel};this.minLabel&&this.maxLabel&&(e.inputFormatFunction=e=>e.toLocaleString(l.getLocale()),e.labelFormatFunction=e=>e===this.min?this.minLabel:e===this.max?this.maxLabel:e.toLocaleString(l.getLocale()),e.inputParseFunction=e=>{e=e.replace(",",".");const t=Number.parseFloat(e);return Number.isNaN(t)?this.slider.values[0]:t}),this.slider=new r.default(e)}return m.qy`<div class=${"slider slider-bottom-label "+(this.showThumbLabel?"slider-with-thumb":"")} ${(0,a.K)(this.divRefHandler)}></div>`}}(0,s.c)("arcgis-map-config-smart-mapping-raster-slider",b)},65595:(e,t,i)=>{i.d(t,{c:()=>n,u:()=>r});var s=i(20936),a=i(1225),l=(i(54312),i(44345),i(55448),i(52797),i(34031),i(63438),i(5933),i(28927),i(83368),i(89704),i(5294),i(18423),i(96086),i(91813),i(21255),i(13078),i(21303),i(12627),i(56451),i(31521),i(23054),i(5077),i(23795),i(17902),i(87420),i(30161),i(81734),i(75698),i(10628),i(59640),i(64451),i(6176),i(83552));i(77462),i(49403),i(10281),i(83930),i(66617),i(10454),i(29614),i(94916),i(52554),i(2156),i(4038),i(49851),i(75054),i(15223),i(70169),i(47207),i(70852),i(48103),i(39423),i(85681),i(18444),i(42411),i(9767),i(38218),i(91914),i(86605),i(68196),i(440),i(46547),i(6238),i(7299);function n(e){e.selectedFields=[],e.layerFields=void 0,e.fields=void 0,e.hideLayerTitle=!1,e.supportsArcade=!1,e.stringFieldsCount=-1,e.dateFieldsCount=-1,e.numberFieldsCount=-1,e.containsFlow=!0,e.oneFeatureResponseStatus=a.s.MISSING,e.selectedAttribute=void 0,e.selectedAttributeText=void 0,e.selectedTypeValue=void 0,e.selectedValue=void 0,e.lastDefault=void 0,e.lastDefaults=void 0,e.dotColorSelected=void 0,e.backgroundStyleSelected=void 0,e.lastSettings=void 0,e.classedSymbolSelectedIdx=void 0,e.allUniqueValues=void 0,e.useFeatureReduction=void 0,e.symbolStylerConfig={},e.allowTimeSeriesConfiguration=!1,e.rasterInfo=void 0}function r(){const e=(0,l.Gk)(),t=e;e.manager.onLoad(()=>{t.smartMappingState=function(e,t){const i=o.get(e);if(i)return i;const a=(0,s.el)(e,t);return a&&"store"in a?(o.set(e,a.store),a.store):null}(e.el,"arcgis-map-config-smart-mapping")})}const o=new WeakMap}}]);