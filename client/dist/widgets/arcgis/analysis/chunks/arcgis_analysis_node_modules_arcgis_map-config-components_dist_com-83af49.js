/*! For license information please see arcgis_analysis_node_modules_arcgis_map-config-components_dist_com-83af49.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_map-config-components_dist_com-83af49"],{2079:(e,t,i)=>{i.d(t,{a:()=>r,i:()=>a});var s=i(42855);function a(e,t,i,a){const{layer:r}=e;switch(t){case s.l.feature:return!!(r&&i===s.s.wms||r&&r.popupTemplate)&&r.popupEnabled;case s.l.cluster:return!!r&&r.featureReduction.popupEnabled;case s.l.mapNotes:return a;default:return!!r?.popupEnabled}}function r(e,t){const i="CALCITE-INPUT"===e.tagName,s=i?e.shadowRoot.querySelector("input"):e.shadowRoot.querySelector("textarea"),a=s.selectionStart,r=[e.value.slice(0,a),`{${t}}`,e.value.slice(a)].join("");e.value=r;const o=a+2+t.length;setTimeout(()=>{i?e.setFocus():(s?.setSelectionRange(o,o),s?.focus()),s?.setSelectionRange(o,o)},1)}},10763:(e,t,i)=>{i.d(t,{c:()=>r,u:()=>o});var s=i(83552),a=i(20936);function r(e){e.mapView=void 0,e.portal=void 0,e.config=void 0,e.layerDisplayType=void 0,e.serviceType=void 0,e.layerHasAttributes=!0,e.layerSupportsAttachments=!1,e.layerHasCharts=!0,e.layerHasImages=!0,e.layerHasText=!0,e.layerSupportsArcade=!1,e.layerHasRelatedRecords=!1,e.layerIsUNLayer=!1,e.layerHasEditInfo=!1,e.blockFeatureReductionArcade=!1,e.allowTimeSeriesConfiguration=!1}function o(){const e=(0,s.Gk)(),t=e;e.manager.onLoad(()=>{t.popupState=function(e,t){const i=n.get(e);if(i)return i;const s=(0,a.el)(e,t);return s&&"store"in s?(n.set(e,s.store),s.store):null}(e.el,"arcgis-map-config-popup")})}const n=new WeakMap},27817:(e,t,i)=>{i.r(t),i.d(t,{ArcgisMapConfigPopupRelationship:()=>y});var s=i(73679),a=i(4395),r=i(85643),o=i(54312),n=i(32356),l=(i(9923),i(42097),i(63438),i(18423),i(96086),i(91813),i(21255),i(13078),i(21303),i(12627),i(34883)),p=(i(81565),i(2079)),c=i(39258),u=i(73801),d=i(10763);const h=a.AH`.form-input-button{display:flex}.input{width:100%}calcite-text-area{width:100%;--calcite-text-area-min-width: 0;--calcite-text-area-min-height: 42px}.dropdown{width:100%}`;class y extends u.WF{constructor(){super(),this.maxPreviewCount=11,this.popupState=(0,d.u)(),this.hasRelationshipLayer=!0,this.arcgisChange=(0,u.lh)(),this.closePopupPopovers=(0,u.lh)(),this.disablePopupPanel=(0,u.lh)(),this.listenOn(window,"closePopupPopovers",this.closePopupPopoversHandler)}static{this.properties={hasRelationshipLayer:16,popupFlowItem:0,relationshipContent:0}}static{this.styles=h}async load(){const{popupState:e}=this;this.hasRelationshipLayer=await(0,c.c)(e,this.relationshipContent),this.relationshipContent.title=this.relationshipContent.title||"",this.relationshipContent.description=this.relationshipContent.description||""}loaded(){this.setUpLayerTableListWatcher()}disconnectedCallback(){super.disconnectedCallback(),this.relationshipFormInputPickListNode?.remove(),this.sortByPickerNode?.remove(),this.layerTableListWatcher?.remove()}closePopupPopoversHandler(){this.relationshipFormInputPickListNode&&(this.relationshipFormInputPickListNode.remove(),this.relationshipFormInputPickListNode=void 0,this.disablePopupPanel.emit(!1)),this.sortByPickerNode&&(this.sortByPickerNode.remove(),this.sortByPickerNode=void 0,this.disablePopupPanel.emit(!1))}handleRelationshipFormInputPickListChange(e,t){"title"===t?((0,p.a)(this.relationshipTitleNode,e),this.relationshipContent.title=this.relationshipTitleNode.value):"description"===t&&((0,p.a)(this.relationshipDescriptionNode,e),this.relationshipContent.description=this.relationshipDescriptionNode.value),this.closePopupPopovers.emit(),this.arcgisChange.emit()}openSortByPickList(e){const{popupState:t}=this,{mapView:i}=t;this.closePopupPopovers.emit(),this.sortByPickerNode||(this.sortByPickerNode=(0,u.dN)(a.qy`<arcgis-field-pick-list .popoverProps=${{triggerDisabled:!0,refElement:this.popupFlowItem,offsetSkidding:50}} .fields=${e.fields.filter(e=>e.visible)} .layer=${e} .mapView=${i} show-field-info show-field-name .selectedFields=${this.relationshipContent?.orderByFields?.[0]?.field?[this.relationshipContent?.orderByFields?.[0]?.field]:[]} @arcgisClose=${e=>{e.stopPropagation();const t=e.detail?.selectedFields?.[0];this.handleSortByPickListChange(t)}}></arcgis-field-pick-list>`),document.body.appendChild(this.sortByPickerNode),this.sortByPickerNode.setFocus(),this.disablePopupPanel.emit(!0))}handleSortByPickListChange(e){e&&(this.relationshipContent.orderByFields[0].field=e,this.arcgisChange.emit()),this.closePopupPopovers.emit()}setUpLayerTableListWatcher(){this.layerTableListWatcher=o.watch(()=>[this.popupState.mapView.map?.allLayers.length,this.popupState.mapView.map?.allTables.length],async()=>{const{popupState:e}=this;this.hasRelationshipLayer=await(0,c.c)(e,this.relationshipContent)})}render(){const{popupState:e}=this,{_messages:t}=e;return a.qy`${this.renderFormInput("title",t.title,this.relationshipContent.title,t.enterTitle,e=>this.relationshipTitleNode=e)}${this.renderFormInput("description",t.desc,this.relationshipContent.description,t.enterDescription,e=>this.relationshipDescriptionNode=e)}${this.renderRelationshipSelector()}${this.renderSortBy()}${this.renderSortOrder()}${this.renderPreviewCount()}`}renderFormInput(e,t,i,s,o){return a.qy`<calcite-label scale=s>${t}<div class="form-input-button">${"title"===e?a.qy`<calcite-input class="input" type=text autofocus .value=${i} .placeholder=${s} .disabled=${!this.hasRelationshipLayer} @calciteInputInput=${e=>{e.stopPropagation();const t=e.target.value;this.relationshipContent.title=t,this.arcgisChange.emit()}} @click=${()=>this.closePopupPopovers.emit()} ${(0,r.K)(o)}></calcite-input>`:a.qy`<calcite-text-area resize=vertical autofocus .value=${i} .placeholder=${s} @calciteTextAreaInput=${e=>{e.stopPropagation();const t=e.target.value;this.relationshipContent.description=t,this.arcgisChange.emit()}} ${(0,r.K)(o)}></calcite-text-area>`}${this.popupState.popupTemplate.fieldInfos?.length&&a.qy`<calcite-action .text=${this.popupState._messages.attributes} scale=s icon=brackets-curly .disabled=${!this.hasRelationshipLayer} @click=${()=>{const{popupState:t}=this;this.closePopupPopovers.emit(),this.relationshipFormInputPickListNode||(this.relationshipFormInputPickListNode=(0,u.dN)(a.qy`<arcgis-map-config-popup-field-pick-list .popoverProps=${{refElement:this.popupFlowItem,offsetSkidding:50}} .heading=${t._messages.addField} .popupState=${t} @arcgisChange=${t=>{t.stopPropagation();const i=t.detail.selectedFields[0];this.handleRelationshipFormInputPickListChange(i,e)}} @arcgisClose=${e=>{e.stopPropagation(),this.closePopupPopovers.emit()}}></arcgis-map-config-popup-field-pick-list>`),document.body.appendChild(this.relationshipFormInputPickListNode),this.disablePopupPanel.emit(!0))}}></calcite-action>`||""}</div></calcite-label>`}renderRelationshipSelector(){const{popupState:e}=this,{_messages:t,mapView:i}=e,s=(0,l.g)(e),r=s.relationships.find(e=>e.id===this.relationshipContent.relationshipId),o=s.relationships.map(e=>{const r=(0,c.g)(i);for(const i of r){const r=i;if((0,c.r)(s,r,e))return a.qy`<calcite-dropdown-item .selected=${this.relationshipContent.relationshipId===e.id} @click=${async()=>{await r.load(),this.relationshipContent.relationshipId=e.id,this.relationshipContent.orderByFields=[new n.default({field:r.fields.find(e=>e.visible).name,order:this.relationshipContent.orderByFields?.[0].order||"asc"})],this.arcgisChange.emit()}}>${e.name||t.relationship}</calcite-dropdown-item>`}return""});return a.qy`<calcite-label>${t.relationship}<calcite-dropdown .disabled=${!this.hasRelationshipLayer} overlay-positioning=fixed class="dropdown"><calcite-button slot=trigger appearance=outline-fill kind=neutral icon-end=chevronDown alignment=icon-end-space-between width=full>${r?.name||t.relationship}</calcite-button><calcite-dropdown-group>${o}</calcite-dropdown-group></calcite-dropdown></calcite-label>`}renderSortBy(){const{popupState:e}=this,{_messages:t,mapView:i}=e,s=(0,l.g)(e);return a.qy`<calcite-label>${t.sortBy}<calcite-button appearance=outline-fill kind=neutral icon-end=chevronDown alignment=icon-end-space-between width=full .disabled=${!this.hasRelationshipLayer} @click=${()=>{s.relationships.map(async e=>{const t=(0,c.g)(i);for(const i of t){const t=i;this.relationshipContent.relationshipId===e.id&&(0,c.r)(s,t,e)&&this.openSortByPickList(t)}})}}>${this.relationshipContent?.orderByFields?.[0]?.field||t.default}</calcite-button></calcite-label>`}renderSortOrder(){const{popupState:e}=this,{_messages:t}=e;return a.qy`<calcite-label>${t.sortOrder}<calcite-dropdown .disabled=${!this.hasRelationshipLayer} overlay-positioning=fixed><calcite-button slot=trigger appearance=outline-fill kind=neutral icon-end=chevronDown alignment=icon-end-space-between width=full>${"desc"===this.relationshipContent.orderByFields?.[0].order?t.descending:t.ascending}</calcite-button><calcite-dropdown-item .selected=${"asc"===this.relationshipContent.orderByFields?.[0].order} @click=${()=>{this.relationshipContent.orderByFields[0].order="asc",this.arcgisChange.emit()}}>${t.ascending}</calcite-dropdown-item><calcite-dropdown-item .selected=${"desc"===this.relationshipContent.orderByFields?.[0].order} @click=${()=>{this.relationshipContent.orderByFields[0].order="desc",this.arcgisChange.emit()}}>${t.descending}</calcite-dropdown-item></calcite-dropdown></calcite-label>`}renderPreviewCount(){const{popupState:e}=this,{_messages:t}=e;return a.qy`<calcite-label>${t.previewCount}<calcite-dropdown .disabled=${!this.hasRelationshipLayer} overlay-positioning=fixed><calcite-button slot=trigger appearance=outline-fill kind=neutral icon-end=chevronDown alignment=icon-end-space-between width=full>${(0===this.relationshipContent.displayCount?t.none:this.relationshipContent.displayCount)??1}</calcite-button><calcite-dropdown-group>${[...Array(this.maxPreviewCount).keys()].map(e=>a.qy`<calcite-dropdown-item .selected=${this.relationshipContent.displayCount===e} @click=${()=>{this.relationshipContent.displayCount=e,this.arcgisChange.emit()}}>${0===e?t.none:e}</calcite-dropdown-item>`)}</calcite-dropdown-group></calcite-dropdown></calcite-label>`}}(0,s.c)("arcgis-map-config-popup-relationship",y)},34883:(e,t,i)=>{function s(e){const{layer:t,backingFeatureLayer:i}=e;return i??t}i.d(t,{g:()=>s})},39258:(e,t,i)=>{i.d(t,{a:()=>u,c:()=>l,g:()=>o,l:()=>n,r:()=>c});var s=i(42855),a=i(66228),r=i(34883);function o(e){let t=[...e.map?.allLayers?.toArray()||[],...e.map?.allTables?.toArray()||[]];return t.forEach(e=>{if("map-image"===e.type||"subtype-group"===e.type){const i=e;t=t.concat([...i.sublayers])}}),t}async function n(e,t,i){const a=e.capabilities?.queryRelated?.supportsCount,r=e.capabilities?.queryRelated?.supportsPagination;if([s.s.feature,s.s.scene,s.s.mapImage,s.s.subtype].includes(i)&&e?.relationships?.length&&a&&r)for(const i of e.relationships){const s=o(t);for(const t of s){const s=t;if(await p(e,s,i))return await s.load(),await Promise.resolve(!0)}}return await Promise.resolve(!1)}async function l(e,t){const{mapView:i}=e,s=(0,r.g)(e);if(!s)return await Promise.resolve(!1);for(const e of s.relationships)if(e.id===t.relationshipId){const t=o(i);for(const i of t){const t=i;if(await p(s,t,e))return await t.load(),await Promise.resolve(!0)}return await Promise.resolve(!1)}return await Promise.resolve(!1)}async function p(e,t,i){const s=t.url?t.url===e.url||d(t)===d(e):"type"in t.parent&&"group"===t.parent.type&&"portalItem"in e&&t.parent?.portalItem?.id===e.portalItem?.id;["feature","scene"].includes(t.type)&&s&&"layerId"in t&&!(0,a.i)(t.layerId)&&await t.load();const r="sublayer"===t.type||"subtype-sublayer"===t.type;return await Promise.resolve(["feature","scene","sublayer","subtype-group","subtype-sublayer"].includes(t.type)&&s&&(!r&&t.layerId===i.relatedTableId||r&&t.id===i.relatedTableId))}function c(e,t,i){const s=t.url?t.url===e.url||d(t)===d(e):"type"in t.parent&&"group"===t.parent.type&&"portalItem"in e&&t.parent?.portalItem?.id===e.portalItem?.id,a="sublayer"===t.type||"subtype-sublayer"===t.type;return["feature","scene","sublayer","subtype-group","subtype-sublayer"].includes(t.type)&&s&&(!a&&t.layerId===i.relatedTableId||a&&t.id===i.relatedTableId)}async function u(e,t,i){if([s.s.feature,s.s.scene,s.s.mapImage,s.s.subtype].includes(i)&&e?.relationships?.length)for(const i of e.relationships){const s=o(t);for(const t of s){const s=t;if(await p(e,s,i))return await s.load(),{relationship:i,currLayer:s}}}}function d(e){return["feature","subtype-sublayer"].indexOf(e.type)&&e.url.toLocaleLowerCase().endsWith("/featureserver")?e.url.substring(0,e.url.length-14):["feature","map-image","sublayer"].includes(e.type)&&e.url.toLocaleLowerCase().endsWith("/mapserver")?e.url.substring(0,e.url.length-10):["feature","map-image","sublayer"].includes(e.type)&&e.url.toLocaleLowerCase().includes("/mapserver/")?e.url.substring(0,e.url.toLocaleLowerCase().indexOf("/mapserver/")):"scene"===e.type&&e.url.toLocaleLowerCase().endsWith("/sceneserver")?e.url.substring(0,e.url.length-12):e.url}},42855:(e,t,i)=>{i.d(t,{a:()=>o,f:()=>s,l:()=>a,s:()=>r});var s=(e=>(e.expression="expression/",e.raster="Raster.",e.relationship="relationships/",e))(s||{}),a=(e=>(e.cluster="cluster",e.feature="feature",e.mapNotes="mapNotes",e))(a||{}),r=(e=>(e.catalog="catalog",e.catalogFootprint="catalog-footprint",e.csv="csv",e.feature="feature",e.geojson="geojson",e.imagery="imagery",e.imageryTile="imagery-tile",e.knowledgeGraphSublayer="knowledge-graph-sublayer",e.mapImage="map-image",e.ogcFeature="ogc-feature",e.orientedImagery="oriented-imagery",e.parquet="parquet",e.scene="scene",e.stream="stream",e.subtype="subtype",e.tile="tile",e.voxel="voxel",e.wcs="wcs",e.wfs="wfs",e.wms="wms",e))(r||{}),o=(e=>(e.bigInteger="big-integer",e.blob="blob",e.date="date",e.dateOnly="date-only",e.double="double",e.globalId="global-id",e.guid="guid",e.integer="integer",e.long="long",e.number="number",e.oid="oid",e.single="single",e.smallInteger="small-integer",e.string="string",e.timeOnly="time-only",e.timestampOffset="timestamp-offset",e))(o||{})},66228:(e,t,i)=>{i.d(t,{a:()=>w,b:()=>x,c:()=>N,d:()=>k,e:()=>L,f:()=>R,g:()=>f,h:()=>g,i:()=>y,j:()=>m,k:()=>P,l:()=>T,m:()=>I,n:()=>d,o:()=>C,p:()=>E,q:()=>S,r:()=>q,s:()=>v,t:()=>$,u:()=>b});var s=i(63438),a=i(18423),r=i(96086),o=i(91813),n=i(21255),l=i(13078),p=i(21303),c=i(12627),u=i(42855);const d=["feature","scene","geojson","csv","subtype-sublayer","oriented-imagery","catalog-footprint","sublayer"],h=["feature"];function y(e){return null!=e}function m(e,t,i){const s=t.fieldName;if(s.includes(u.f.expression)){const e=i.get(s);return e?.title?e.title:s}return v(e)&&e.getFieldConfiguration(s)?e.getFieldAlias(s)||s:t.label||s}async function f(e){return new Map((await P(e)).filter(e=>e.visible).map(e=>[e.name,e]))}function g(e){const t=new Map;return e?.expressionInfos&&e.expressionInfos.forEach(e=>{const i=`${u.f.expression}${e.name}`;t.set(i,e)}),t}function w(e){return"map-image"===e?.layer?.type?u.s.mapImage:"subtype-sublayer"===e?.type?u.s.subtype:"tile"===e?.layer?.type?u.s.tile:"scene"===e?.type?u.s.scene:"ogc-feature"===e?.type?u.s.ogcFeature:"imagery"===e?.type?u.s.imagery:"imagery-tile"===e?.type?u.s.imageryTile:"wfs"===e?.type?u.s.wfs:"wcs"===e?.type?u.s.wcs:"wms"===e?.layer?.type?u.s.wms:"csv"===e?.type?u.s.csv:"geojson"===e?.type?u.s.geojson:"stream"===e?.type?u.s.stream:"oriented-imagery"===e?.type?u.s.orientedImagery:"catalog"===e?.type?u.s.catalog:"catalog-footprint"===e?.type?u.s.catalogFootprint:"knowledge-graph-sublayer"===e?.type?u.s.knowledgeGraphSublayer:"voxel"===e?.type?u.s.voxel:"parquet"===e?.type?u.s.parquet:u.s.feature}function b(e){const t=w(e);let i;return t===u.s.wms||t===u.s.mapImage?i=e?.layer.version:(t===u.s.imagery||t===u.s.feature||t===u.s.scene)&&(i=e.version),Number.parseFloat(i)}function v(e){return"fieldConfigurations"in e&&h.includes(e.type)}async function P(e){return await new Promise((t,i)=>{switch(w(e)){case u.s.feature:case u.s.ogcFeature:case u.s.stream:t(e.fields);break;case u.s.mapImage:{const s=e,a=s?.layer;a?.portalItem&&a.url.includes("https://demographics")&&a.url.includes(".arcgis.com")?a.portalItem?.fetchData().then(e=>{if(e?.thematicGroup){const i=new Map(s.fields.map(e=>[e.name,e])),a=e.thematicGroup.fieldNames,r=[];a.forEach(e=>{i.has(e)&&r.push(i.get(e))}),t(r)}else t(s.fields)}).catch(e=>{i(new Error(e))}):t(s.fields);break}case u.s.imagery:case u.s.imageryTile:case u.s.wcs:t(e.rasterFields);break;default:t("fields"in e?e.fields??[]:[])}})}function C(e){if(e)switch(e.type){case"point":return e;case"extent":return e.center;case"polygon":return e.centroid;case"multipoint":case"polyline":return e.extent?.center;default:return}}function I(e){return Number((100*(1-e)).toFixed(1))}function $(e){return Number((1-e/100).toFixed(3))}const k=(e,t)=>{const i=[];return e?.fieldInfos?.forEach(e=>{e.fieldName?.includes(u.f.expression)||i.push({name:e.fieldName,alias:e.label,type:"string"})}),i},x=async(e,t)=>{const i=new c.default;return i.geometry=t.extent,i.mapExtent=t.extent,i.returnGeometry=!0,i.tolerance=6,i.layerOption="popup",i.width=t.width,i.height=t.height,i.layerIds=[e.id],(await p.identify(e.layer.url,i))?.results?.[0]?.feature},L=async(e,t,i)=>{const s=await(await e.whenLayerView(t)).queryAggregates();return await F(i,s.features?.[0])},F=async(e,t)=>{let i;if(t)i=t.clone();else{i=new s.default;const t=k(e);if(t?.length){const e={};t.forEach(t=>{e[t.name]=""}),i.attributes=e}const r=new a.default;i.geometry=r}return i};function S(e,t){const i=t.startsWith("#"),s=t.startsWith(".");for((s||i)&&(t=t.slice(1));e;){if(i){if(e.id===t)return e}else if(s){if(e.classList.contains(t))return e}else if(e.tagName.toLowerCase()===t.toLowerCase())return e;e=e.parentElement??e.getRootNode()?.host??void 0}}async function N(e){if(w(e)===u.s.stream)return await Promise.resolve("point");if(e.geometryType)return await Promise.resolve(e.geometryType);if(w(e)===u.s.mapImage&&e?.layer?.sourceJSON?.layers){const t=e.layer?.sourceJSON.layers.find(t=>{if(t.id===e.id)return t})?.geometryType?.toLowerCase();if(t)return t.indexOf("point")>-1?await Promise.resolve("point"):t.indexOf("line")>-1?await Promise.resolve("polyline"):t.indexOf("polygon")>-1?await Promise.resolve("polygon"):await Promise.resolve(t);{const t=e?.layer?.findSublayerById(e.id);if(t){const e=await(t?.createFeatureLayer());return e?(await e.load(),await Promise.resolve(e?.geometryType)):void await Promise.resolve()}return void await Promise.resolve()}}await Promise.resolve()}function T(e,t,i){let s="";if(/^raster.(?:item|service)pixelvalue/iu.test(e))s="number";else if(t.has(e)){const i=t.get(e);s=i.type?i.type.toLowerCase():""}else if(i.has(e)){const t=i.get(e);s=t.returnType?t.returnType.toLowerCase():""}else s="number";return s}async function R(e,t){try{const i=w(e);if(i===u.s.mapImage&&e.layer.version>=10.5&&!e.layer.capabilities?.operations?.supportsQuery&&e.layer.capabilities?.operations?.supportsIdentify)return{features:[await x(e,t)||await B(e,t)]};if(i===u.s.scene&&!e.capabilities?.operations?.supportsQuery)return{features:[await B(e,t)]};const s=i===u.s.ogcFeature||i===u.s.stream?await t.whenLayerView(e):e,a=s.createQuery();a.where=s.definitionExpression||"1=1",a.outFields=["*"],a.returnM="hasM"in e&&e.hasM,a.returnZ="hasZ"in e&&e.hasZ,a.outSpatialReference=t.spatialReference,a.returnGeometry=!0,(s.sourceJSON?.advancedQueryCapabilities?.supportsPagination||i===u.s.ogcFeature)&&(a.start=0,a.num=1),a.outSpatialReference=t.spatialReference;const r=await s.queryFeatures(a);return r?.features?.length||(r.features[0]=await B(e,t)),r}catch(e){console.error(e)}}async function B(e,t){return await new Promise(i=>{const a=new s.default;if(e.fields?.length){const t={};e.fields.forEach(e=>{t[e.name]=e.defaultValue}),a.attributes=t}const p=t.extent;let c;"polygon"===e.geometryType?c=n.default.fromExtent(p):"point"===e.geometryType?c=p.center.clone():"multipoint"===e.geometryType?c=new r.default({points:[[p.center.x,p.center.y]],spatialReference:p.center.spatialReference.clone()}):"polyline"===e.geometryType?(c=new o.default({spatialReference:t.spatialReference.clone()}),c.addPath([[p.xmin,p.ymin],[p.xmax,p.ymax]])):"mesh"===e.geometryType&&(c=l.default.createBox(p.center.clone(),{size:{width:50,height:50,depth:50}})),a.geometry=c,i(a)})}function q(e){return w(e)===u.s.tile&&"url"in e&&"sublayer"===e.type&&-1===e.url?.indexOf(e.parent.url)&&!!e.fields?.length}function E(e){return w(e)===u.s.tile&&"url"in e&&"sublayer"===e.type&&-1!==e.url?.indexOf(e.parent.url)&&!!e.fields?.length}}}]);