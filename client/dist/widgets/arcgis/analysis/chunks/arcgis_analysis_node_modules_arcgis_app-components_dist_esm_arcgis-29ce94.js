/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-29ce94.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-29ce94"],{1402:(e,i,r)=>{r.d(i,{g:()=>t});var n=r(12192);async function t(e){const i=await(0,n.g)(e,"arcgis-member-browser");return i&&i.length?i[0]:null}},1654:(e,i,r)=>{r.d(i,{A:()=>b,B:()=>x,C:()=>k,D:()=>F,E:()=>g,F:()=>B,a:()=>o,b:()=>l,c:()=>s,d:()=>f,e:()=>T,f:()=>w,g:()=>I,h:()=>C,i:()=>m,j:()=>_,k:()=>$,l:()=>a,m:()=>d,n:()=>u,o:()=>D,p:()=>v,q:()=>p,r:()=>h,s:()=>A,t:()=>O,u:()=>c,v:()=>S,w:()=>U,x:()=>G,y:()=>P,z:()=>y});var n=r(46904);const t=e=>{var i,r,n;return"string"==typeof(null==e?void 0:e.role)&&(null==e?void 0:e.role)?null==e?void 0:e.role:null!==(r=null!==(i=null==e?void 0:e.roleId)&&void 0!==i?i:null==e?void 0:e.id)&&void 0!==r?r:null===(n=null==e?void 0:e.sourceJSON)||void 0===n?void 0:n.id};function l(e){return e&&!e.orgId}function s(e,i){return(0,n.u)(e,i)||"update"===e.itemControl||(0,n.c)([e],i)&&w(i)}function o(e,i){const r=(0,n.c)([e],i),t=(0,n.u)(e,i)||w(i)&&r,l=I(i)&&E(i);return!!(t||r&&l)}const u=e=>{var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:manageLicenses"))},a=e=>{var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:inviteUsers"))},d=e=>{var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:manageRoles"))},c=e=>{var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:changeUserRoles"))},v=e=>{var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:viewGroups"))},p=e=>{var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:viewUsers"))};function m(e){return["Trial Developer","Developer","Developer Subscription"].includes(null==e?void 0:e.type)}function g(e){return["Developer Subscription"].includes(null==e?void 0:e.type)}function h(e){return["Geoanalytics Engine","GeoAnalytics MS Fabric"].includes(null==e?void 0:e.type)}const f=e=>{var i;return null===(i=null==e?void 0:e.options)||void 0===i?void 0:i.includes("Developer")},y=e=>{var i;return null===(i=null==e?void 0:e.options)||void 0===i?void 0:i.includes("PublicSharingDisabled")},b=e=>{var i;return null===(i=null==e?void 0:e.options)||void 0===i?void 0:i.includes("HostedServicesPublicSharingDisabled")};function w(e){return"org_admin"===t(e)||"account_admin"===t(e)}function T(e){return["org_admin","account_admin"].includes(t(e))&&!(null==e?void 0:e.roleId)}function I(e){return!!(null==e?void 0:e.roleId)&&e.roleId.length>0}function _(e){var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:updateItemCategorySchema"))}function C(e){var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:updateGroups"))}function D(e){var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:assignToGroups"))}const E=e=>{var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:deleteItems"))};function S(e){return((null==e?void 0:e.privileges)||[]).includes("portal:user:shareToGroup")}function U(e){return((null==e?void 0:e.privileges)||[]).includes("portal:user:shareToOrg")}function x(e){return((null==e?void 0:e.privileges)||[]).includes("portal:user:shareToPublic")}function P(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:shareToOrg")}function k(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:shareToPublic")}function G(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:shareToGroup")}function $(e,i,r,n){const t=n&&!["Trial","Trial Press","Trial Developer","Developer Subscription","Evaluation"].includes(n.type),l=((null==i?void 0:i.privileges)||[]).includes("portal:admin:manageCollaborations");return!(!(null==e?void 0:e.collaborationsEnabled)||!i||!w(i)&&!l||!(null==r?void 0:r.isPortal)&&!t)}function B(e){return!!e&&(!I(e)||I(e)&&function(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:viewItems")}(e))}const F=({items:e,user:i,portal:r})=>{const t=e[0],l=t.owner;if(r.isPortal&&l!==i.username&&l.includes("esri_")&&!["esri_livingatlas"].includes(l))return!1;const o=(0,n.u)(t,i),u=I(i),a=L(i),d=s(t,i)&&function(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:updateItems")}(i)&&!u&&(function(e,i){return!function(e){return!(!e.urlKey||!e.customBaseUrl)||!!e.isPortal}(i)||S(e)||U(e)||!!i.canSharePublic&&x(e)}(i,r)||L(i));return o||d||(0,n.c)(e,i)&&a};function L(e){return G(e)||P(e)||k(e)}const M=["portal:user:createItem","portal:user:viewOrgItems","premium:publisher:createNotebooks","portal:publisher:createDataPipelines","features:user:edit","features:user:fullEdit","portal:admin:viewItems","portal:admin:updateItems","portal:admin:deleteItems"];function O(e){return e.some(e=>M.includes(e))}function A(e){return e.filter(e=>M.includes(e))}},19652:(e,i,r)=>{r.r(i),r.d(i,{arcgis_member_browser_filter_user_types:()=>d});var n=r(87849),t=r(23966),l=r(3367),s=r(59317),o=r(1654),u=r(74174),a=r(1402);r(37762),r(41473),r(83692),r(931),r(93814),r(54251),r(94737),r(46904),r(15332),r(12192),r(94984);const d=class{constructor(e){(0,n.r)(this,e),this.arcgisMemberBrowserFilter=(0,n.c)(this,"arcgisMemberBrowserFilter",7),this.loadUserTypes=async()=>{const{user:e,portal:i}=null!==s.c&&void 0!==s.c?s.c:{};if(!this.userTypes&&e&&i&&(0,o.n)(e)){let e=await(0,l.a)(i);const r=await(0,l.l)(i);e=e.filter(e=>{var i;const n=(null===(i=r.find(i=>i.key===e.id))||void 0===i?void 0:i.count)||0;return 0!==e.maxUsers||0!==n}),this.userTypes=e.sort((e,i)=>e.name>i.name?1:e.name<i.name?-1:0),this.userTypeId&&this.emitEvent()}},this.userTypeId=void 0,this.expanded=void 0,this.userTypes=void 0}async componentWillLoad(){var e;this.store=(0,t.g)(this.el),this.i18n=null===(e=await(0,a.g)(this.el))||void 0===e?void 0:e.filterUserTypes}async componentDidLoad(){await this.loadUserTypes(),(0,s.o)("user",this.loadUserTypes),(0,s.o)("portal",this.loadUserTypes),(0,u.a)("userlicensetype",this.store,()=>this.userTypeId=null)}getEventDetail(){var e;const{userTypeId:i}=this;if(!i)return{id:"userlicensetype",param:"userlicensetype",value:"",label:"",userLicenseType:""};const r=null===(e=this.userTypes)||void 0===e?void 0:e.find(e=>e.id===i);return{id:"userlicensetype",param:"userlicensetype",value:r.id,label:this.i18n.label.replace("${name}",r.name),userLicenseType:r.id}}emitEvent(){const e=this.getEventDetail();this.arcgisMemberBrowserFilter.emit(e)}render(){var e;const{user:i}=s.c,{userTypes:r}=this;return!(this.store.state.groupId&&!this.store.state.myOrgView)&&i&&(0,o.n)(i)&&(null===(e=this.userTypes)||void 0===e?void 0:e.length)&&!this.store.state.includeExternalUsers?(0,n.h)("arcgis-browser-filter",{heading:this.i18n.title,expanded:this.expanded,active:!!this.userTypeId,onArcgisBrowserFilterRemove:()=>{this.userTypeId=null},filterID:"userlicensetype"},(0,n.h)("div",{class:"tree-wrapper"},(0,n.h)("calcite-tree",{selectionMode:"single",onCalciteTreeSelect:e=>{var i,r;const n=(null===(r=null===(i=e.target.selectedItems)||void 0===i?void 0:i[0])||void 0===r?void 0:r.dataset.userType)||"";this.userTypeId===n?this.userTypeId=null:this.userTypeId=n,this.emitEvent()}},null==r?void 0:r.map(e=>(0,n.h)("calcite-tree-item",{key:e.id,"data-user-type":e.id,selected:e.id===this.userTypeId},(0,n.h)("a",null,e.name)))))):null}get el(){return(0,n.a)(this)}};d.style=".tree-wrapper{max-height:14rem;overflow:auto}.member-browser-filter__no-results-wrapper{padding:1rem}"},23966:(e,i,r)=>{r.d(i,{a:()=>s,g:()=>l,o:()=>o});var n=r(37762),t=r(74174);function l(e){return(0,t.g)(e,"arcgis-member-browser")}const s=(e,i)=>{e.onChange("view",e=>{i(e)})};(0,n.c)({type:"member-browser",includeExternalUsers:!1});const o=(e,i)=>{e.onChange("sort",e=>{i(e)})}},46904:(e,i,r)=>{r.d(i,{a:()=>s,b:()=>l,c:()=>a,d:()=>d,e:()=>c,f:()=>v,g:()=>p,i:()=>o,u:()=>u});r(93814);var n=r(41473);function t(e){var i;return!!(null===(i=e.owner)||void 0===i?void 0:i.toLowerCase().includes("esri"))}function l(e){var i;return t(e)&&!!(null===(i=e.typeKeywords)||void 0===i?void 0:i.includes("Requires Credits"))}function s(e){var i;return t(e)&&!!(null===(i=e.typeKeywords)||void 0===i?void 0:i.includes("Requires Subscription"))}function o(e,i){return e.owner===i.username}function u(e,i){return o(e,i)||function(e,i){var r;if(null!=e.isAdmin)return!!e.isAdmin;const n=e.owner,t="admin"===e.itemControl,l=["esri_livingatlas","esri_demographics","esri_boundaries"];if((null===(r=e.portal)||void 0===r?void 0:r.isPortal)&&!o(e,i)&&t&&n.includes("esri_")&&!l.includes(n))return!1;return t}(e,i)}const a=(e,i)=>!!i.orgId&&e.every(e=>e.isOrgItem),d=(e,i)=>`${(0,n.a)(i)}item.html?id=${e}`,c=(e,i)=>`${(0,n.g)(i)}/content/users/${e}`,v=e=>e.reduce((e,i)=>(e[i.owner]=e[i.owner]?[...e[i.owner],i.id]:[i.id],e),{}),p=(e,i)=>`${(0,n.a)(i)}content/items/${e}`},74174:(e,i,r)=>{r.d(i,{a:()=>l,b:()=>o,g:()=>a,i:()=>t,o:()=>s});var n=r(15332);const t=e=>"item-browser"===e.state.type,l=(e,i,r)=>{i.onChange("filters",i=>{i[e]&&i[e].value||r()})},s=(e,i)=>{e.onChange("preview",e=>{i()})},o=(e,i)=>{e.onChange("groupId",e=>{i()})},u=new Map;function a(e,i){const r=u.get(e);if(r)return r;const t=(0,n.c)(e,i);return t?(u.set(e,t.store),t.store):null}}}]);