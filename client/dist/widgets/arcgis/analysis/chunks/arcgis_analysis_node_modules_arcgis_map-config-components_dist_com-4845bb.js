/*! For license information please see arcgis_analysis_node_modules_arcgis_map-config-components_dist_com-4845bb.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_map-config-components_dist_com-4845bb"],{4265:(e,s,t)=>{t.d(s,{a:()=>i,d:()=>a,t:()=>n});const a=(e,s)=>{let t,a="idle";const i=async(...i)=>await new Promise(n=>{switch(a){case"flushed":a="idle",t?(clearTimeout(t),n(e(...i))):n(null);break;case"invoked":clearTimeout(t),a="idle",n(e(...i));break;case"cancelled":clearTimeout(t),a="idle",n(null);break;default:t&&clearTimeout(t),a="pending",t=setTimeout(()=>{a="idle",n(e(...i))},s)}});return i.flush=async function(...e){return a="flushed",await i(...e)},i.invoke=async function(...e){return a="invoked",await i(...e)},i.cancel=async function(...e){return a="cancelled",await i(...e)},i.getStatus=function(){return a},i},i=(e,s)=>{let t;return async(...a)=>await new Promise(i=>{t||(t=setTimeout(()=>{clearTimeout(t),t=void 0,i(e(...a))},s))})};function n(e){return new Promise(s=>setTimeout(s,e))}},44722:(e,s,t)=>{t.r(s),t.d(s,{ArcgisMapConfigSmartMappingPanelsRasterClassBreaks:()=>v});var a=t(73679),i=t(4395),n=t(5294),l=t(56451),r=t(41631),o=t(77462),d=t(1225),c=(t(54312),t(44345),t(55448),t(52797),t(34031),t(63438),t(5933),t(75518)),u=(t(89704),t(18423),t(96086),t(91813),t(21255),t(13078),t(21303),t(12627),t(44263)),h=(t(75698),t(30161),t(10628),t(59640),t(64451),t(6176),t(81734),t(65595)),m=(t(23054),t(49403),t(5077),t(66617),t(10454),t(29614),t(94916),t(52554),t(2156),t(4038),t(49851),t(75054),t(15223),t(70169),t(47207),t(70852),t(48103),t(39423),t(85681),t(18444),t(42411),t(9767),t(38218),t(91914),t(31521),t(86605),t(68196),t(440),t(49661)),p=(t(6238),t(7299),t(28927),t(4265)),g=t(85643),f=t(73801);const b=i.AH`:host{width:100%;display:none}:host([selected]){display:flex}.flow-item{height:100%}.class-breaks-block{overflow-x:hidden;overflow-wrap:anywhere}.hidden{display:none}.symbol{margin-left:2px;margin-right:2px}.label:focus,.symbol:focus{outline:2px solid var(--calcite-color-brand)}.label,.symbol-container{padding-top:5px;padding-bottom:5px}.selected{outline:1px solid var(--calcite-color-brand)}.footer-buttons{width:100%;display:flex;flex-direction:column;gap:var(--calcite-spacing-sm)}`;class v extends f.WF{constructor(){super(...arguments),this.flowItemNode=(0,g._)(),this.listNode=(0,g._)(),this.manageStyleButtonNode=(0,g._)(),this.registerStyleButtonNode=(0,g._)(),this.definedIntervalNode=(0,g._)(),this.symbolButtonNode=(0,g._)(),this.sliderNode=(0,g._)(),this.symbolNodes=[],this.labelNodes=[],this.inputNodes=[],this.disconnected=!1,this.smartMappingState=(0,h.u)(),this.menuOpen=!1,this.showBackButton=!1,this.selected=!1,this.arcgisSmartMappingPanelsRasterClassBreaksBackClick=(0,f.lh)(),this.arcgisSmartMappingPanelsRasterClassBreaksClose=(0,f.lh)(),this.arcgisSmartMappingPanelsRasterClassBreaksError=(0,f.lh)()}static{this.properties={menuOpen:5,showBackButton:5,selected:7,beforeBack:0}}static{this.styles=b}async setFocus(){await(this.flowItemNode.value?.setFocus())}load(){const e=(0,d.T)(this.smartMappingState);this.originalRendererObj=n.clone((0,d.T)(this.smartMappingState)),this.defaultColorRamp=e.classBreakInfos.map(e=>e.symbol.color)}async loaded(){requestAnimationFrame(async()=>await(this.flowItemNode.value?.setFocus()))}updated(){this.updateNodeHandles(this.listNode.value)}disconnectedCallback(){super.disconnectedCallback(),this.popoverNode?.remove(),this.disconnected=!0,clearTimeout(this.definedIntervalChangeHandle),clearTimeout(this.classesChangeHandle)}updateNodeHandles(e){const{smartMappingState:s}=this,t=(0,d.T)(s);e&&queueMicrotask(()=>{e.querySelectorAll(".symbol").forEach(e=>{const s=Number.parseInt(e.getAttribute("data-value"));this.symbolNodes[s]=e}),e.querySelectorAll(".input").forEach(e=>{const s=Number.parseInt(e.getAttribute("data-value"));this.inputNodes[s]=e}),e.querySelectorAll(".label").forEach(e=>{if(e){const s=Number.parseInt(e.getAttribute("data-value"));this.labelNodes[s]=e}}),e.querySelectorAll(".inner-div").forEach(e=>{const s=Number.parseInt(e.getAttribute("data-value")),a=t.classBreakInfos[s].symbol.clone();-1===s&&a.outline&&(a.outline.width=0),(0,d.ad)(a)&&(a.outline=new o.default({color:"#bdc3c7",width:.75})),a&&r.renderPreviewHTML(a,{size:(0,d.ac)(a),ignoreWhiteSymbols:!0,symbolConfig:{isSquareFill:!0}}).then(s=>e?.replaceChildren(s))})})}methodButtonRefHandler(e){e&&(this.methodButtonNode=e)}classesInputRefHandler(e){e&&(this.classesNode=e)}symbolClickHandler(e){this.popoverNode?(this.symbolNodes[this.selectedPopoverIdx].classList.remove("selected"),this.selectedPopoverIdx===e?((0,d.f)(),this.popoverNode=void 0,this.selectedPopoverIdx=void 0):(this.selectedPopoverIdx=e,this.handleValueSymbolClick(e))):(this.selectedPopoverIdx=e,this.handleValueSymbolClick(e))}handleDone(){this.arcgisSmartMappingPanelsRasterClassBreaksClose.emit("save")}handleCancel(){const{originalRendererObj:e,smartMappingState:s}=this;(0,d.ag)(s,e),this.arcgisSmartMappingPanelsRasterClassBreaksClose.emit("cancel")}handleFieldChange(e){const{smartMappingState:s}=this,t=(0,d.T)(s);(0,c.r)((0,m.c)(s,{field:e}),this.flowItemNode.value).then(e=>this.updateRasterClassBreaksRenderer(e.renderer),e=>{this.fieldNode.value=t.field,this.arcgisSmartMappingPanelsRasterClassBreaksError.emit(e)})}handleDefinedIntervalChange(){const{smartMappingState:e}=this,s=(0,d.T)(e),t=s.classBreakInfos[0].maxValue-s.classBreakInfos[0].minValue;let a=Number.parseFloat(this.definedIntervalNode.value.value);a!==t&&(Number.isNaN(a)||a<this.definedIntervalNode.value.min?a=this.definedIntervalNode.value.min:a>this.definedIntervalNode.value.max&&(a=this.definedIntervalNode.value.max),a=Number.parseFloat(a.toFixed(2)),this.definedIntervalNode.value.value=`${a}`,(0,c.r)((0,m.c)(e,{definedInterval:a}),this.flowItemNode.value).then(e=>this.updateRasterClassBreaksRenderer(e.renderer),e=>{this.definedIntervalNode.value.value=`${t}`,this.arcgisSmartMappingPanelsRasterClassBreaksError.emit(e)}))}handleClassesChange(){(0,d.f)();const{smartMappingState:e}=this,s=(0,d.T)(e),t=s.classBreakInfos.length,{authoringInfo:a}=s||{};a.numClasses=this.classesNode.value?Number.parseInt(this.classesNode.value,10):0;const i=a.classificationMethod;"manual"===i&&(a.classificationMethod="equal-interval");const n=Math.min(Math.max(Number.parseInt(this.classesNode.value),1),10)||5;`${n}`!==this.classesNode.value&&(this.classesNode.value=`${n}`),(0,c.r)((0,m.c)(e,{numClasses:n}),this.flowItemNode.value).then(e=>{"manual"===i&&(e.renderer.authoringInfo.classificationMethod="manual"),this.updateRasterClassBreaksRenderer(e.renderer)},e=>{this.classesNode.value=`${t}`,this.arcgisSmartMappingPanelsRasterClassBreaksError.emit(e)})}handleValueSymbolClick(e){(0,d.f)();const{smartMappingState:s}=this,{_messages:t}=s,a=(0,f.dN)(i.qy`<arcgis-map-config-smart-mapping-symbol-styler-popover .referenceElement=${this.flowItemNode.value} .heading=${t.panels.classBreaks.colorScheme} .smartMappingState=${s} @arcgisSmartMappingSymbolStylerPopoverClose=${()=>{a.remove(),this.popoverNode=void 0,setTimeout(()=>{this.symbolNodes[e].focus(),this.symbolNodes[e].classList.remove("selected")},300)}} @arcgisSmartMappingSymbolStylerPopoverDisconnected=${()=>{a.remove(),this.popoverNode=void 0,setTimeout(()=>{this.symbolNodes[e].classList.remove("selected")},300)}}></arcgis-map-config-smart-mapping-symbol-styler-popover>`);document.body.appendChild(a),this.smartMappingState.classedSymbolSelectedIdx=e,(0,u.a)(s,{symbolStylerPopoverNode:a,onChange:()=>{(0,d.ag)(s),this.requestUpdate(),this.sliderNode.value.manager.component.requestUpdate()}}),this.popoverNode=a,this.symbolNodes[e].classList.add("selected")}handleValueTextChange(e,s){const{smartMappingState:t}=this,a=(0,d.T)(t),i=s.currentTarget;if(a.classBreakInfos[e].label=i.value,""===i.value){const s=a.classBreakInfos[e];s.label=`${s.minValue.toLocaleString()} - ${s.maxValue.toLocaleString()}`,this.inputNodes[e].value=this.labelNodes[e].textContent}(0,d.ag)(t),this.requestUpdate()}handleInversionStatus(e){if(JSON.stringify(this.defaultColorRamp[0])!==JSON.stringify(e.classBreakInfos[0].symbol.color)){let s=e.classBreakInfos.map(e=>(0,d.i)(e.symbol)||new l.default({r:64,g:64,b:64,a:1}));s=s.reverse(),e.classBreakInfos.forEach((e,t)=>{(0,d.i)(e.symbol)&&(0,d.y)(e.symbol,s[t])})}else this.defaultColorRamp=e.classBreakInfos.map(e=>e.symbol.color)}updateRasterClassBreaksRenderer(e){const{smartMappingState:s}=this;this.handleInversionStatus(e),(0,d.ag)(s,e),this.requestUpdate(),this.sliderNode.value.manager.component.requestUpdate()}render(){const{hideLayerTitle:e,layer:s,_messages:t}=this.smartMappingState,a=s.title;return this.el.classList.add("calcite-match-height"),i.qy`<calcite-flow-item .heading=${t.panels.classBreaks.styleOptions} .description=${e?void 0:a} class="flow-item" .closable=${(0,d.aa)(this.el)} .showBackButton=${this.showBackButton} .selected=${this.selected} @calciteFlowItemClose=${this.handleDone} @calciteFlowItemBack=${()=>this.arcgisSmartMappingPanelsRasterClassBreaksBackClick.emit()} ${(0,g.K)(this.flowItemNode)}>${this.renderVisualization()}${this.renderFooterButtons()}</calcite-flow-item>`}renderVisualization(){const{smartMappingState:e}=this,{_messages:s}=e,t=(0,d.ah)(e,s.panels.classBreaks.classBreaks);return i.qy`<calcite-block class="class-breaks-block" .heading=${t} expanded>${this.renderManageStyleButton()}${this.renderFieldSelector()}${this.renderMethod()}${this.renderClasses()}${this.renderDefinedInterval()}${this.renderColorScheme()}${this.renderColorSlider()}${this.renderValues()}</calcite-block>`}renderManageStyleButton(){return i.qy`<arcgis-map-config-smart-mapping-raster-preset-renderer-button mode=edit .originalRasterProps=${{originalRendererObj:this.originalRendererObj}} @arcgisDone=${e=>{"delete"!==e.detail?this.requestUpdate():this.arcgisSmartMappingPanelsRasterClassBreaksBackClick.emit("delete")}} ${(0,g.K)(this.manageStyleButtonNode)}></arcgis-map-config-smart-mapping-raster-preset-renderer-button>`}renderFieldSelector(){const{smartMappingState:e}=this,{_messages:s}=e,t=(0,d.T)(e).field||s.panels.classBreaks.value,a=(0,m.g)(e),n=a.map(e=>({label:e.alias,layerField:e,simpleFieldType:d.J.STRING})),l=a.find(e=>e.name===t);return i.qy`<arcgis-map-config-smart-mapping-attribute-input .label=${s.panels.classBreaks.field} .fieldList=${n} .selectedField=${{field:l?.name??s.panels.classBreaks.value,simpleFieldType:d.J.STRING}} mode=simple .popoverReferenceElement=${this.flowItemNode.value} @arcgisSmartMappingAttributeInputChange=${e=>{if(e.detail){const s=e.detail.field;this.handleFieldChange(s)}}}></arcgis-map-config-smart-mapping-attribute-input>`}renderMethod(){const{smartMappingState:e}=this;return i.qy`<arcgis-map-config-smart-mapping-method-button show-defined-interval @arcgisSmartMappingMethodButtonBeforeOpen=${()=>(0,d.f)()} @arcgisSmartMappingMethodButtonChange=${s=>{const t=(0,d.T)(e);if("manual"===s.detail){t.authoringInfo.classificationMethod="manual",(0,d.ag)(e),this.requestUpdate(),setTimeout(()=>{this.methodButtonNode.setFocus()},300)}else{let a,i=t?.authoringInfo?.numClasses||t.classBreakInfos?.length;if("defined-interval"===s.detail){const e=t.classBreakInfos;a=(e[e.length-1].maxValue-e[0].minValue)/5,i=Math.ceil((t.classBreakInfos[i-1].maxValue-t.classBreakInfos[0].minValue)/a)}(0,c.r)((0,m.c)(e,{classificationMethod:s.detail,numClasses:i,definedInterval:a}),this.flowItemNode.value).then(e=>{this.updateRasterClassBreaksRenderer(e.renderer),this.requestUpdate(),setTimeout(()=>{this.methodButtonNode.setFocus()},300)},e=>{this.methodButtonNode?.manager.component.requestUpdate(),this.arcgisSmartMappingPanelsRasterClassBreaksError.emit(e)})}}} ${(0,g.K)(this.methodButtonRefHandler)}></arcgis-map-config-smart-mapping-method-button>`}renderClasses(){const{smartMappingState:e}=this,{_messages:s}=e,t=(0,d.T)(e),a=t.classBreakInfos.length,n=t.authoringInfo.classificationMethod;return i.qy`<calcite-label>${s.panels.classBreaks.classifyClasses}<calcite-input-number .value=${`${a}`} .disabled=${"defined-interval"===n} inputmode=decimal min=1 max=10 step=1 scale=s @calciteInputNumberInput=${(0,p.d)(()=>{if(this.disconnected)return;clearTimeout(this.classesChangeHandle);const e=Number.parseInt(this.classesNode.value);e!==a&&(!e||e<this.classesNode.min||e>this.classesNode.max?this.classesChangeHandle=setTimeout(()=>this.handleClassesChange(),3e3):this.handleClassesChange())},300)} ${(0,g.K)(this.classesInputRefHandler)}></calcite-input-number></calcite-label>`}renderDefinedInterval(){const{smartMappingState:e}=this,{_messages:s}=e,t=(0,d.T)(e);if("defined-interval"!==t.authoringInfo.classificationMethod)return"";const a=t.classBreakInfos[0].maxValue-t.classBreakInfos[0].minValue,n=Math.floor((t.classBreakInfos[t.classBreakInfos.length-1].maxValue-t.classBreakInfos[0].minValue)/9.1),l=t.classBreakInfos[t.classBreakInfos.length-1].maxValue-t.classBreakInfos[0].minValue;return i.qy`<calcite-label>${s.panels.classBreaks.definedInterval}<calcite-input-number .value=${""+Math.round(100*a)/100} inputmode=decimal .min=${n} .max=${l} step=0.1 scale=s @calciteInputNumberInput=${e=>{clearTimeout(this.definedIntervalChangeHandle);const s=e.target,t=Number.parseFloat(s.value);!s.value||t<s.min||t>s.max?this.definedIntervalChangeHandle=setTimeout(()=>this.handleDefinedIntervalChange(),3e3):this.handleDefinedIntervalChange()}} ${(0,g.K)(this.definedIntervalNode)}></calcite-input-number></calcite-label>`}renderColorScheme(){const{smartMappingState:e}=this,{_messages:s}=e,t=(0,d.T)(e).classBreakInfos.map(e=>(0,d.i)(e.symbol));return i.qy`<arcgis-map-config-smart-mapping-symbol-button .label=${s.panels.classBreaks.colorScheme} type=raster-class-breaks ramp-type=discrete .colors=${t} @arcgisSmartMappingSymbolButtonSymbolChange=${s=>{const t=s.target,a=(0,d.T)(e);this.defaultColorRamp=a.classBreakInfos.map(e=>e.symbol.color),(0,d.ag)(e),this.requestUpdate(),this.sliderNode.value.manager.component.requestUpdate(),t.manager.component.requestUpdate()}} ${(0,g.K)(this.symbolButtonNode)}></arcgis-map-config-smart-mapping-symbol-button>`}renderColorSlider(){const{smartMappingState:e}=this;return i.qy`<arcgis-map-config-smart-mapping-class-breaks-color-slider @arcgisSmartMappingClassBreaksColorSliderChange=${s=>{const t=(0,d.T)(e),a=s.detail;a?.updateValues&&(t.authoringInfo.classificationMethod="manual"),a?.invertColors&&this.symbolButtonNode.value.manager.component.requestUpdate(),this.requestUpdate(),this.sliderNode.value.manager.component.requestUpdate(),this.defaultColorRamp=t.classBreakInfos.map(e=>e.symbol.color)}} ${(0,g.K)(this.sliderNode)}></arcgis-map-config-smart-mapping-class-breaks-color-slider>`}renderValues(){const{smartMappingState:e}=this,{_messages:s}=e,t=(0,d.T)(e);return i.qy`<calcite-list .label=${s.panels.classBreaks.classBreaks} ${(0,g.K)(this.listNode)}>${t.classBreakInfos.map((e,s)=>this.renderValue(e,s)).reverse()}</calcite-list>`}renderValue(e,s){return i.qy`<calcite-list-item><div class="symbol-container" slot=actions-start>${this.renderSymbolNode(e,s)}</div>${this.renderTextNode(e,s)}</calcite-list-item>`}renderSymbolNode(e,s){const{smartMappingState:t}=this,{_messages:a}=t,n=(0,d.T)(t).classBreakInfos[s].symbol.clone(),l={"symbol-is-white":(0,d.ad)(n),symbol:!0};return i.qy`<div class=${(0,f.CP)(l)} tabindex=0 .ariaLabel=${a.panels.classBreaks.accessibility.editColorFor.replace("${value}",e.label)} aria-haspopup=true data-value=${s??f.s6} @click=${()=>this.symbolClickHandler(s)} @keydown=${e=>{e.stopPropagation(),(" "===e.key||"Enter"===e.key)&&this.symbolClickHandler(s)}}><div class="inner-div" data-value=${s??f.s6}></div></div>`}renderTextNode(e,s){const{_messages:t}=this.smartMappingState;return i.qy`<div class="label" slot=content tabindex=0 data-value=${s??f.s6} .ariaLabel=${t.panels.classBreaks.accessibility.editLabelFor.replace("${value}",e.label)} @click=${()=>{this.inputNodes[s].classList.remove("hidden"),this.inputNodes[s].setFocus(),this.labelNodes[s].classList.add("hidden")}} @keydown=${e=>{e.stopPropagation(),(" "===e.key||"Enter"===e.key)&&(this.inputNodes[s].classList.remove("hidden"),this.inputNodes[s].setFocus(),this.labelNodes[s].classList.add("hidden"))}}>${e.label}</div><calcite-input slot=content class="input hidden" scale=s data-value=${s??f.s6} .value=${e.label??void 0} @calciteInputChange=${e=>{this.inputNodes[s].classList.add("hidden"),this.labelNodes[s].classList.remove("hidden"),this.handleValueTextChange(s,e),this.labelNodes[s].focus()}} @focusout=${e=>{this.inputNodes[s].classList.add("hidden"),this.labelNodes[s].classList.remove("hidden"),this.handleValueTextChange(s,e)}} @keydown=${t=>{if(t.stopPropagation(),"Escape"===t.key){this.inputNodes[s].classList.add("hidden");const a=t.currentTarget;a.value=e.label||"",a.disabled=!0,this.handleValueTextChange(s,t),this.labelNodes[s].classList.remove("hidden"),a.disabled=!1,setTimeout(()=>this.labelNodes[s].focus(),300)}}}></calcite-input>`}renderFooterButtons(){return i.qy`<div class="footer-buttons" slot=footer>${this.renderDoneButton()}${this.renderRegisterStyleButton()}${this.renderCancelButton()}</div>`}renderRegisterStyleButton(){return i.qy`<arcgis-map-config-smart-mapping-raster-preset-renderer-button mode=register @arcgisDone=${e=>{const{smartMappingState:s}=this;if(this.requestUpdate(),"register"===e.detail){const e=(0,d.T)(s);this.originalRendererObj=n.clone(e)}this.manageStyleButtonNode.value&&this.manageStyleButtonNode.value.manager.component.requestUpdate(),this.registerStyleButtonNode.value.manager.component.requestUpdate()}} ${(0,g.K)(this.registerStyleButtonNode)}></arcgis-map-config-smart-mapping-raster-preset-renderer-button>`}renderDoneButton(){const{_messages:e}=this.smartMappingState;return i.qy`<calcite-button .label=${e.done} @click=${this.handleDone} appearance=solid width=full>${e.done}</calcite-button>`}renderCancelButton(){const{_messages:e}=this.smartMappingState;return i.qy`<calcite-button .label=${e.cancel} @click=${this.handleCancel} appearance=outline-fill width=full>${e.cancel}</calcite-button>`}}(0,a.c)("arcgis-map-config-smart-mapping-panels-raster-class-breaks",v)},49661:(e,s,t)=>{t.d(s,{a:()=>o,c:()=>d,g:()=>c});var a=t(56451),i=t(46547),n=t(28927),l=(t(52797),t(54312),t(44345),t(55448),t(34031),t(63438),t(5933),t(83368),t(89704),t(5294),t(18423),t(96086),t(91813),t(21255),t(13078),t(21303),t(12627),t(1225)),r=t(44263);t(75698),t(30161),t(10628),t(59640),t(64451),t(6176),t(81734),t(83552),t(23054),t(77462),t(49403),t(10281),t(83930),t(5077),t(66617),t(10454),t(29614),t(94916),t(52554),t(2156),t(4038),t(49851),t(75054),t(15223),t(70169),t(47207),t(70852),t(48103),t(39423),t(85681),t(18444),t(42411),t(9767),t(38218),t(91914),t(31521),t(86605),t(68196),t(440),t(6238),t(7299);async function o(e){const{layer:s}=e,t=s,n="imagery"===t.type?t.rasterFunction??void 0:void 0,l=(0,r.c)([[245,245,0],[255,0,0]].map(e=>new a.default(e)));return await i.createRenderer({layer:t,rasterFunction:n,colorRamp:l}).then(e=>(e.renderer.classBreakInfos.forEach(e=>e.symbol.outline.width=0),e))}async function d(e,s){const{layer:t}=e,a=t,n=(0,l.T)(e),r="imagery"===a.type?a.rasterFunction:void 0;return await i.createRenderer({layer:a,rasterFunction:r,field:s.field||n.field,classificationMethod:s.classificationMethod||n.authoringInfo.classificationMethod,numClasses:s.numClasses||n.classBreakInfos.length,colorRamp:n.authoringInfo.colorRamp,definedInterval:s.definedInterval}).then(e=>(e.renderer.classBreakInfos.forEach(e=>e.symbol.outline.width=0),e))}function c(e){const{rasterInfo:s,_messages:t}=e;let a;const i=s?.attributeTable?.fields;return a=i?i.filter(e=>"oid"!==e.type&&"string"!==e.type):[new n.default({name:"value",alias:t.panels.classBreaks.value})],a}},75518:(e,s,t)=>{let a,i;function n(e){e.loading=!1}async function l(e,s){return function(e){e.loading=!0,i=!1,a&&clearTimeout(a),a=setTimeout(()=>{n(e),i=!0},6e4)}(s),await e.then(e=>{if(n(s),i)throw new Error("timeout");return e}).catch(e=>{throw n(s),e})}t.d(s,{r:()=>l})}}]);