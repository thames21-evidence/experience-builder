/*! For license information please see arcgis_analysis_node_modules_arcgis_map-config-components_dist_components_-d7e016.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["extensions_widgets_arcgis_analysis_node_modules_arcgis_map-config-components_dist_components_-d7e016"],{21643:(e,t,i)=>{i.r(t),i.d(t,{ArcgisMapConfigLayerViewJoinTargetSelection:()=>f});var s=i(73679),r=i(4395),o=i(66228),a=(i(13661),i(21255),i(2801)),n=(i(2924),i(33752),i(44345),i(588),i(51072),i(76456)),l=i(83552),c=i(85643),d=i(73801);const p="flow",u="footer",g="info",h="text",y=r.AH`.flow,.panel{height:100%}.footer{width:100%}.info{pointer-events:none;padding:1rem .75rem}.text{font-size:var(--calcite-font-size--2);line-height:1.375;color:var(--calcite-color-text-3);transition-duration:.15s;transition-timing-function:cubic-bezier(.4,0,.2,1);pointer-events:none}.notice{margin:8px}`;class f extends d.WF{constructor(){super(...arguments),this._direction=(0,l.jH)(),this.listNode=(0,c._)(),this.arcgisStatusChange=(0,d.lh)()}static{this.properties={props:0,status:9}}static{this.styles=y}load(){const{props:e}=this,{targetLayer:t}=e;"group"!==t.type&&(e.targetLayerId=t.layerId)}loaded(){requestAnimationFrame(()=>this.listNode.value?.setFocus())}goNext(){this.arcgisStatusChange.emit({status:n.j.ADD_SELECTION})}onSelectionChange(){const{props:e}=this,{targetLayer:t}=e;let i=!1;this.listNode.value.querySelectorAll("calcite-list-item").forEach(s=>{s.selected&&(e.targetLayerId=s.value,this.requestUpdate(),i=!0),"group"===t.type?(0,a.a)(t).find(e=>e.layerId===s.value).visible=s.selected:t.visible=s.selected}),i||(e.targetLayerId=void 0,this.requestUpdate(),"group"===t.type?(0,a.a)(t).map(e=>e.visible=!0):t.visible=!0),e.attributeRelationships=void 0,e.joinOperation=void 0}render(){const{props:e}=this,{targetItem:t,_messages:i}=e;return this.el.classList.add("calcite-match-height"),r.qy`<calcite-flow class=${(0,d.CP)(p)}><calcite-flow-item .heading=${t.title??""} .description=${i.join.targetLayer} class="panel">${this.renderFooterButtons()}${this.renderInfo()}${this.renderSublayers()}</calcite-flow-item></calcite-flow>`}renderFooterButtons(){const{props:e}=this,{targetLayerId:t,_messages:i}=e,s="rtl"===this._direction,a=!(0,o.i)(t);return r.qy`<div slot=footer class=${(0,d.CP)(u)}><calcite-button .disabled=${a} @click=${a?void 0:this.goNext} appearance=solid width=full .iconEnd=${s?"arrow-left":"arrow-right"} .label=${i.general.next}>${i.general.next}</calcite-button></div>`}renderInfo(){const{props:e}=this,{_messages:t}=e;return r.qy`<div class=${(0,d.CP)(g)}><div class=${(0,d.CP)(h)}>${t.join.selectTargetLayerPanelDescription}</div></div>`}renderSublayers(){const{props:e}=this,{targetLayer:t,_messages:i}=e,s=[];return"group"===t.type?((0,a.c)(t)?.forEach(e=>{s.unshift(this.renderSublayer(e))}),(0,a.g)(t)?.forEach(e=>{s.unshift(this.renderSublayer(e))})):s.push(this.renderSublayer(t)),r.qy`<calcite-list .label=${i.general.layers} selection-mode=single @calciteListChange=${this.onSelectionChange} ${(0,c.K)(this.listNode)}>${s}</calcite-list>`}renderSublayer(e){const{props:t}=this,{targetLayerId:i}=t;return r.qy`<calcite-list-item .label=${e.title??""} .value=${e.layerId} .description=${(0,n.g)(e,t)} .selected=${i===e.layerId}></calcite-list-item>`}}(0,s.c)("arcgis-map-config-layer-view-join-target-selection",f)},76456:(e,t,i)=>{i.d(t,{a:()=>o,b:()=>r,g:()=>a,h:()=>n,j:()=>s});var s=(e=>(e[e.ERROR=0]="ERROR",e[e.LOADING=1]="LOADING",e[e.TARGET_SELECTION=2]="TARGET_SELECTION",e[e.ADD_SELECTION=3]="ADD_SELECTION",e[e.BROWSE_LAYER=4]="BROWSE_LAYER",e[e.CONFIG=5]="CONFIG",e[e.CREATE=6]="CREATE",e))(s||{});function r(e,t){const{fields:i,popupTemplate:s}=e,r=s?.fieldInfos,o=i.find(e=>t===e.name);return o&&r?.find(e=>e.fieldName===o.name)?.label||o?.alias||t}function o(e,t){const{fields:i}=e;return i.find(e=>t===e.name)?.type||""}function a(e,t){const{_messages:i}=t;return e.isTable?i.general.table:"point"===e.geometryType||"multipoint"===e.geometryType?i.join.pointLayer:"polyline"===e.geometryType?i.join.polylineLayer:"polygon"===e.geometryType?i.join.polygonLayer:""}function n(e){return e.sourceJSON.ownershipBasedAccessControlForFeatures&&(!1===e.sourceJSON.ownershipBasedAccessControlForFeatures?.allowAnonymousToQuery||!1===e.sourceJSON.ownershipBasedAccessControlForFeatures?.allowOthersToQuery)}}}]);