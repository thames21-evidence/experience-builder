/*! For license information please see arcgis_analysis_node_modules_arcgis_map-config-components_dist_components_-34f7a8.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["extensions_widgets_arcgis_analysis_node_modules_arcgis_map-config-components_dist_components_-34f7a8"],{28252:(e,t,s)=>{s.d(t,{u:()=>l});var r=s(85282),i=s(34670),o=s(42466);const a=(e,t,s)=>{const r=new Map;for(let i=t;i<=s;i++)r.set(e[i],i);return r},l=(0,i.u$)(class extends i.WL{constructor(e){if(super(e),e.type!==i.OA.CHILD)throw Error("repeat() can only be used in text expressions")}dt(e,t,s){let r;void 0===s?s=t:void 0!==t&&(r=t);const i=[],o=[];let a=0;for(const t of e)i[a]=r?r(t,a):a,o[a]=s(t,a),a++;return{values:o,keys:i}}render(e,t,s){return this.dt(e,t,s).values}update(e,[t,s,i]){const l=(0,o.cN)(e),{values:c,keys:n}=this.dt(t,s,i);if(!Array.isArray(l))return this.ut=n,c;const g=this.ut??=[],m=[];let d,w,u=0,h=l.length-1,p=0,b=c.length-1;for(;u<=h&&p<=b;)if(null===l[u])u++;else if(null===l[h])h--;else if(g[u]===n[p])m[p]=(0,o.lx)(l[u],c[p]),u++,p++;else if(g[h]===n[b])m[b]=(0,o.lx)(l[h],c[b]),h--,b--;else if(g[u]===n[b])m[b]=(0,o.lx)(l[u],c[b]),(0,o.Dx)(e,m[b+1],l[u]),u++,b--;else if(g[h]===n[p])m[p]=(0,o.lx)(l[h],c[p]),(0,o.Dx)(e,l[u],l[h]),h--,p++;else if(void 0===d&&(d=a(n,p,b),w=a(g,u,h)),d.has(g[u]))if(d.has(g[h])){const t=w.get(n[p]),s=void 0!==t?l[t]:null;if(null===s){const t=(0,o.Dx)(e,l[u]);(0,o.lx)(t,c[p]),m[p]=t}else m[p]=(0,o.lx)(s,c[p]),(0,o.Dx)(e,l[u],s),l[t]=null;p++}else(0,o.KO)(l[h]),h--;else(0,o.KO)(l[u]),u++;for(;p<=b;){const t=(0,o.Dx)(e,m[b+1]);(0,o.lx)(t,c[p]),m[p++]=t}for(;u<=h;){const e=l[u++];null!==e&&(0,o.KO)(e)}return this.ut=n,(0,o.mY)(e,m),r.c0}})},38629:(e,t,s)=>{s.r(t),s.d(t,{ArcgisMapConfigIpsServiceBrowser:()=>g});var r=s(73679),i=s(4395),o=s(28252),a=s(65722),l=s(73801),c=s(85643);const n=i.AH`.ips-service-browser-dialog{--calcite-dialog-size-y: min(900px, calc(80vh + 100px) );--calcite-dialog-size-x: 1080px;--calcite-dialog-content-space: 0px}`;class g extends l.WF{constructor(){super(...arguments),this.itemBrowserElement=(0,c._)(),this.itemBrowserPagination={},this.items=[],this.selectedCount=0,this.arcgisClose=(0,l.lh)(),this.arcgisUpdate=(0,l.lh)()}static{this.properties={items:16,selectedCount:16,portal:0,_messages:0}}static{this.styles=n}bucketSelectRefHandler(e){this.portal.isPortal&&(e.options=["my","favorites","group","org","living atlas"])}render(){return i.qy`<calcite-dialog class="ips-service-browser-dialog" modal outside-close-disabled escape-disabled width=l open .heading=${this._messages.browseServiceHeading} heading-level=2 @calciteDialogClose=${()=>this.arcgisClose.emit()}>${this.renderItemBrowser()}${this.renderBrowseServicesFooter()}</calcite-dialog>`}renderItemBrowser(){const e=`${(0,a.a)(this.portal)}/home/`;return i.qy`<arcgis-item-browser class="item-browser" .view=${"table"} .selection=${"single"} .api=${4} .portal=${this.portal} .user=${this.portal.user??void 0} .config=${{baseUrl:e}} .filter=${'(type: "Feature Service" AND typekeywords: "IndoorPositioningDataService") -typekeywords: "Table"'} .showFieldStatistics=${!0} @arcgisItemBrowserUpdate=${e=>{const{results:t,num:s,start:r,total:i}=e.detail;this.items=t,this.itemBrowserPagination={start:r,num:s,total:i}}} @arcgisItemBrowserSelect=${()=>this.selectedCount=this.itemBrowserElement?.value.selectedItems?.length} ${(0,c.K)(this.itemBrowserElement)}><arcgis-item-browser-top-bar slot=top-bar><arcgis-item-browser-bucket-select slot=bucket ${(0,c.K)(this.bucketSelectRefHandler)}></arcgis-item-browser-bucket-select><arcgis-item-browser-search slot=search .term=${""}></arcgis-item-browser-search></arcgis-item-browser-top-bar><arcgis-item-browser-sort .options=${["modified","title","relevance"]} slot=sort></arcgis-item-browser-sort><arcgis-item-browser-filters slot=filters>${this.portal.user&&i.qy`<arcgis-item-browser-filter-folder></arcgis-item-browser-filter-folder>`||""}<arcgis-item-browser-filter-categories></arcgis-item-browser-filter-categories><arcgis-item-browser-filter-location></arcgis-item-browser-filter-location><arcgis-item-browser-filter-date property=modified></arcgis-item-browser-filter-date><arcgis-item-browser-filter-date property=created></arcgis-item-browser-filter-date><arcgis-item-browser-filter-tags></arcgis-item-browser-filter-tags><arcgis-item-browser-filter-sharing></arcgis-item-browser-filter-sharing></arcgis-item-browser-filters><arcgis-item-browser-content slot=content>${(0,o.u)(this.items||[],e=>`card-${e.id}`,t=>i.qy`<arcgis-item-browser-card .item=${t} .portal=${this.portal} .baseUrl=${e} .preview=${"action"} .showAccess=${!1} .showBadges=${!1} .showFavorite=${!1} .showSummary=${!1} .showDateUpdated=${!0} .showItemType=${!0} .showOwner=${!0} .showThumbnail=${!1} .showItemTypeHosted=${!0}></arcgis-item-browser-card>`)}</arcgis-item-browser-content><arcgis-item-browser-pagination slot=pagination .total=${this.itemBrowserPagination.total} .start=${this.itemBrowserPagination.start} .num=${this.itemBrowserPagination.num}></arcgis-item-browser-pagination></arcgis-item-browser>`}renderBrowseServicesFooter(){return i.qy`<calcite-button slot=footer-end appearance=outline-fill alignment=center @click=${()=>this.arcgisClose.emit()}>${this._messages.cancel}</calcite-button><calcite-button slot=footer-end alignment=center appearance=solid .disabled=${!this.selectedCount} @click=${()=>{this.arcgisUpdate.emit(this.itemBrowserElement.value.selectedItems),this.arcgisClose.emit()}}>${this._messages.add}</calcite-button>`}}(0,r.c)("arcgis-map-config-ips-service-browser",g)},65722:(e,t,s)=>{s.d(t,{a:()=>o,g:()=>a,o:()=>l});var r=s(44345);const i=e=>e&&!e.endsWith("/")?`${e}/`:e;function o(e){const{customBaseUrl:t,portalHostname:s,urlKey:r}=e,{protocol:i}=window.location;return`${i}//${r?`${r}.${t}`:s}`}function a(e){return i(e.restUrl)}async function l(e){if(!e?.user)return!1;const t=`${a(e)}portals/self/signinSettings`,s=await(0,r.default)(t,{query:{f:"json",async:!1},responseType:"json"});return!(s?.data&&!s.data.blockBetaApps)}}}]);