/*! For license information please see arcgis_analysis_node_modules_arcgis_map-config-components_dist_components_-b9c2ea.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["extensions_widgets_arcgis_analysis_node_modules_arcgis_map-config-components_dist_components_-b9c2ea"],{39176:(e,t,o)=>{o.d(t,{a:()=>m,b:()=>d,c:()=>u,d:()=>c,g:()=>a,h:()=>p,i:()=>n});var i=o(83930),s=o(23054),l=o(77462),r=o(56451);function n(e){return["simple-fill","simple-marker","simple-line","picture-marker","cim"].includes(e.type)}function c(e){return"picture-marker"===e.type||"cim"===e.type&&!function(e){return!!i.getCIMSymbolColor(e)}(e)}function a(){const e=new l.default({style:"solid",color:new r.default([92,92,92,64]),width:1});return new s.default({style:"circle",size:6.75,outline:e,color:new r.default([227,139,79,255])})}function p(e){return"picture-marker"!==e.type&&"cim"!==e.type&&!!e.outline?.color}function d(e){return"cim"===e?.type?r.default.fromJSON(i.getCIMSymbolColor(e).toJSON()):"simple-marker"===e?.type&&["x","cross"].includes(e?.style)?e?.outline?.color:e?.color}function m(e){return"cim"===e.type?i.getCIMSymbolSize(e):e.size?e.size:e.width}function u(e,t){return e.a=t,e}},49301:(e,t,o)=>{o.r(t),o.d(t,{ArcgisMapConfigFeatureReductionSymbolStylerPopover:()=>d});var i=o(73679),s=o(4395),l=o(56451),r=o(83552),n=o(85643),c=o(73801),a=o(39176);o(42097),o(63438),o(18423),o(96086),o(91813),o(21255),o(13078),o(21303),o(12627);const p=s.AH`.popover{--calcite-popover-z-index: 100}.symbol-styler-div{width:328px;height:100%;overflow-y:auto;overflow-x:hidden}`;class d extends c.WF{constructor(){super(...arguments),this._direction=(0,r.jH)(),this.popoverNode=(0,n._)(),this.closeActionNode=(0,n._)(),this.arcgisChange=(0,c.lh)(),this.arcgisClose=(0,c.lh)()}static{this.properties={referenceElement:0,props:0}}static{this.styles=p}async reposition(){this.popoverNode.value?.reposition()}async setFocus(){this.closeActionNode.value?.setFocus()}divRefHandler(e){e&&this.buildSymbolStyler(e)}async buildSymbolStyler(e){const{props:t}=this,{layer:o,portal:i}=t;let r=o.featureReduction.symbol;(0,a.i)(r)||(r=(0,a.g)());const n="picture-marker"!==r.type&&!!r.color,p=(0,a.h)(r),d="cim"===r.type&&"CIMPointSymbol"===r.data.symbol.type,m="rtl"===this._direction;let u;if("simple-marker"===r.type){const e=r;u=e.outline?{color:e.outline.color?e.outline.color:new l.default([0,0,0,.5]),size:e.outline.width}:{color:new l.default([0,0,0,.5]),size:1}}else u="cim"===r.type?void 0:{color:new l.default([255,255,255,.5]),size:1};const y=(0,c.dN)(s.qy`<arcgis-map-config-symbol-styler .popoverProps=${{placement:"bottom-end",offsetDistance:10,offsetSkidding:m?3:-3,refElement:this.closeActionNode.value}} @arcgisEdit=${e=>this.handleSymbolChange(e)}></arcgis-map-config-symbol-styler>`),f=this.referenceElement.getBoundingClientRect();if(f?.bottom){const e=(f?.top??0)+45+53+20+(window.innerHeight-(f?.bottom??0));y.style=`max-height: max(calc(100vh - ${e}px), 200px)`}const h=y.edit(r.clone(),{portal:i,symbolFilter:void 0,sections:{marker:d||["simple-marker","picture-marker"].includes(r.type)?{open:!0,symbolsOpen:!0,sizeOpen:!0,parts:{size:!1},markerType:"all"}:void 0,fill:{type:"color",optional:!0,open:!0,suggestedColorsOpen:!0,transparencyOpen:(0,a.d)(r)},stroke:{type:"color",optional:!0,extraParts:{style:!["simple-marker","picture-marker","cim"].includes(r.type),width:!0}}},fill:{color:(0,a.b)(r)||(0,a.c)(new l.default("#ff8200"),.85)},marker:{size:(0,a.a)(r)},stroke:u,fillEnabled:n,strokeEnabled:p});e.appendChild(y),await h}handleSymbolChange({detail:{symbol:e}}){const{props:t}=this,{layer:o}=t;o.featureReduction.symbol=e,this.arcgisChange.emit()}render(){const{props:e,referenceElement:t}=this,{_messages:o}=e;return this.el.classList.add("js-app-flyout","arcgis-map-config-feature-reduction-popover"),s.qy`<calcite-popover open placement=leading-start offset-distance=0 offset-skidding=45 pointer-disabled .label=${o.symbolStyle} .referenceElement=${t} trigger-disabled class="popover" ${(0,n.K)(this.popoverNode)}><calcite-panel .heading=${o.symbolStyle}><div slot=header-content>${o.symbolStyle}</div><calcite-action slot=header-actions-end scale=s icon=x .text=${o.close} @click=${()=>this.arcgisClose.emit()} ${(0,n.K)(this.closeActionNode)}></calcite-action><div class="symbol-styler-div" ${(0,n.K)(this.divRefHandler)}></div></calcite-panel></calcite-popover>`}}(0,i.c)("arcgis-map-config-feature-reduction-symbol-styler-popover",d)}}]);