"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["extensions_widgets_arcgis_analysis_node_modules_arcgis_arcgis-raster-function-editor_dist_esm-12b2c9"],{25929:(e,t,i)=>{i.r(t),i.d(t,{rfx_cte_detect_change_type_picker:()=>n.R});var n=i(88526);i(92265),i(51477),i(5294),i(16035),i(69843),i(38949),i(32513),i(33752),i(44345),i(13661),i(18423),i(21255),i(35431),i(85740),i(588),i(55448),i(2924),i(11840),i(52373),i(440),i(66744),i(42335),i(45253),i(33797),i(71802),i(36596),i(23795),i(17902),i(56451),i(47453)},47453:(e,t,i)=>{i.d(t,{a:()=>h,b:()=>c,d:()=>u,f:()=>o,i:()=>a,l:()=>p,p:()=>l,s:()=>r});var n=i(69843),s=i(38949);function a(e){return null!=e&&!1===Number.isNaN(e)&&!0===Number.isFinite(e)}function r(e,t){let i;if(null!==e){const n="string"==typeof e?Number.parseFloat(e):e;a(n)?i=n:a(t)&&(i=t)}return void 0===i?"":`${i}`}function l(e){if(!(0,s.i)(e))return Number.parseFloat(e)}function o(e,t=3){if(!(0,s.i)(e))return Number.parseFloat(e.toFixed(t))}function h(e,t){let i="";if(!(0,s.i)(e)&&!Number.isNaN(e)){const s=(0,n.g)().locale;i=Intl.NumberFormat(s,t).format(Number(e))}return i}function c(e){return!((0,s.i)(e)||isNaN(Number(e)))}function g(e,t){if((0,s.i)(e))return e;const i=e.toLowerCase().indexOf("e")+1;return(0,s.i)(i)?t(e):e.replace(/[eE]*$/g,"").substring(0,i).concat(e.slice(i).replace(/[eE]/g,"")).split(/[eE]/).map((e,i)=>t(1===i?e.replace(/\./g,""):e)).join("e").replace(/^e/,"1e")}function u(e){const t=(0,n.g)().locale,i=new Intl.NumberFormat(t).formatToParts(-12345678.9),s=i.find(e=>"group"===e.type).value,a=0===s.trim().length||" "==s?"\xa0":s,r="bs"===t?",":i.find(e=>"decimal"===e.type).value,l=i.find(e=>"minusSign"===e.type).value;return g(e,e=>e.replace(new RegExp(`[${l}]`,"g"),"-").replace(new RegExp(`[${a}]`,"g"),"").replace(new RegExp(`[${r}]`,"g"),"."))}function p(e){const t=(0,n.g)().locale,i=new Intl.NumberFormat(t).formatToParts(-12345678.9),a=i.find(e=>"group"===e.type).value,r=0===a.trim().length||" "==a?"\xa0":a,l={decimal:"bs"===t?",":i.find(e=>"decimal"===e.type).value,minusSign:i.find(e=>"minusSign"===e.type).value,numberFormatter:new Intl.NumberFormat(t,{useGrouping:!1})};return g(e,e=>c(e.trim())?new s.B(e.trim()).format(l).replace(new RegExp(`[${a}]`,"g"),r):e)}},88526:(e,t,i)=>{i.d(t,{R:()=>c});var n=i(92265),s=i(51477),a=i(33797),r=i(38949),l=(i(588),i(71802),i(44345),i(36596),i(85740)),o=(i(23795),i(17902),i(56451),i(47453));i(33752);const h="changeTypeHelpClickHandler",c=class{constructor(e){(0,n.r)(this,e),this.rfxArgumentChange=(0,n.c)(this,"rfxArgumentChange"),this.alteredStateEnum=["0","1","2","3"],this.helpActionClickEventHandlers=new Map,this.store=[],this.handleInputChange=e=>{e.stopPropagation();const t=e.target,i=(0,o.p)(t.value);this.inputArg.value=i,this.value=i,this.rfxArgumentChange.emit({value:i})}}connectedCallback(){this.processWidgetArgs(this.widgetArgs)}async componentWillLoad(){await this.setupInitialState(this.widgetArgs)}componentDidLoad(){this.attachHelpClickEventHandlers()}processWidgetArgs({inputArgs:e,triggerArgs:t}){const i=e.ChangeType;this.inputArg=i,this.inputArg.key="ChangeType",i.input=this.hostElement,this.value=i.value;const n=t.Raster;this.rasterArg=n,n.input?.addEventListener("rfxArgumentChange",this.handleRasterChange.bind(this))}async setupInitialState({rfxArgs:e,rasterFunctions:t,triggerArgs:i}){this.value=this.inputArg.value;const n=t[(0,s.i)(e)],a=n?.rasterFunctionArguments,o=this.inputArg.key;this.value=this.inputArg.value;const h=a?.[o]?.domain;if("list"===h?.type){const e=h.enum;this.store=(0,s.m)(e)}else console.error("Invalid inputArg! Check Schema");this.store?.forEach(e=>{e.key=e.key.toString()}),this.initialStore=(0,s.m)(this.store),(0,r.i)(this.store)&&console.error("Domain list Enum not set! Check Schema");const c=i.Raster,g=c?.input,u=await(g?.getSelectedLayer?.());await(0,l.o)(u)?this.handleIsChangeAnalysisTypeCCDC():this.handleIsChangeAnalysisTypeNotCCDC(),this.rfxArgumentChange.emit({value:this.value})}attachHelpClickEventHandlers(){const e=this.widgetArgs.onHelpActionClick({heading:this.inputArg.displayName,referenceElement:this.widgetContainer,helpTextID:this.widgetArgs.helpTextIDs?.detectchange_changetype});this.helpActionClickEventHandlers.set(h,e)}async handleRasterChange(){const e=this.rasterArg?.input,t=await(e?.getSelectedLayer?.());await(0,l.o)(t)?this.handleIsChangeAnalysisTypeCCDC():this.handleIsChangeAnalysisTypeNotCCDC(),this.rfxArgumentChange.emit({value:this.value})}handleIsChangeAnalysisTypeCCDC(){this.widgetArgs.inputArgs.changeAnalysisType.value="CCDC",this.applyFilterToStore(this.alteredStateEnum)}handleIsChangeAnalysisTypeNotCCDC(){this.widgetArgs.inputArgs.changeAnalysisType.value="",this.resetStore()}applyFilterToStore(e){const t=((e,t)=>e.filter(e=>t.some(t=>e.key===t)))(this.initialStore,e);this.store=t}resetStore(){this.store=this.initialStore}render(){return(0,n.h)("div",{key:"7accb80cc1c633483f17f6f9b0aef496258ec774"},(0,n.h)("calcite-label",{key:"060b617b03b0879eb0e3de221702520dd158cdf7",alignment:"start",scale:r.s.scale??a.U.Scale,layout:"default",ref:e=>{this.widgetContainer=e}},(0,n.h)("rfx-label",{key:"68b9450bc6e043998fb2a1d7b4091955580bd85a",label:this.inputArg.displayName,onRfxLabelHelpActionClick:()=>this.helpActionClickEventHandlers?.get(h)()}),(0,n.h)("rfx-dtex-common-select",{key:"dc2b075198e2181007fb64eb5778673458270045",mode:this.widgetArgs.mode,options:this.store,value:String(this.value),onRfxArgumentChange:this.handleInputChange})))}get hostElement(){return(0,n.a)(this)}}}}]);