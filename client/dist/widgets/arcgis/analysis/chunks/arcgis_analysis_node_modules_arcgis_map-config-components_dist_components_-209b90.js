/*! For license information please see arcgis_analysis_node_modules_arcgis_map-config-components_dist_components_-209b90.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["extensions_widgets_arcgis_analysis_node_modules_arcgis_map-config-components_dist_components_-209b90"],{33647:(e,t,o)=>{o.r(t),o.d(t,{ArcgisMapConfigFeatureReductionTile:()=>d});var i=o(73679),s=o(4395),n=o(83552),c=o(85643),l=o(73801),r=o(20936);const a=s.AH`.tile{background-color:#fff;position:relative;margin:6px;cursor:pointer;box-shadow:0 1px 10px 2px #0000000d,0 0 0 1px #e0e0e0;transition:box-shadow 125ms ease-in-out;&:hover{z-index:5;box-shadow:0 1px 0 2px #0000000d,0 0 0 1px #e0e0e0}&:focus{outline:2px solid var(--calcite-color-brand)}}.tile-selected{box-shadow:0 1px 10px 2px #0000000d,0 0 0 1px var(--calcite-color-brand)}.tile-selected:hover{z-index:5;box-shadow:0 1px 0 2px #0000000d,0 0 0 1px var(--calcite-color-brand)}.tile-check{position:absolute;top:10px;right:10px}.tile-check.rtl{right:auto;left:10px;overflow-x:hidden}.style-link{padding:9px}.style-link-title{display:flex;font-weight:700;padding-bottom:5px}.style-link-options{color:#0079c1;display:flex;flex-direction:row nowrap;svg{fill:#0079c1}}.tile-image{height:100px;width:100%;background-size:cover;display:flex;align-items:center;justify-content:center}.tile-image-selected{height:68px;background-size:auto 100px}.style-sub-text{font-size:80%;padding:0 0 6px}.style-link-info{height:18px;margin-top:-2px;margin-inline-start:5px}`;class d extends l.WF{constructor(){super(...arguments),this._direction=(0,n.jH)(),this.checkboxNode=(0,c._)(),this.arcgisOptionsClick=(0,l.lh)(),this.arcgisSelect=(0,l.lh)()}static{this.properties={props:0,selected:5}}static{this.styles=a}async setFocus(){this.tileNode?.focus()}async closePopovers(){this.removeInfoPopover()}loaded(){this.flowItemNode=(0,r.el)(this.el,"calcite-flow-item")}disconnectedCallback(){super.disconnectedCallback(),this.removeInfoPopover()}divRefHandler(e){e&&(this.tileNode=e)}buttonRefHandler(e){e&&(this.infoIconNode=e)}handleCheckboxChange(){const{selected:e}=this;this.checkboxNode.value.checked?(this.removeInfoPopover(),e?this.arcgisOptionsClick.emit():this.arcgisSelect.emit()):this.checkboxNode.value.checked=!0}handleInfoClick(){const{props:e,flowItemNode:t}=this,{config:o,title:i,moreInfo:n,helpId:c,_messages:r}=e;this.removeOtherInfoPopovers();const a={title:i,moreInfo:n,helpId:c,config:o,flowItemNode:t,_messages:r};this.infoPopoverNode&&document.body.contains(this.infoPopoverNode)?this.removeInfoPopover():(this.infoPopoverNode=(0,l.dN)(s.qy`<arcgis-map-config-feature-reduction-info-popover .props=${a} .referenceElement=${this.infoIconNode} @arcgisClose=${e=>{e.stopPropagation(),this.removeInfoPopover(),setTimeout(()=>this.infoIconNode?.setFocus(),200)}}></arcgis-map-config-feature-reduction-info-popover>`),document.body.appendChild(this.infoPopoverNode),this.infoPopoverNode.open=!0,this.infoPopoverNode.reposition(),setTimeout(()=>this.infoPopoverNode?.setFocus(),100))}removeInfoPopover(){this.infoPopoverNode?.remove(),this.infoPopoverNode=void 0}removeOtherInfoPopovers(){document.querySelectorAll("arcgis-map-config-feature-reduction-info-popover").forEach(e=>{e.referenceElement!==this.infoIconNode&&e.remove()})}render(){const{props:e,selected:t}=this,{title:o,imagePath:i,_messages:n}=e,r={tile:!0,"tile-selected":t},a={"tile-image":!0,"tile-image-selected":t},d={"tile-check":!0,rtl:"rtl"===this._direction};return s.qy`<div class=${(0,l.CP)(r)} role=button tabindex=0 .ariaLabel=${`${o} ${n.tile.options}`} .ariaSelected=${t} @click=${e=>{const{selected:t}=this;"CALCITE-CHECKBOX"!==e?.target?.nodeName&&(e.stopPropagation(),this.removeInfoPopover(),t?this.arcgisOptionsClick.emit():this.arcgisSelect.emit(),e.preventDefault())}} @keyup=${e=>{const{selected:t}=this;(" "===e.key||"Enter"===e.key)&&(e.stopPropagation(),this.removeInfoPopover(),t?this.arcgisOptionsClick.emit():this.arcgisSelect.emit(),e.preventDefault())}} @keydown=${e=>{" "===e.key&&(e.stopPropagation(),e.preventDefault())}} ${(0,c.K)(this.divRefHandler)}><div class=${(0,l.CP)(a)} style=${(0,l.zl)({backgroundImage:`url(${i})`})} aria-hidden=true></div><div class=${(0,l.CP)(d)} aria-label aria-hidden=true><calcite-checkbox name=style-tile-check-name .checked=${t} tabindex=-1 @calciteCheckboxChange=${e=>{e.preventDefault(),this.handleCheckboxChange()}} ${(0,c.K)(this.checkboxNode)}></calcite-checkbox></div>${this.renderTileLink()}</div>`}renderTileLink(){const{props:e,selected:t}=this,{_messages:o}=e;return s.qy`<div class="style-link" .ariaLabel=${e.title}><div class="style-link-title"><div aria-hidden=true>${e.title}</div><calcite-button class="style-link-info" scale=s icon-start=information appearance=transparent kind=neutral @click=${e=>{e.stopPropagation(),this.handleInfoClick()}} .label=${o.tile.moreInfo} @keydown=${e=>{" "===e.key&&(e.stopPropagation(),e.preventDefault())}} ${(0,c.K)(this.buttonRefHandler)}></calcite-button></div>${t&&this.renderStyleOptions()||""}</div>`}renderStyleOptions(){const{props:e}=this,{_messages:t}=e;return s.qy`<calcite-button appearance=outline-fill width=full scale=s .label=${t.tile.options}>${t.tile.options}</calcite-button>`}}(0,i.c)("arcgis-map-config-feature-reduction-tile",d)}}]);