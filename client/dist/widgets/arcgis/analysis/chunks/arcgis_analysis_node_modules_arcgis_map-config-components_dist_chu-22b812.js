/*! For license information please see arcgis_analysis_node_modules_arcgis_map-config-components_dist_chu-22b812.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_map-config-components_dist_chu-22b812"],{28973:(e,i,n)=>{n.d(i,{a:()=>d,b:()=>u,c:()=>c,d:()=>t,e:()=>r,g:()=>m,s:()=>f});var a=n(56451),l=n(29614),o=n(1225),s=(n(54312),n(44345),n(55448),n(52797),n(34031),n(63438),n(5933),n(89704),n(5294),n(66228));n(31521),n(23054),n(5077),n(23795),n(17902),n(87420),n(30161),n(81734),n(83552),n(77462),n(49403),n(66617),n(10628),n(59640),n(64451),n(6176),n(10454),n(94916),n(52554),n(2156),n(4038),n(49851),n(75054),n(15223),n(70169),n(47207),n(70852),n(48103),n(39423),n(85681),n(18444),n(42411),n(9767),n(38218),n(91914),n(86605),n(68196),n(440),n(46547),n(28927),n(6238),n(7299);async function t(e,i){const{layer:n,useFeatureReduction:a,mapImageSublayer:t,mapView:r,supportsArcade:d}=e,u=n;if(t&&!d)return await async function(e,i){const{layer:n,useFeatureReduction:a,mapImageSublayer:t,mapView:r}=e,d=n;i=i||{};const u=(0,o.a)(e,(0,o.g)(e)),c=i.fieldInfos?i.fieldInfos[0]:null;return await l.createClassBreaksRenderer({layer:d,view:r,field:c.field,valueExpression:c.expression,valueExpressionTitle:c.expressionTitle,normalizationField:i.normalizationField,classificationMethod:i.classificationMethod?i.classificationMethod:"natural-breaks",standardDeviationInterval:"standard-deviation"===i.classificationMethod?i.standardDeviationInterval?i.standardDeviationInterval:1:void 0,numClasses:i.numClasses?i.numClasses:4,minValue:i.min,maxValue:i.max,colorScheme:i.colorScheme||(0,o.a2)(e),outlineOptimizationEnabled:!t&&(!(0,s.i)(i.outlineOptimizationEnabled)||i.outlineOptimizationEnabled),legendOptions:i.legendOptions,defaultSymbolEnabled:!1,forBinning:a}).then(e=>((0,o.b)(u,e.renderer),e))}(e,i);const c=(0,o.g)(e),m=c.authoringInfo,p=(0,o.p)(c,"color");i=i||{};const b=(0,o.d)(e),v=(0,o.a)(e,(0,o.g)(e)),h=i.fieldInfos?i.fieldInfos[0]:null,g=i.theme?i.theme:"high-to-low",z={layer:u,view:r,field:h.field,valueExpression:h.expression,valueExpressionTitle:h.expressionTitle,theme:g,colorScheme:i.colorScheme||(0,o.a2)(e,g),normalizationField:i.normalizationField,minValue:i.min,maxValue:i.max,outlineOptimizationEnabled:!t&&(!(0,s.i)(i.outlineOptimizationEnabled)||i.outlineOptimizationEnabled),sizeOptimizationEnabled:!t&&(!(0,s.i)(i.sizeOptimizationEnabled)||i.sizeOptimizationEnabled),legendOptions:i.legendOptions,defaultSymbolEnabled:!1,forBinning:a};return await l.createContinuousRenderer(z).then(async n=>{const a=(0,o.c)((0,o.g)(e),"color");return a&&!i.noReuse&&["color","color-size","color-size-age"].includes(b)&&f(e,i)&&m&&"above-and-below"!==m?.univariateTheme&&!["centered-on","extremes"].includes(p.theme)&&(n.renderer.visualVariables=(0,o.H)(n.renderer,"color")||[],n.renderer.visualVariables.push(a),v.sizeOutlineVisVar&&(n.renderer.visualVariables=(0,o.H)(n.renderer,"size","outline")||[],n.renderer.visualVariables.push(v.sizeOutlineVisVar)),n.renderer.authoringInfo.visualVariables=(0,o.P)(n.renderer,"color")||[],n.renderer.authoringInfo.visualVariables.push(p),(0,o.Q)(e,n.renderer)),(0,o.b)(v,n.renderer),n})}async function r(e,i){const{layer:n,mapImageSublayer:a,mapView:t}=e,r=n,d=(0,o.g)(e).authoringInfo;i=i||{};const u=(0,o.d)(e),c=(0,o.a)(e,(0,o.g)(e)),m=i.fieldInfos?i.fieldInfos[0]:null,p=i.theme?i.theme:"high-to-low";return await l.createAgeRenderer({layer:r,view:t,startTime:m.field,endTime:new Date,theme:p,colorScheme:i.colorScheme||(0,o.a2)(e,p),unit:void 0,outlineOptimizationEnabled:!a&&(!(0,s.i)(i.outlineOptimizationEnabled)||i.outlineOptimizationEnabled),sizeOptimizationEnabled:!a&&(!(0,s.i)(i.sizeOptimizationEnabled)||i.sizeOptimizationEnabled),legendOptions:i.legendOptions,defaultSymbolEnabled:!1}).then(async n=>{if(["color-age","color-age-size"].includes(u)&&f(e,i)&&d&&"above-and-below"!==d?.univariateTheme){const i=(0,o.c)((0,o.g)(e),"color"),a=(0,o.p)((0,o.g)(e),"color");n.renderer.visualVariables=[i],c.sizeOutlineVisVar&&n.renderer.visualVariables.push(c.sizeOutlineVisVar),n.renderer.authoringInfo.visualVariables=[a],(0,o.Q)(e,n.renderer)}return(0,o.b)(c,n.renderer),n})}async function d(e,i){const{layer:n,useFeatureReduction:a,mapImageSublayer:t,mapView:r,supportsArcade:d}=e,u=n;if(t&&!d)return await c(e,i);i=i||{};const m=(0,o.g)(e),f=m.authoringInfo||{},p=(0,o.d)(e),b=(0,o.c)(m,"color");if(b&&i.fieldInfos?.[0]&&i.fieldInfos?.[0].field===b.field&&i.fieldInfos?.[0].expression===b.valueExpression&&i.normalizationField===b.normalizationField&&(delete i.fieldInfos,(0,o.O)(i)))return{renderer:m.clone()};const v=(0,o.a)(e,m),h=(0,o.p)(m,"color"),g=i.fieldInfos?i.fieldInfos[0]:b?{field:b.field,expression:b.valueExpression,expressionTitle:b.valueExpressionTitle,simpleFieldType:o.J.NUMBER}:{field:m.field,expression:m.valueExpression,expressionTitle:m.valueExpressionTitle,simpleFieldType:o.J.NUMBER},z=null===i.normalizationField?void 0:i.normalizationField?i.normalizationField:b?b.normalizationField:m.normalizationField;let x=m.classBreakInfos?.length?m.classBreakInfos[0].symbol:(0,o.e)(e,p);"picture-marker"===x.type&&(x=(0,o.e)(e,p));const E=m.defaultSymbol,I=m.defaultLabel;let y=!1;(null===i.normalizationField||i.normalizationField||i.fieldInfos?.[0]||"manual"===f.classificationMethod&&!i.theme||"equal-interval"===f.classificationMethod)&&(y=!0);const V=i.discardMinMax?void 0:(0,s.i)(i.min)?i.min:y?void 0:b?h?.minSliderValue:m.classBreakInfos[0].minValue,O=i.discardMinMax?void 0:(0,s.i)(i.max)?i.max:y?void 0:b?h?.maxSliderValue:m.classBreakInfos[m.classBreakInfos.length-1].maxValue,S=i.theme?i.theme:h?h.theme:"high-to-low",T="below"===h?.theme,F="below"===S,w=F&&!T||!F&&T,k=i.colorScheme||(0,o.a2)(e,S),M={layer:u,view:r,field:g.field,valueExpression:g.expression,valueExpressionTitle:g.expressionTitle,theme:S,colorScheme:k,normalizationField:z,minValue:V,maxValue:O,outlineOptimizationEnabled:!t&&((0,s.i)(i.outlineOptimizationEnabled)?i.outlineOptimizationEnabled:!!v.sizeOutlineVisVar),sizeOptimizationEnabled:!t&&((0,s.i)(i.sizeOptimizationEnabled)?i.sizeOptimizationEnabled:!!v.sizeAutoVisVar),legendOptions:i.legendOptions?.toJSON()||b?.legendOptions?.toJSON()||m.legendOptions?.toJSON(),defaultSymbolEnabled:(0,s.i)(i.defaultSymbolEnabled)?i.defaultSymbolEnabled:!!m.defaultSymbol,forBinning:a};return await l.createContinuousRenderer(M).then(e=>{if(i.discardMinMax){const i=(0,o.c)(m,"color"),n=(0,o.c)(e.renderer,"color");i.stops.forEach((e,i)=>e.value=n.stops[i].value)}if((0,o.b)(v,e.renderer),x&&e.renderer.classBreakInfos?.length&&(e.renderer.classBreakInfos[0].symbol=x),E&&(e.renderer.defaultSymbol=E,e.renderer.defaultLabel=I),w&&k&&b){const i=(0,o.c)(e.renderer,"color"),n=b.stops.length-1;i.stops.forEach((e,i)=>e.color=b.stops[n-i].color)}return e})}async function u(e,i){const{layer:n,mapImageSublayer:a,mapView:t}=e,r=n;i=i||{};const d=(0,o.g)(e),u=(0,o.d)(e),c=(0,o.c)(d,"color");if(c&&i.fieldInfos?.[0]&&i.fieldInfos[0].field===c.field&&(delete i.fieldInfos,(0,o.O)(i)))return{renderer:d.clone()};const m=(0,o.a)(e,d),f=(0,o.p)(d,"color"),p=i.startTime?i.startTime:f.startTime,b=i.endTime?i.endTime:f.endTime,v=d.classBreakInfos?.length?d.classBreakInfos[0].symbol:(0,o.e)(e,u),h=d.defaultSymbol,g=d.defaultLabel;let z=!1;(i.startTime||i.endTime||i.units||i.fieldInfo)&&(z=!0);const x=i.discardMinMax?void 0:(0,s.i)(i.min)?i.min:z?void 0:f?f.minSliderValue:d.classBreakInfos[0].minValue,E=i.discardMinMax?void 0:(0,s.i)(i.max)?i.max:z?void 0:f?f.maxSliderValue:d.classBreakInfos[d.classBreakInfos.length-1].maxValue,I=i.theme?i.theme:f?f.theme:"high-to-low",y={layer:r,view:t,startTime:p,endTime:b,unit:i.units?i.units:f.units,theme:I,colorScheme:i.colorScheme||(0,o.a2)(e,I),minValue:x,maxValue:E,outlineOptimizationEnabled:!a&&((0,s.i)(i.outlineOptimizationEnabled)?i.outlineOptimizationEnabled:!!m.sizeOutlineVisVar),sizeOptimizationEnabled:!a&&((0,s.i)(i.sizeOptimizationEnabled)?i.sizeOptimizationEnabled:!!m.sizeAutoVisVar),legendOptions:i.legendOptions?i.legendOptions.toJSON():z?void 0:c?.legendOptions?.toJSON()||d.legendOptions?.toJSON(),defaultSymbolEnabled:(0,s.i)(i.defaultSymbolEnabled)?i.defaultSymbolEnabled:!!d.defaultSymbol};return await l.createAgeRenderer(y).then(e=>{if(i.discardMinMax){const i=(0,o.c)(d,"color"),n=(0,o.c)(e.renderer,"color");i.stops.forEach((e,i)=>e.value=n.stops[i].value)}return(0,o.p)(e.renderer,"color").field=f.field,(0,o.b)(m,e.renderer),v&&e.renderer.classBreakInfos?.length&&(e.renderer.classBreakInfos[0].symbol=v),h&&(e.renderer.defaultSymbol=h,e.renderer.defaultLabel=g),e})}async function c(e,i){const{layer:n,useFeatureReduction:a,mapImageSublayer:t,mapView:r}=e,d=n;i=i||{};const u=(0,o.g)(e),c=u.authoringInfo||{},m=(0,o.c)(u,"color");if(!m&&i.fieldInfo&&i.fieldInfo.field===u.field&&i.fieldInfo.expression===u.valueExpression&&i.normalizationField===u.normalizationField&&(delete i.fieldInfo,(0,o.O)(i)))return{renderer:u.clone()};const f=(0,o.p)(u,"color"),p=(0,o.a)(e,u),b={field:u.field,expression:u.valueExpression,expressionTitle:u.valueExpressionTitle,simpleFieldType:o.J.NUMBER},v=i.fieldInfos?i.fieldInfos[0]:m?{field:m.field,expression:m.valueExpression,expressionTitle:m.valueExpressionTitle,simpleFieldType:o.J.NUMBER}:b,h=void 0!==i.normalizationField?i.normalizationField:m?m.normalizationField:u.normalizationField;let g;if(u.classBreakInfos?.length){const e=u.classBreakInfos[0].symbol;["simple-fill","simple-marker","simple-line","cim"].includes(e.type)&&(g=e)}const z=u.defaultSymbol,x=u.defaultLabel,E=i.classificationMethod?i.classificationMethod:c.classificationMethod&&"manual"!==c.classificationMethod?c.classificationMethod:"natural-breaks",I="standard-deviation"===E?i.standardDeviationInterval?i.standardDeviationInterval:c.standardDeviationInterval?c.standardDeviationInterval:1:void 0;let y=!0;i.classificationMethod&&i.classificationMethod!==c.classificationMethod&&("standard-deviation"===i.classificationMethod||"standard-deviation"===c.classificationMethod)&&(y=!1);let V=!1;(void 0!==i.normalizationField||!(0,o.N)(v,b)||"equal-interval"!==E)&&(V=!0);const O=(0,s.i)(i.min)?i.min:V?void 0:f?f.minSliderValue:u.classBreakInfos[0].minValue,S=(0,s.i)(i.max)?i.max:V?void 0:f?f.maxSliderValue:u.classBreakInfos[u.classBreakInfos.length-1].maxValue;let T=i.colorScheme||(0,o.a2)(e);return T||(T=(0,o.a2)(e,"above-and-below")),await l.createClassBreaksRenderer({layer:d,view:r,field:v.field,valueExpression:v.expression,valueExpressionTitle:v.expressionTitle,normalizationField:h,classificationMethod:E,standardDeviationInterval:I,numClasses:(0,s.i)(i.numClasses)?i.numClasses:m||!y?4:u.classBreakInfos.length,minValue:O,maxValue:S,colorScheme:T,outlineOptimizationEnabled:!t&&((0,s.i)(i.outlineOptimizationEnabled)?i.outlineOptimizationEnabled:!!p.sizeOutlineVisVar),legendOptions:i.legendOptions||u.legendOptions,defaultSymbolEnabled:(0,s.i)(i.defaultSymbolEnabled)?i.defaultSymbolEnabled:!!u.defaultSymbol,forBinning:a}).then(e=>((0,o.b)(p,e.renderer),p.sizeAutoVisVar&&(e.renderer.visualVariables=e.renderer.visualVariables||[],e.renderer.visualVariables.push(p.sizeAutoVisVar)),g&&e.renderer.classBreakInfos&&e.renderer.classBreakInfos.forEach(e=>{const i=g.clone();(0,o.y)(i,(0,o.i)(e.symbol)),e.symbol=i}),z&&(e.renderer.defaultSymbol=z,e.renderer.defaultLabel=x),e))}function m(e){return(0,o.g)(e).classBreakInfos.map(e=>({min:e.minValue,max:e.maxValue,color:(0,o.i)(e.symbol)?(0,o.i)(e.symbol).clone():new a.default({r:255,g:255,b:255,a:1})}))}function f(e,i){const n=(0,o.g)(e).clone(),a=(0,o.d)(e);if(["color","color-size","color-size-age","color-age","color-age-size"].includes(a)&&void 0===i.normalizationField){let e;const l=(0,o.c)(n,"color");if(e=l?["color-age","color-age-size"].includes(a)?{field:(0,o.p)(n,"color").field}:{field:l.field,expression:l.valueExpression,expressionTitle:l.valueExpressionTitle}:{field:n.field,expression:n.valueExpression,expressionTitle:n.valueExpressionTitle},(0,o.N)(i.fieldInfos[0],e))return!0}return!1}},65595:(e,i,n)=>{n.d(i,{c:()=>s,u:()=>t});var a=n(20936),l=n(1225),o=(n(54312),n(44345),n(55448),n(52797),n(34031),n(63438),n(5933),n(28927),n(83368),n(89704),n(5294),n(18423),n(96086),n(91813),n(21255),n(13078),n(21303),n(12627),n(56451),n(31521),n(23054),n(5077),n(23795),n(17902),n(87420),n(30161),n(81734),n(75698),n(10628),n(59640),n(64451),n(6176),n(83552));n(77462),n(49403),n(10281),n(83930),n(66617),n(10454),n(29614),n(94916),n(52554),n(2156),n(4038),n(49851),n(75054),n(15223),n(70169),n(47207),n(70852),n(48103),n(39423),n(85681),n(18444),n(42411),n(9767),n(38218),n(91914),n(86605),n(68196),n(440),n(46547),n(6238),n(7299);function s(e){e.selectedFields=[],e.layerFields=void 0,e.fields=void 0,e.hideLayerTitle=!1,e.supportsArcade=!1,e.stringFieldsCount=-1,e.dateFieldsCount=-1,e.numberFieldsCount=-1,e.containsFlow=!0,e.oneFeatureResponseStatus=l.s.MISSING,e.selectedAttribute=void 0,e.selectedAttributeText=void 0,e.selectedTypeValue=void 0,e.selectedValue=void 0,e.lastDefault=void 0,e.lastDefaults=void 0,e.dotColorSelected=void 0,e.backgroundStyleSelected=void 0,e.lastSettings=void 0,e.classedSymbolSelectedIdx=void 0,e.allUniqueValues=void 0,e.useFeatureReduction=void 0,e.symbolStylerConfig={},e.allowTimeSeriesConfiguration=!1,e.rasterInfo=void 0}function t(){const e=(0,o.Gk)(),i=e;e.manager.onLoad(()=>{i.smartMappingState=function(e,i){const n=r.get(e);if(n)return n;const l=(0,a.el)(e,i);return l&&"store"in l?(r.set(e,l.store),l.store):null}(e.el,"arcgis-map-config-smart-mapping")})}const r=new WeakMap}}]);