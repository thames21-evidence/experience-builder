(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-components_dist_esm_lazy_recu-9cfe97"],{25071:(e,s,i)=>{"use strict";i.d(s,{A:()=>m});var t=i(44471),a=i(44188);const r="caption",n="value-table-data",l="key-table-data",o="grid-row",c="grid",d="border",h="analysis--rtl",m=class{constructor(e){(0,t.r)(this,e),this.renderJsonTableContent=e=>{let s=[];if(!0===Array.isArray(e)&&null!=e)s=e?.map(e=>"object"==typeof e?(0,t.h)("tr",{class:`${n}${o}`},this.renderJsonTable(e)):(0,t.h)("tr",{class:o},(0,t.h)("td",{class:n},e)));else for(const i of Object.keys(e??{})){const a=e?.[i],r="object"==typeof a;s=[...s,(0,t.h)("tr",{class:o},(0,t.h)("td",{class:l},this.intlKeys?.[i]??i),(0,t.h)("td",{class:n},r?this.renderJsonTable(a):a))]}return s},this.renderJsonTable=e=>(0,t.h)("table",{class:c},this.renderJsonTableContent(e))}componentWillLoad(){this.dir=(0,a.T)(this.hostElement)}render(){return(0,t.h)(t.H,{key:"e9734b3c4ef71e4e71dd8def0bac833469a39bb7",class:{[h]:"rtl"===this.dir}},(0,t.h)("table",{key:"3b3b166d18081543c53e6896cea27aefc306bc0f",class:d},(0,t.h)("caption",{key:"47ab41f370f93ba3e37c9474ec3409b3ede77cb0",class:r},(0,t.h)("h3",{key:"4b72d7813ce4773e579ccbaaf19d6f3133113d84"},this.label)),this.renderJsonTable(this.json)))}get hostElement(){return(0,t.d)(this)}};m.style=":root{--analysis-quarter-spacing:0.25rem;--analysis-half-spacing:0.5rem;--analysis-three-quarter-spacing:0.75rem;--analysis-full-spacing:1rem;--analysis-component-default-width:100%;--analysis-ui-border-input:var(--calcite-color-border-2);--analysis-label-font-size:var(--calcite-font-size--2);--analysis-popover-content-min-height-s:7.5rem;--analysis-popover-content-min-height-m:8.75rem;--analysis-popover-content-max-height:60vh;--analysis-popover-content-height:45vh;--analysis-popover-z-index:calc(var(--calcite-z-index-overlay) - 1)}.grid{display:grid;grid-template-columns:repeat(1fr, 2fr);width:100%;word-break:break-word;word-wrap:break-word;overflow-wrap:auto;align-items:center}.border{border:1px solid var(--calcite-color-border-3);width:100%}.caption{text-align:left}.grid-row{display:flex;align-items:center}.grid-row:nth-child(even){background-color:var(--calcite-color-foreground-2)}.grid-row:nth-child(odd){background-color:var(--calcite-color-foreground-1)}.key-table-data,.value-table-data{padding:var(--analysis-half-spacing)}.key-table-data{margin-right:1rem;margin-left:0rem;width:33.3333333333%}.value-table-data{margin-left:1rem;margin-right:0rem;width:66.6666666667%}.analysis--rtl .value-table-data{margin-right:0rem;margin-left:1rem}.analysis--rtl .key-table-data{margin-right:1rem;margin-left:0rem}.analysis--rtl .caption{text-align:right}"},37907:(e,s,i)=>{"use strict";i.d(s,{A:()=>n});var t=i(44471),a=i(44188),r=i(64424);const n=class{constructor(e){(0,t.r)(this,e),this.valueChange=(0,t.c)(this,"valueChange",7),this.helpClick=(0,t.c)(this,"helpClick",7)}render(){return(0,t.h)(r.A,{key:"e4ac0a782daec5f04e12aebef81679d0ca3e90f1",...this.props,onValueChange:e=>this.valueChange.emit(e),onHelpClick:e=>this.helpClick.emit(e),onSetRef:()=>{},toolTitle:"",hideAddToMap:!0,hideModelVariableLayers:!0,onKeyDown:a.n})}static get assetsDirs(){return["t9n"]}get hostElement(){return(0,t.d)(this)}};n.style=":root{--analysis-quarter-spacing:0.25rem;--analysis-half-spacing:0.5rem;--analysis-three-quarter-spacing:0.75rem;--analysis-full-spacing:1rem;--analysis-component-default-width:100%;--analysis-ui-border-input:var(--calcite-color-border-2);--analysis-label-font-size:var(--calcite-font-size--2);--analysis-popover-content-min-height-s:7.5rem;--analysis-popover-content-min-height-m:8.75rem;--analysis-popover-content-max-height:60vh;--analysis-popover-content-height:45vh;--analysis-popover-z-index:calc(var(--calcite-z-index-overlay) - 1)}.parameters-container{display:flex;justify-content:space-between;column-gap:5%;width:var(--analysis-parameter-default-width)}.horizontal{flex-direction:row;align-items:center}.vertical{flex-direction:column}.notice-margin{margin:var(--analysis-full-spacing) var(--analysis-three-quarter-spacing)}"},38937:(e,s,i)=>{"use strict";i.d(s,{A:()=>d});var t=i(44471),a=i(44188),r=i(91685);const n="label-container",l="action",o="action-group",c="text-wrapper",d=class{constructor(e){(0,t.r)(this,e),this.showVariableActionClick=(0,t.c)(this,"showVariableActionClick",7),this.analysisLabelHelpActionClick=(0,t.c)(this,"analysisLabelHelpActionClick",7),this.required=!1,this.hideHelp=!1,this.readOnly=!1,this.supportsVariables=!1,this.mouseOver=e=>{const s=e.target;void 0===this.requiredTooltip&&(this.requiredTooltip=document.createElement("calcite-tooltip"),this.requiredTooltip.placement="bottom",this.requiredTooltip.innerText="bullet-point"===s.icon?this.strings.requiredLabel:this.strings.selectVariable),this.requiredTooltip.referenceElement=s,(0,r.b)(document,this.requiredTooltip)},this.removeTooltip=()=>{(0,r.r)(this.requiredTooltip),this.requiredTooltip=void 0},this.mouseOut=()=>{this.removeTooltip()}}async componentWillLoad(){({strings:this.strings,dir:this.dir}=await(0,a.u)(this.hostElement,(0,t.a)(".")))}disconnectedCallback(){this.removeTooltip()}render(){return(0,t.h)(t.H,{key:"4113f0c82c8994c6d566d580ee97bf23953809dd"},(0,t.h)("div",{key:"926199b48ade5ec6ff1b1136bbbab5d3c0d0d82d",class:n,dir:this.dir},(0,t.h)("div",{key:"c5ac6670c3d3706c8f023df6270c2b631fb892e5",class:c},this.label,!0===this.required?(0,t.h)("calcite-icon",{icon:"bullet-point",scale:a.g.Scale,onMouseOver:this.mouseOver,onMouseOut:this.mouseOut}):null),(0,t.h)("div",{key:"9d1345d7edf3944d74f1d42be4b75b41b4354ed3",class:o},!0===this.supportsVariables?(0,t.h)("calcite-action",{onMouseOver:e=>!0!==this.readOnly&&this.mouseOver(e),onMouseOut:this.mouseOut,class:l,text:this.strings.showVariableNodes,icon:"variable-plus",scale:a.g.Scale,disabled:this.readOnly,onClick:()=>{this.showVariableActionClick.emit()}}):null,!0!==this.hideHelp?(0,t.h)("calcite-action",{class:l,text:this.strings.helpActionText,icon:"information",scale:a.g.Scale,onClick:e=>{this.analysisLabelHelpActionClick.emit(),e.stopPropagation()}}):null)))}static get assetsDirs(){return["t9n"]}get hostElement(){return(0,t.d)(this)}};d.style=":root{--analysis-quarter-spacing:0.25rem;--analysis-half-spacing:0.5rem;--analysis-three-quarter-spacing:0.75rem;--analysis-full-spacing:1rem;--analysis-component-default-width:100%;--analysis-ui-border-input:var(--calcite-color-border-2);--analysis-label-font-size:var(--calcite-font-size--2);--analysis-popover-content-min-height-s:7.5rem;--analysis-popover-content-min-height-m:8.75rem;--analysis-popover-content-max-height:60vh;--analysis-popover-content-height:45vh;--analysis-popover-z-index:calc(var(--calcite-z-index-overlay) - 1)}:host{display:flex;width:100%}.label-container{display:flex;width:100%;margin-bottom:var(--analysis-quarter-spacing);gap:var(--analysis-quarter-spacing);justify-content:space-between}.text-wrapper{display:flex;align-items:center;--calcite-ui-icon-color:var(--calcite-color-status-danger);font-size:var(--calcite-font-size--2);word-break:break-word;overflow:hidden}.text-wrapper calcite-action{margin-inline:8px}.action-group{display:flex}.action{margin-top:0.25rem}"},50278:(e,s,i)=>{"use strict";i.d(s,{A:()=>h});var t=i(44471),a=i(44188),r=i(52095);const n="inline-container",l="inline-remove-btn",o="section-container",c="section-content",d="error-message",h=class{constructor(e){(0,t.r)(this,e),this.analysisQueryEntryRemove=(0,t.c)(this,"analysisQueryEntryRemove",7),this.kind="group",this.appearance="section",this.onRemoveClick=()=>{this.analysisQueryEntryRemove.emit()}}componentWillLoad(){this.strings=(0,r.g)()}renderErrorMessage(){return(0,a.P)(this.error)&&(0,t.h)("calcite-input-message",{class:d,status:a.r.INVALID,hidden:!1,scale:a.g.Scale,icon:"exclamationMarkTriangle"},this.error.toTranslatedString(this.strings))}render(){const e="expression"===this.kind?this.strings.removeAttributeExpression:this.strings.removeExpressionGroup;let s;switch(this.appearance){case"inline":s=(0,t.h)("div",{key:"561c23e240b7f94339e8efe1fcfb79a172504854",class:n},(0,t.h)("slot",{key:"1039ccc79aeef05dfddf0dc8056575a3038e70f1"}),(0,t.h)("calcite-button",{key:"508f685f317c8405916ec41ffb142848e14049db",class:l,kind:"neutral",appearance:"transparent",iconStart:"x",label:e,onClick:this.onRemoveClick,title:e}));break;case"section":s=(0,t.h)("div",{key:"47dd7e0ef4295c05084c95cbbd633749fd9d5cbf",class:o},(0,t.h)("div",{key:"0854e3b4c95605c2bd3190ebaf0fc3a1364a7865",class:c},(0,t.h)("slot",{key:"71dbb729d3f3339b50370c39cb7dbe3f8283dbec"})),(0,t.h)("calcite-button",{key:"2d61e4a5de0b3a446595507d7f952c148bc2a0d4",kind:"neutral",appearance:"transparent",iconStart:"x",label:e,onClick:this.onRemoveClick,title:e}))}return(0,t.h)(t.F,{key:"2e34a4979311ba4b44a7fd55778158dc8e4d3111"},s,this.renderErrorMessage())}};h.style=":root{--analysis-quarter-spacing:0.25rem;--analysis-half-spacing:0.5rem;--analysis-three-quarter-spacing:0.75rem;--analysis-full-spacing:1rem;--analysis-component-default-width:100%;--analysis-ui-border-input:var(--calcite-color-border-2);--analysis-label-font-size:var(--calcite-font-size--2);--analysis-popover-content-min-height-s:7.5rem;--analysis-popover-content-min-height-m:8.75rem;--analysis-popover-content-max-height:60vh;--analysis-popover-content-height:45vh;--analysis-popover-z-index:calc(var(--calcite-z-index-overlay) - 1)}.inline-container{display:flex;margin-bottom:var(--analysis-full-spacing);align-items:center}.inline-remove-btn{margin:0px var(--analysis-quarter-spacing)}.section-container{display:flex;align-items:flex-start;gap:var(--analysis-quarter-spacing);margin-bottom:var(--analysis-full-spacing)}.section-content{flex-grow:1}.error-message{margin-top:calc(-1 * var(--analysis-half-spacing));margin-bottom:var(--analysis-half-spacing)}"},59550:(e,s,i)=>{"use strict";i.r(s),i.d(s,{AnalysisAttributeExpression:()=>t.D,AnalysisBlock:()=>a.A,AnalysisBooleanInput:()=>t.A,AnalysisChipGroup:()=>t.a,AnalysisDataFileInput:()=>t.b,AnalysisDatasetInput:()=>t.p,AnalysisDateInput:()=>t.c,AnalysisExpressionGroup:()=>t.C,AnalysisFieldInput:()=>t.d,AnalysisFieldSelect:()=>t.e,AnalysisGPComposite:()=>a.c,AnalysisGeoenrichmentDatabrowser:()=>t.g,AnalysisGeoenrichmentInput:()=>t.f,AnalysisHelpPopover:()=>t.v,AnalysisItemBrowser:()=>r.A,AnalysisItemInput:()=>t.h,AnalysisJsonTable:()=>h.A,AnalysisKeyValue:()=>a.d,AnalysisLabel:()=>d.A,AnalysisLayerInput:()=>t.l,AnalysisLinearUnitInput:()=>t.i,AnalysisMultipleInput:()=>t.q,AnalysisNumberInput:()=>t.o,AnalysisParameter:()=>c.A,AnalysisParameterContainer:()=>c.a,AnalysisParameterGroup:()=>a.b,AnalysisParameterWrapper:()=>o.A,AnalysisQueryBuilder:()=>t.z,AnalysisQueryEntry:()=>y.A,AnalysisQueryInput:()=>t.x,AnalysisQueryModal:()=>t.y,AnalysisQueryTargetSelect:()=>t.B,AnalysisSection:()=>a.a,AnalysisSpatialExpression:()=>t.E,AnalysisSpatialReferenceInput:()=>t.t,AnalysisSpatialReferenceSelector:()=>t.s,AnalysisStringInput:()=>t.j,AnalysisSummaryFields:()=>t.m,AnalysisTool:()=>l.A,AnalysisTrafficTimeInput:()=>t.k,AnalysisTree:()=>t.r,AnalysisUnsupportedInput:()=>t.w,AnalysisValueTable:()=>a.e,AnalysisWorkflowSelect:()=>t.u,VariableMultiPopover:()=>t.V,VariableNodeDisplay:()=>n.V,VariableNodeInputPopover:()=>t.n,createComponent:()=>c.c,showHelp:()=>m.s});var t=i(13830),a=i(41245),r=i(90458),n=i(66949),l=i(64827),o=i(37907),c=i(64424),d=i(38937),h=i(25071),m=i(47937),y=i(50278);i(44471),i(44188),i(44345),i(55448),i(18423),i(91813),i(21255),i(588),i(54312),i(34031),i(9316),i(13661),i(43786),i(61320),i(64016),i(56451),i(6550),i(2924),i(5258),i(52373),i(33752),i(53976),i(49403),i(77462),i(23054),i(73645),i(82567),i(28927),i(35970),i(5933),i(57295),i(72349),i(89962),i(97703),i(71802),i(32513),i(74791),i(43284),i(91685),i(84121),i(76451),i(52095),i(78065),i(80526)},60413:(e,s,i)=>{var t={"./analysis-areal-unit-input_43.entry.js":[25735,"vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-components_dist_esm_i-951c69","vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-components_dist_esm_a-99c07a","vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-components_dist_esm_c-b4871c","vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-components_dist_esm_a-dbff16","vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-components_dist_esm_a-1ab470"],"./analysis-block_6.entry.js":[23580,"vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-components_dist_esm_i-951c69","vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-components_dist_esm_a-99c07a","vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-components_dist_esm_a-ed275f","vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-components_dist_esm_a-b36f6a"],"./analysis-item-browser.entry.js":[3848,"vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-components_dist_esm_i-951c69","extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-components_dist_esm_analysis--007c4d"],"./analysis-json-table.entry.js":[60477,"vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-components_dist_esm_i-951c69","extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-components_dist_esm_analysis--005fbf"],"./analysis-label.entry.js":[17202,"vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-components_dist_esm_i-951c69","extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-components_dist_esm_analysis--05b1e2"],"./analysis-layer-input-actions.entry.js":[30278,"vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-components_dist_esm_i-951c69","extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-components_dist_esm_analysis--c59ccd"],"./analysis-parameter-wrapper.entry.js":[98865,"vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-components_dist_esm_i-951c69","vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-components_dist_esm_f-823c21","extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-components_dist_esm_analysis--3b133c"],"./analysis-query-entry.entry.js":[76789,"vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-components_dist_esm_i-951c69","extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-components_dist_esm_analysis--9d74a7"],"./analysis-tool.entry.js":[99956,"vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-components_dist_esm_i-951c69","vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-components_dist_esm_a-99c07a","vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-components_dist_esm_c-b4871c","vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-components_dist_esm_f-823c21","vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-components_dist_esm_a-8ef250","extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-components_dist_esm_analysis--9ce9b4"],"./variable-node-display.entry.js":[7435,"vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-components_dist_esm_i-951c69","extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-components_dist_esm_variable--14c9e9"]};function a(e){if(!i.o(t,e))return Promise.resolve().then(()=>{var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s});var s=t[e],a=s[0];return Promise.all(s.slice(1).map(i.e)).then(()=>i(a))}a.keys=()=>Object.keys(t),a.id=60413,e.exports=a},66949:(e,s,i)=>{"use strict";i.d(s,{V:()=>n});var t=i(44471),a=i(44188),r=i(76451);const n=class{constructor(e){(0,t.r)(this,e),this.changeNode=(0,t.c)(this,"changeNode",7),this.clearVariable=(0,t.c)(this,"clearVariable",7),this.readOnly=!1,this.outputName=!1,this.onClearVariable=e=>{this.clearVariable.emit(this.variableNode.id),e.stopImmediatePropagation()}}async componentWillLoad(){({strings:this.strings}=await(0,a.u)(this.hostElement,(0,t.a)(".")))}getOutputNameContent(){const e=this.variableNode.value;let s="";const i=(0,a.a)(this.strings.resultType,{val:(0,a.N)(this.choiceLabel)});return"hostedLayer"===e?.overwriteMode?s=!0===e?.itemProperties?.overwrite?(0,a.a)(this.strings.overwriteTo,{val:(0,a.N)(e?.serviceProperties?.name??"")}):(0,a.a)(this.strings.saveTo,{val:(0,a.N)(e?.serviceProperties?.name??"")}):"overwriteExistingLayer"===e?.overwriteMode&&(s=(0,a.a)(this.strings.overwriteTo,{val:(0,a.N)(e?.serviceProperties?.name??"")})),(0,t.h)(t.F,null,(0,t.h)("div",{innerHTML:i}),""!==s&&(0,t.h)("div",{innerHTML:s}))}getVariableContent(){const e=void 0!==this.choiceLabel?(0,a.a)(this.strings.variableLabel,{val:(0,a.N)(this.choiceLabel)}):(0,a.a)(this.strings.variableVal,{val:(0,a.N)(this.variableNode.value)});return(0,t.h)("div",{innerHTML:e})}getLinearUnitContent(){if(!1===(0,a.P)(this.variableNode.value))return;const e=this.variableNode.value.distance,s=this.choiceLabel,i=(0,a.a)(this.strings.variableVal,{val:(0,a.N)(`${e} ${s}`)});return(0,t.h)("div",{innerHTML:i})}getMultiValueDoubleContent(){return Array.isArray(this.variableNode.value)?(0,t.h)(t.F,null,this.variableNode.value.map(e=>{const s=(0,a.M)((0,a.f)(e));return(0,t.h)("calcite-chip",{label:s,scale:a.g.Scale,value:s,key:s,disabled:this.readOnly,class:"value-chip"},s)})):null}render(){let e=null;return!0===this.outputName?e=this.getOutputNameContent():null!==this.choiceLabel&&"object"!=typeof this.variableNode.value?e=this.getVariableContent():this.variableNode.dataType===r.A.GPLinearUnit?e=this.getLinearUnitContent():this.variableNode.dataType===r.A.GPMultiValueDouble&&(e=this.getMultiValueDoubleContent()),(0,t.h)(t.H,{key:"bc12411ae727b79dae987695f5135288c729772c"},(0,t.h)("calcite-list",{key:"7f892b8db50dfccf55273d57caac3ff03cd92a64",scale:"m",label:this.strings.variableNode},(0,t.h)("calcite-list-item",{key:"61de9d44e6d6bfe8a2cb9e17466fa0520da2b703",label:this.variableNode.name,disabled:this.readOnly,value:this.variableNode.id,onClick:()=>{!1===this.outputName&&this.changeNode.emit(this.variableNode.id)}},(0,t.h)("div",{key:"94306a79d2d873cfe6964c3261035265c7557bb0",slot:"content",style:{pointerEvents:"none",wordBreak:"break-word",overflowWrap:"break-word"},class:"content"},(0,t.h)("div",{key:"43055c6672cffe18f1880a33d0dda411ff599772"},this.variableNode.name),e),!1===this.readOnly&&(0,t.h)("calcite-action",{key:"f3428eb961934034d2e6a560817428a1d2d7ce38",slot:"actions-end",appearance:"transparent",text:this.strings.disconnect,icon:"x",onClick:this.onClearVariable}))))}static get assetsDirs(){return["t9n"]}get hostElement(){return(0,t.d)(this)}};n.style=":root{--analysis-quarter-spacing:0.25rem;--analysis-half-spacing:0.5rem;--analysis-three-quarter-spacing:0.75rem;--analysis-full-spacing:1rem;--analysis-component-default-width:100%;--analysis-ui-border-input:var(--calcite-color-border-2);--analysis-label-font-size:var(--calcite-font-size--2);--analysis-popover-content-min-height-s:7.5rem;--analysis-popover-content-min-height-m:8.75rem;--analysis-popover-content-max-height:60vh;--analysis-popover-content-height:45vh;--analysis-popover-z-index:calc(var(--calcite-z-index-overlay) - 1)}:host{display:flex;flex-direction:column;width:var(--analysis-component-default-width);border:1px solid var(--analysis-ui-border-input);--calcite-list-selection-border-color:var(--calcite-color-foreground-1);--calcite-list-background-color-press:var(--calcite-color-foreground-1);--calcite-list-background-color-hover:var(--calcite-color-foreground-1)}:host calcite-list-item .content{color:var(--calcite-color-text-3);font-size:var(--calcite-font-size--2);font-weight:var(--calcite-font-weight-medium)}:host calcite-list-item .content div:first-child{color:var(--calcite-color-text-1)}:host calcite-list-item .value-chip{max-width:5rem;text-overflow:ellipsis;margin-right:var(--analysis-quarter-spacing);margin-top:var(--analysis-quarter-spacing)}:host([hidden]){display:none}"},90458:(e,s,i)=>{"use strict";i.d(s,{A:()=>l});var t=i(44471),a=i(44188);const r="analysis-item-browser-modal-variables",n="analysis-item-browser-alert",l=class{constructor(e){(0,t.r)(this,e),this.analysisItemBrowserSelection=(0,t.c)(this,"analysisItemBrowserSelection",7),this.analysisItemBrowserAddToMap=(0,t.c)(this,"analysisItemBrowserAddToMap",7),this.analysisItemBrowserClose=(0,t.c)(this,"analysisItemBrowserClose",7),this.start=1,this.onlineBucketSelected=!1,this.items=[],this.selectedItems=[],this.browsedLayerCreating=!1,this.invalidBrowsedLayers=[],this.layerLoadingFailed=!1,this.tasksLoading=!1,this.displayMode="modal",this.filter="",this.hidePreview=!1,this.hideFilters=!0,this.hideAddToMap=!1,this.q="",this.getAllowedItemTypes=()=>{let e=["layers","layers-weblayers-features","layers-weblayers-imagery","layers-weblayers-mapimage","layers-weblayers-tiledimagelayers","layers-weblayers-tables"];return this.viewIsSceneView&&(e=e.filter(e=>"layers-weblayers-tables"!==e)),e},this.getLayerFromSelection=async e=>"item"in e&&e.item.typeKeywords.includes("SubtypeGroupLayer")?this.getSubtypeLayerFromSelection(e):(0,a.c)({url:this.formatSublayerUrl(e)},e.title),this.formatSublayerUrl=e=>`${`${"item"in e?e.item.url:e.url}`}/${`${"sublayer"in e?e.sublayer?.id??0:""}`}`,this.getSubtypeLayerFromSelection=async e=>{let s;if(String(e.sublayer.id).includes("-")){const[i,,t]=String(e.sublayer.id).split("-");s=await(0,a.C)(i,Number(t))}else{const i=e.item.id,t=e.sublayer.sourceJSON.subtypeCode;s=void 0!==t?await(0,a.C)(i,Number(t)):await(0,a.C)(i)}return s},this.formatErrorMessage=()=>{let e="";return e=!0===this.layerLoadingFailed&&void 0!==this.errorStrings.layerLoadFailure?this.errorStrings.layerLoadFailure:(0,a.a)(this.strings.unsupportedLayer,{layerName:this.invalidBrowsedLayers.join(", ")}),e},this.getItemDetailsUrl=e=>{let s="";if((0,a.P)(e)){const{id:i}=e;s=this.onlineBucketSelected&&!0===this.portal.isPortal?`https://arcgis.com/home/item.html?id=${i}`:`${(0,a.W)(this.portal)}/home/item.html?id=${i}`}return s},this.close=()=>{void 0!==this.containerRef&&(this.containerRef.open=!1)},this.onSelectButtonClick=async(e,s)=>{const i=!0===s?this.analysisItemBrowserAddToMap:this.analysisItemBrowserSelection;switch(this.selectionMode){case"single":i.emit(this.selectedItems[0]),this.close();break;case"multiple":default:i.emit(this.selectedItems),this.close();break;case"single-sublayer":case"multiple-sublayer":if("task"in this.selectedItems[0])return i.emit(this.selectedItems),void this.close();const s=e.target;s.loading=!0,this.browsedLayerCreating=!0;let t=[];try{const e=this.selectedItems.map(this.getLayerFromSelection);t=(await Promise.all(e)).filter(e=>void 0!==e),this.invalidBrowsedLayers=await this.filterUnsupportedLayers(t),this.layerLoadingFailed=!1}catch{this.layerLoadingFailed=!0}this.browsedLayerCreating=!1,s.loading=!1,0===this.invalidBrowsedLayers.length&&!1===this.layerLoadingFailed&&(i.emit(t),this.close())}},this.onClose=()=>{this.analysisItemBrowserClose.emit()},this.onItemBrowserUpdate=e=>{this.items=e.detail.results,this.totalItems=e.detail.total,this.start=e.detail.start},this.onItemBrowserSelect=e=>{this.selectedItems=e.detail},this.onItemBrowserLoading=()=>{this.items=[],this.totalItems=void 0},this.onItemBrowserPreview=e=>{const s=e.detail;this.currentPreviewItem=s,!0===this.tasksLoading&&(this.tasksLoading=!1)},this.onItemBrowserBucketSelect=e=>{this.onlineBucketSelected="all"===e.detail}}async componentWillLoad(){let e="";({strings:this.strings,locale:e}=await(0,a.u)(this.hostElement,(0,t.a)("."))),this.errorStrings=await(0,a.p)(e)}render(){return this.renderModal()}renderModal(){return(0,t.h)("calcite-dialog",{modal:!0,open:!0,escapeDisabled:!0,outsideCloseDisabled:!0,focusTrapOptions:{allowOutsideClick:!0},heading:this.header??this.strings.header,class:r,onCalciteDialogClose:this.onClose,ref:e=>this.containerRef=e},this.renderItemBrowser(),(0!==this.invalidBrowsedLayers.length||!0===this.layerLoadingFailed)&&(0,t.h)("calcite-alert",{open:!0,class:n,slot:"alerts",kind:"danger",label:this.formatErrorMessage(),onCalciteAlertClose:()=>{this.invalidBrowsedLayers=[],this.layerLoadingFailed=!1}},(0,t.h)("div",{slot:"title"},this.formatErrorMessage())),(0,t.h)("calcite-button",{slot:"footer-start",appearance:"solid",kind:"neutral",onClick:this.close},this.strings.cancel),(0,t.h)("calcite-button",{slot:"footer-end",appearance:this.hideAddToMap?"solid":"outline",disabled:!0===this.browsedLayerCreating||0===this.selectedItems?.length,onClick:e=>this.onSelectButtonClick(e,!1)},this.strings.confirm),!1===this.hideAddToMap&&(0,t.h)("calcite-button",{slot:"footer-end",appearance:"solid",disabled:!0===this.browsedLayerCreating||0===this.selectedItems?.length,onClick:e=>this.onSelectButtonClick(e,!0)},this.strings.addToMap))}renderItemBrowser(){const e="single-sublayer"===this.selectionMode||"multiple-sublayer"===this.selectionMode||"none"===this.selectionMode?"top":"action";return(0,t.h)("arcgis-item-browser",{api:4,allowedGeometries:this.allowedGeometries,q:this.q,filter:this.filter,num:20,config:{baseUrl:`${(0,a.W)(this.portal)}/home/`},portal:this.portal,user:this.user,selection:this.selectionMode??"single",onArcgisItemBrowserLoading:this.onItemBrowserLoading,onArcgisItemBrowserUpdate:this.onItemBrowserUpdate,onArcgisItemBrowserSelect:this.onItemBrowserSelect,onArcgisItemBrowserPreview:this.onItemBrowserPreview},(0,t.h)("arcgis-item-browser-top-bar",{slot:"top-bar","filter-toggle":!0},(0,t.h)("arcgis-item-browser-bucket-select",{slot:"bucket",options:this.bucketOptions,onArcgisItemBrowserBucketSelect:this.onItemBrowserBucketSelect}),(0,t.h)("arcgis-item-browser-search",{slot:"search",term:""})),(0,t.h)("arcgis-item-browser-sort",{slot:"sort",field:"modified"}),!1===this.hideFilters&&(0,t.h)("arcgis-item-browser-filters",{slot:"filters"},(0,t.h)("arcgis-item-browser-filter-folder",null),(0,t.h)("arcgis-item-browser-filter-categories",null),(0,t.h)("arcgis-item-browser-filter-date",{property:"modified"}),(0,t.h)("arcgis-item-browser-filter-date",{property:"created"}),(0,t.h)("arcgis-item-browser-filter-item-type",{allowedItemTypes:this.getAllowedItemTypes()}),(0,t.h)("arcgis-item-browser-filter-tags",null),(0,t.h)("arcgis-item-browser-filter-sharing",null),(0,t.h)("arcgis-item-browser-filter-content-status",null),(0,t.h)("arcgis-item-browser-filter-collaborations",null)),(0,t.h)("arcgis-item-browser-content",{slot:"content"},this.items.map(s=>(0,t.h)("arcgis-item-browser-card",{key:s.id,item:s,portal:this.portal,user:this.user,name:"item-browser",preview:this.hidePreview?void 0:e,showThumbnail:!1,messageOverrides:this.cardMessageOverrides}))),(0,t.h)("div",{slot:"preview-footer"},(0,t.h)("calcite-button",{href:this.getItemDetailsUrl(this.currentPreviewItem),target:"_blank",appearance:"outline-fill",kind:"neutral",width:"full"},this.strings.viewDetails)),(0,t.h)("arcgis-item-browser-pagination",{slot:"pagination",start:this.start,num:20,total:this.totalItems}))}async filterUnsupportedLayers(e){const{filteredLayers:s}=await(0,a.d)({layers:e,layerFilterTypes:this.layerFilterType,user:this.user}),i=this.user?.orgId??void 0;return[...s,...e.filter(e=>!(0,a.e)(e,i))].map(e=>e.title)}static get assetsDirs(){return["t9n"]}get hostElement(){return(0,t.d)(this)}};l.style=":root{--analysis-quarter-spacing:0.25rem;--analysis-half-spacing:0.5rem;--analysis-three-quarter-spacing:0.75rem;--analysis-full-spacing:1rem;--analysis-component-default-width:100%;--analysis-ui-border-input:var(--calcite-color-border-2);--analysis-label-font-size:var(--calcite-font-size--2);--analysis-popover-content-min-height-s:7.5rem;--analysis-popover-content-min-height-m:8.75rem;--analysis-popover-content-max-height:60vh;--analysis-popover-content-height:45vh;--analysis-popover-z-index:calc(var(--calcite-z-index-overlay) - 1)}.analysis-item-browser-modal-variables{--calcite-dialog-size-y:min(900px, calc(80vh + 100px));--calcite-dialog-size-x:1080px;--calcite-dialog-content-space:0px}.analysis-item-browser-alert{position:static}"}}]);