/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-c87fee.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-c87fee"],{15968:(e,l,a)=>{a.r(l),a.d(l,{arcgis_new_item_pages_tile_layer_settings:()=>v});var t=a(87849),s=a(59317),i=a(41473),r=a(72257),n=a(74695),o=a(68466),c=a(3826),u=a(95878),d=a(82149);a(37762),a(86562),a(15332),a(88878),a(83692),a(931),a(93814),a(54251),a(46904),a(24869),a(15912),a(27137),a(76246),a(58573),a(1536),a(29599),a(60958),a(32478);const v=class{constructor(e){(0,t.r)(this,e),this.newItemUpdatePage=(0,t.c)(this,"newItemUpdatePage",7),this.publishType="tiles",this.autoCreation=!0,this.basemapUrl="",this.featureLayerInfos=null,this.featureLayerLayers=null,this.serviceInfo=null,this.cacheOnDemandMinScale=d.T,this.calculatedScale={minScale:d.T,maxScale:d.e},this.curLods=[],this.ranges=[{level:0,label:"world"},{level:1,label:"continent"},{level:2,label:"countries"},{level:3,label:"countriesSmall"},{level:4,label:"states"},{level:5,label:"state"},{level:6,label:"counties"},{level:7,label:"county"},{level:8,label:"metropolitan"},{level:9,label:"cities"},{level:10,label:"city"},{level:11,label:"town"},{level:12,label:"neighborhood"},{level:13,label:"streets"},{level:14,label:"street"},{level:15,label:"buildings"},{level:16,label:"building"},{level:17,label:"small"},{level:18,label:"rooms"},{level:19,label:"room"}],this.tileLayerInfo=null,this.handleUrlInputError=e=>{const{error:l}=this.i18n;this.alertInfo={title:"invalidUrl"===e?this.invalidUrlString:l.urlErrorTitle,description:"invalidUrl"===e?void 0:l[e]}},this.getPublishTypeInfo=()=>{const{publishType:e}=this;switch(e){case"tiles":return"mapserver";case"scenes":return"sceneserver";case"features":return"featureserver";case"vectorTiles":return"vectortileserver";case"tiledImagery":case"dynamicImagery":return"imageserver";default:return e}},this.toggleAutoCreation=e=>{this.autoCreation=e.detail},this.handleBasemapChange=e=>{var l;const{tileLayerInfo:a,curLods:t}=this;this.basemapType=e;const s=e=>{e.length===t.length&&e.every((e,l)=>{const a=t[l];return e.level===a.level&&e.resolution===a.resolution&&e.scale===a.scale&&e.label===a.label})||(this.curLods=e)},i=null===(l=null==a?void 0:a.info)||void 0===l?void 0:l.lods;"standard"===e?s(d.g):i&&s(i)},this.fetchTileLayerInfo=async e=>{this.isProcessing=!0,this.alertInfo=null,this.tileLayerInfo=null;const{error:l,result:a}=await(0,o.b)(e,!1);return l?this.handleUrlInputError(l.code):a&&(this.tileLayerInfo={url:e,info:a}),this.isProcessing=!1,!l},this.onUrlInputBlur=async()=>{const{tileLayerInfo:e,basemapUrl:l}=this;if(!l)return this.tileLayerInfo=null,void(this.basemapUrl=null);(null==e?void 0:e.url)!==l&&this.fetchTileLayerInfo(l)},this.alertInfo=void 0,this.isProcessing=!1,this.showIncreaseScaleRangeWarning=!1,this.selectedItem=void 0,this.basemapType=void 0}async handleNext(){var e;if("3dTiles"===c.a.tileLayerPublishType)return;const{publishType:l,serviceInfo:a,autoCreation:t,cacheOnDemandMinScale:i,calculatedScale:r,tileLayerInfo:n,selectedItem:u,basemapType:d,basemapUrl:v,inputRef:h,handleUrlInputError:p,fetchTileLayerInfo:b}=this;if("custom"===d){if(!v)return p("invalidUrl"),void h.setFocus();if(!n){if(!await b(v))return void h.setFocus()}}const{publishContent:y}=(0,o.d)({id:u.id,title:u.title},{publishType:l,cacheOnDemand:"vectorTiles"!==l&&t,cacheOnDemandMinScale:i,tileInfo:null==n?void 0:n.info,scale:Object.assign({},r),layers:null===(e=c.a.tileLayerData)||void 0===e?void 0:e.layers},s.c.portal.isPortal);c.a.tileLayerPublishContent=y,c.a.tileAutoCreation=t,c.a.tileLayerBasemapType=d,c.a.tileLayerBasemapUrl=v,c.a.tileLayerPublishType=l,this.newItemUpdatePage.emit("itemProperties")}async componentWillLoad(){var e,l;if("3dTiles"===c.a.tileLayerPublishType)return;this.fromFeatureLayer=c.a.tileLayerFromFeatureLayer,this.publishType=c.a.tileLayerPublishType,this.i18n=u.u.i18n.tileLayerSettings,this.invalidUrlString=u.u.i18n.url.invalidUrl,this.autoCreation=null!==(e=c.a.tileAutoCreation)&&void 0!==e?e:!s.c.portal.isPortal,this.basemapUrl=c.a.tileLayerBasemapUrl,this.basemapType=null!==(l=c.a.tileLayerBasemapType)&&void 0!==l?l:"standard",c.a.tileLayerPublishContent=null;let a=c.a.item;a||(a=Object.assign(Object.assign({},c.a.existingItem),{id:c.a.id,title:c.a.sourceTitle,type:c.a.type,tags:r.i.tags}),c.a.item=a);c.a.type={vectorTiles:"Vector Tile Service",tiles:"Tile Layer",scenes:"Scene Service"}[c.a.tileLayerPublishType],c.a.initialTitle=a.title,this.selectedItem=a;(async()=>{var e;if("3dTiles"===c.a.tileLayerPublishType)return;this.isProcessing=!0;const l=a.url;let t=c.a.tileLayerLayers,r=c.a.tileLayerTables,u=c.a.tileLayerServiceInfo;if(!(s.c.portal.isPortal&&c.a.tileLayerFromFeatureLayer||t||r||u)){const e=await(0,n.o)({serviceUrl:l,restBaseUrl:(0,i.g)(s.c.portal),forceAddToken:!0});t=e.layers,r=e.tables,u=e.serviceInfo}this.serviceInfo=u,this.featureLayerInfos=[...t||[],...r||[]],this.featureLayerLayers=[...t||[]],await this.handleTileLayerScaleChange({minScale:d.T,maxScale:d.e}),"tiles"===this.publishType&&(0,o.h)(this.featureLayerLayers,null!==(e=s.c.config.tilesOnDemandEnabled)&&void 0!==e&&e),this.isProcessing=!1})()}async handleTileLayerScaleChange(e){var l,a;const{selectedItem:t,featureLayerInfos:s,tileLayerInfo:i,publishType:r}=this;if("tiles"!==r)return;const n=t.url,{cacheOnDemandMinScale:c,calculatedScale:u}=await(0,o.e)(e,null!==(a=null===(l=null==i?void 0:i.info)||void 0===l?void 0:l.lods)&&void 0!==a?a:d.a.lods,s,n);n&&(c&&(this.cacheOnDemandMinScale=c),this.calculatedScale=u)}render(){const{ranges:e,i18n:l,toggleAutoCreation:a,handleBasemapChange:i,onUrlInputBlur:r,isProcessing:n,autoCreation:o,basemapType:c,basemapUrl:u,alertInfo:v,publishType:h,fromFeatureLayer:p}=this;return(0,t.h)(t.H,{key:"bf99e4690a195ebc0719ad8562813122d7979a78"},(0,t.h)("arcgis-new-item-loader",{key:"efde7c32ba1da9feae0912e24819c25fefc514d2",active:n}),(0,t.h)("div",{key:"5d30354db8a72194c737851c485080158026d3c0",class:"title"},(0,t.h)("arcgis-new-item-description",{key:"41e67092260dd4e9665508f5996e30fe12b76767",header:l.title,scale:"l"})),"tiles"===h&&(!s.c.portal.isPortal||!p)&&(0,t.h)("div",{key:"e05cadd9fea2a8223ef21569e9b5fbbf0f80e18f",class:"section"},(0,t.h)("arcgis-new-item-switch-card",{key:"3814352bd311cd7aae2d5b6104d91781022dd441",defaultChecked:o,header:l.autoCreateOption.title,description:l.autoCreateOption.description,onSwitchChange:a})),(0,t.h)("div",{key:"265a84bf4e80905aca2f4c589b42c27e86cd5895",class:"section"},(0,t.h)("p",{key:"90fa1178912fc504d8655e3b33026af258452a14",class:"section-title"},l.basemapOption),(0,t.h)("calcite-tile-select-group",{key:"38f88b5f70f0b2e48bad9c0604968788361682cc",layout:"vertical"},d.f.map(e=>{const a="custom"===e?"customBasemap":"onlineBasemapOption";return(0,t.h)("calcite-tile-select",{key:e,checked:e===c,onCalciteTileSelectChange:()=>i(e),description:l[a].description,heading:l[a].title,name:e,"input-enabled":!0,"input-alignment":"start",type:"radio",value:e,width:"full",id:`${e}-input-option`})}))),"custom"===c&&(0,t.h)("div",{key:"87f32a2cfafe35613960808cedaa8456e5a6f35b",class:"section"},(0,t.h)("p",{key:"dddb324f1bad9d21e325469f441c5d6297a6d32e",class:"section-title"},l.customBasemapUrl),(0,t.h)("calcite-input",{key:"7b03deadd238a0ef2f0889a32d221903c1bc39b0",scale:"m",disabled:n,value:u,onCalciteInputInput:e=>{this.basemapUrl=e.currentTarget.value,this.alertInfo=null},onBlur:r,placeholder:"https://webadaptorhost.domain.com/arcgis/rest/services/service/MapServer",ref:e=>this.inputRef=e})),(0,t.h)("arcgis-new-item-alert",{key:"804ae42e262fd34e796bf6034eff9441c05a40b4",heading:null==v?void 0:v.title,description:null==v?void 0:v.description,active:!!v,onAlertDismiss:()=>this.alertInfo=null}))}get el(){return(0,t.a)(this)}};v.style=".title{margin-bottom:1.5rem}.section{margin-bottom:2rem}.section-title{font-size:1rem;font-weight:400;margin-bottom:0.25rem;margin-top:0px}.description{margin-bottom:1rem;margin-top:0px;font-size:0.75rem}"},82149:(e,l,a)=>{a.d(l,{D:()=>i,T:()=>n,a:()=>u,b:()=>v,c:()=>h,d:()=>r,e:()=>o,f:()=>t,g:()=>c,p:()=>d,t:()=>s});const t=["standard","custom"],s=["IntegratedMesh","3DObject","GaussianSplat"],i=s[0],r=["vector","raster"],n=147914382,o=0,c=[{level:0,label:"1:591,657,528",scale:591657527.591555},{level:1,label:"1:295,828,764",scale:295828763.795777},{level:2,label:"1:147,914,382",scale:147914381.897889},{level:3,label:"1:73,957,191",scale:73957190.948944},{level:4,label:"1:36,978,595",scale:36978595.474472},{level:5,label:"1:18,489,298",scale:18489297.737236},{level:6,label:"1:9,244,649",scale:9244648.868618},{level:7,label:"1:4,622,324",scale:4622324.434309},{level:8,label:"1:2,311,162",scale:2311162.217155},{level:9,label:"1:1,155,581",scale:1155581.108577},{level:10,label:"1:577,791",scale:577790.554289},{level:11,label:"1:288,895",scale:288895.277144},{level:12,label:"1:144,448",scale:144447.638572},{level:13,label:"1:72,224",scale:72223.819286},{level:14,label:"1:36,112",scale:36111.909643},{level:15,label:"1:18,056",scale:18055.954822},{level:16,label:"1:9,028",scale:9027.977411},{level:17,label:"1:4,514",scale:4513.988705},{level:18,label:"1:2,257",scale:2256.994353},{level:19,label:"1:1,128",scale:1128.497176},{level:20,label:"1:564",scale:564.248588},{level:21,label:"1:282",scale:282.124294},{level:22,label:"1:141",scale:141.062147}],u={spatialReference:{wkid:102100,latestWkid:3857},origin:{x:-20037508.342787,y:20037508.342787},rows:256,cols:256,dpi:96,preciseDpi:96,lods:[{level:0,resolution:156543.033928,scale:591657527.591555},{level:1,resolution:78271.5169639999,scale:295828763.795777},{level:2,resolution:39135.7584820001,scale:147914381.897889},{level:3,resolution:19567.8792409999,scale:73957190.948944},{level:4,resolution:9783.93962049996,scale:36978595.474472},{level:5,resolution:4891.96981024998,scale:18489297.737236},{level:6,resolution:2445.98490512499,scale:9244648.868618},{level:7,resolution:1222.99245256249,scale:4622324.434309},{level:8,resolution:611.49622628138,scale:2311162.217155},{level:9,resolution:305.748113140558,scale:1155581.108577},{level:10,resolution:152.874056570411,scale:577790.554289},{level:11,resolution:76.4370282850732,scale:288895.277144},{level:12,resolution:38.2185141425366,scale:144447.638572},{level:13,resolution:19.1092570712683,scale:72223.819286},{level:14,resolution:9.55462853563415,scale:36111.909643},{level:15,resolution:4.77731426794937,scale:18055.954822},{level:16,resolution:2.38865713397468,scale:9027.977411},{level:17,resolution:1.19432856685505,scale:4513.988705},{level:18,resolution:.597164283559817,scale:2256.994353},{level:19,resolution:.298582141647617,scale:1128.497176},{level:20,resolution:.14929107082380833,scale:564.248588},{level:21,resolution:.07464553541190416,scale:282.124294},{level:22,resolution:.03732276770595208,scale:141.062147}]},d={spatialReference:{wkid:102100,latestWkid:3857},origin:{x:-20037508.342787,y:20037508.342787},rows:512,cols:512,dpi:96,preciseDpi:96,lods:[{level:0,resolution:78271.51696399994,scale:295828763.795777},{level:1,resolution:39135.75848200009,scale:147914381.897889},{level:2,resolution:19567.87924099992,scale:73957190.948944},{level:3,resolution:9783.93962049996,scale:36978595.474472},{level:4,resolution:4891.96981024998,scale:18489297.737236},{level:5,resolution:2445.98490512499,scale:9244648.868618},{level:6,resolution:1222.992452562495,scale:4622324.434309},{level:7,resolution:611.4962262813797,scale:2311162.217155},{level:8,resolution:305.74811314055756,scale:1155581.108577},{level:9,resolution:152.87405657041106,scale:577790.554289},{level:10,resolution:76.43702828507324,scale:288895.277144},{level:11,resolution:38.21851414253662,scale:144447.638572},{level:12,resolution:19.10925707126831,scale:72223.819286},{level:13,resolution:9.554628535634155,scale:36111.909643},{level:14,resolution:4.77731426794937,scale:18055.954822},{level:15,resolution:2.388657133974685,scale:9027.977411},{level:16,resolution:1.1943285668550503,scale:4513.988705},{level:17,resolution:.5971642835598172,scale:2256.994353},{level:18,resolution:.29858214164761665,scale:1128.497176},{level:19,resolution:.14929107082380833,scale:564.248588},{level:20,resolution:.07464553541190416,scale:282.124294},{level:21,resolution:.03732276770595208,scale:141.062147},{level:22,resolution:.01866138385297604,scale:70.5310735},{level:23,resolution:.009330691929342804,scale:35.265536760789715}]},v={format:"indexedVector",compressionQuality:0,antialiasing:!1},h={format:"PNG32",compressionQuality:0,antialiasing:!0}}}]);