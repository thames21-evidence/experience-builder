/*! For license information please see arcgis_analysis_node_modules_arcgis_map-config-components_dist_com-6c32e9.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_map-config-components_dist_com-6c32e9"],{36486:(e,a,s)=>{s.d(a,{u:()=>r});var i=s(83552),t=s(73679);const r=(0,i.yr)(t.g)},39830:(e,a,s)=>{s.r(a),s.d(a,{ArcgisMapConfigSmartMapping:()=>$});var i=s(73679),t=s(85643),r=s(4395),n=s(5294),l=s(54312),o=s(83368),c=s(1225),p=(s(44345),s(55448),s(52797),s(34031),s(63438),s(5933),s(89704),s(66228)),g=(s(56451),s(23054),s(5077),s(23795),s(17902),s(87420),s(30161),s(81734),s(65595)),m=(s(77462),s(49403),s(10281),s(83930),s(66617),s(10628),s(59640),s(64451),s(6176),s(42987)),d=(s(29614),s(94916),s(52554),s(2156),s(4038),s(49851),s(75054),s(15223),s(70169),s(47207),s(70852),s(48103),s(39423),s(85681),s(18444),s(42411),s(9767),s(38218),s(91914),s(31521),s(86605),s(68196),s(440),s(46547),s(28927),s(6238),s(7299),s(83552)),h=s(36486),u=s(47640),f=s(73801),y=s(58611),S=s(20936);const C=r.AH`:host{height:100%;width:100%}.flow{height:100%}`;class $ extends f.WF{constructor(){super(),this._initialized=!1,this._loaded=!1,this._propWatcherTask=new u.YZ(this,{task:async([e,a,s,i])=>{if(!((0,p.i)(e)&&(0,p.i)(a)&&(0,p.i)(s)&&(0,p.i)(i)))throw console.error("[arcgis-map-config-smart-mapping] Required properties are missing."),new Error("Required properties are missing.");this._propWatcherTask.autoRun=!1,await this.init()},args:()=>[this.mapView,this.layer,this.portal,this.config]}),this._direction=(0,d.jH)(),this.closedViaEvent=!1,this.allFlowItemComponents="arcgis-map-config-smart-mapping,\n      arcgis-map-config-smart-mapping-panels-gallery,\n      arcgis-map-config-smart-mapping-panels-assist,\n      arcgis-map-config-smart-mapping-panels-simple,\n      arcgis-map-config-smart-mapping-panels-heatmap,\n      arcgis-map-config-smart-mapping-panels-predominance,\n      arcgis-map-config-smart-mapping-panels-predominance-size,\n      arcgis-map-config-smart-mapping-panels-relationship,\n      arcgis-map-config-smart-mapping-panels-relationship-size,\n      arcgis-map-config-smart-mapping-panels-size,\n      arcgis-map-config-smart-mapping-panels-chart,\n      arcgis-map-config-smart-mapping-panels-chart-size,\n      arcgis-map-config-smart-mapping-panels-color,\n      arcgis-map-config-smart-mapping-panels-color-size,\n      arcgis-map-config-smart-mapping-panels-color-size-univariate,\n      arcgis-map-config-smart-mapping-panels-compare,\n      arcgis-map-config-smart-mapping-panels-dot-density,\n      arcgis-map-config-smart-mapping-panels-type,\n      arcgis-map-config-smart-mapping-panels-type-size,\n      arcgis-map-config-smart-mapping-panels-raster-gallery,\n      arcgis-map-config-smart-mapping-panels-raster-flow,\n      arcgis-map-config-smart-mapping-panels-raster-vector-field,\n      arcgis-map-config-smart-mapping-panels-raster-stretch,\n      arcgis-map-config-smart-mapping-panels-raster-rgb,\n      arcgis-map-config-smart-mapping-panels-raster-shaded-relief,\n      arcgis-map-config-smart-mapping-panels-raster-class-breaks,\n      arcgis-map-config-smart-mapping-panels-raster-colormap,\n      arcgis-map-config-smart-mapping-panels-raster-unique-value",this._messages=(0,h.u)({blocking:!0}),this.smartMappingState=(0,g.u)(),this.useFeatureReduction=!1,this.allowTimeSeriesConfiguration=!1,this.skipGallery=!1,this.hideLayerTitle=!1,this.symbolStylerConfig={},this.selected=!1,this.store=(0,y.y$)({selectedFields:[],hideLayerTitle:!1,supportsArcade:!1,stringFieldsCount:-1,dateFieldsCount:-1,numberFieldsCount:-1,isRTL:!1,containsFlow:!0,oneFeatureResponseStatus:c.s.MISSING,symbolStylerConfig:{}}),this.arcgisArcadeTimeExpressionChange=(0,f.lh)(),this.arcgisBeforeBack=(0,f.lh)(),this.arcgisClose=(0,f.lh)(),this.arcgisClusterRequiresUpdate=(0,f.lh)(),this.arcgisError=(0,f.lh)(),this.arcgisLoaded=(0,f.lh)(),this.smartMappingCompleteClose=(0,f.lh)(),this.listen("arcgisClose",this.arcgisCloseHandler),this.listen("smartMappingCompleteClose",this.smartMappingCompleteCloseHandler)}static{this.properties={portal:0,config:0,mapView:0,layer:0,useFeatureReduction:5,allowTimeSeriesConfiguration:5,skipGallery:5,stylePart:1,hideLayerTitle:5,symbolStylerConfig:0,selected:7,store:0}}static{this.styles=C}async setFocus(){await(this.flowNode?.setFocus())}updated(){if(this._propWatcherTask.status===u.e1.COMPLETE&&this._initialized&&!this._loaded){if(this._loaded=!0,!this.smartMappingState?.containsFlow&&this.selected){const e=Array.from(this.el.childNodes);e.length&&(e[e.length-1].selected=!0)}this.arcgisLoaded.emit()}}disconnectedCallback(){super.disconnectedCallback(),this.closedViaEvent||this.arcgisClose.emit("save")}async init(){const{mapView:e,layer:a,smartMappingState:s}=this;if(!a||!e)return;if(s.layer=a,s.mapView=e,s.symbolStylerConfig=this.symbolStylerConfig,s.allowTimeSeriesConfiguration=this.allowTimeSeriesConfiguration,"esri.layers.support.Sublayer"===a.declaredClass){let i=!1;const t=a.layer.sourceJSON?.cimVersion;if(t){const e=t.split("."),s=Number.parseFloat(1===e.length?t:`${e[0]}.${e[1]}`);i=a.layer.version>=10.51&&s>=1.4}s.mapImageSublayer=a,delete s.layer,await l.whenOnce(()=>!e.updating).then(async()=>{await s.mapImageSublayer.createFeatureLayer().then(async e=>{this.layer=e,await e.load().then(async()=>{await this.loadStore(),s.supportsArcade=i,await this.processLayer()})})})}else s.mapImageSublayer=void 0,await this.loadStore(),await this.processLayer();const i=(0,S.el)(this.el,"calcite-flow");if(i){s.containsFlow=!1,this.flowNode=i;let e=this.flowNode.customItemSelectors;e=e?`${e},${this.allFlowItemComponents}`:this.allFlowItemComponents}this._initialized=!0}arcgisCloseHandler(){this.closedViaEvent=!0}smartMappingCompleteCloseHandler(e){this.arcgisClose.emit(e.detail)}async loadStore(){const{smartMappingState:e}=this;(0,g.c)(e);const{portal:a,config:s,mapView:i,layer:t,hideLayerTitle:r,useFeatureReduction:n,symbolStylerConfig:l,allowTimeSeriesConfiguration:o}=this;e.portal=a,e.config=s,e.mapView=i,e.layer=t,e.hideLayerTitle=!!r,e._messages=this._messages,e.isRTL="rtl"===this._direction,e.useFeatureReduction="featureReduction"in t&&"binning"===t.featureReduction?.type&&n,e.symbolStylerConfig=l,e.allowTimeSeriesConfiguration=o}async processLayer(){const{smartMappingState:e}=this,{layer:a,_messages:s}=e;let i=(0,c.g)(e);if(a&&(0,c.l)(e)&&(e.rasterInfo=await(0,c.a5)(a)),!i&&(0,c.l)(e)&&(i=await(0,c.a6)(e)),"geo-rss"===a.type)return;const t=(0,c.l)(e)?(0,c.U)(e):(0,c.d)(e);e.oneFeatureResponseStatus=c.s.MISSING,"color"!==t||i.authoringInfo||(0,c.c)(i,"color")?"size"===t&&!i.authoringInfo&&!(0,c.c)(i,"size")&&(i.authoringInfo={classificationMethod:"manual",type:"class-breaks-size"}):i.authoringInfo={classificationMethod:"manual",type:"class-breaks-color"},await(0,c.a7)(e).then(async()=>{if("unknown"===t)console.log("unsupported renderer",i),this.switchToSimpleRenderer(i);else{const a=(await o.getRendererFields(i))?.some(a=>!e.layerFields?.some(e=>e.name.toLowerCase()===a.toLowerCase()));!(0,c.l)(e)&&a?this.switchToSimpleRenderer(i):(e.selectedFields=(0,c._)(e),e.selectedFields.forEach(e=>{e.expression&&!e.expressionTitle&&(e.expressionTitle=s.expression)}))}})}switchToSimpleRenderer(e){const{smartMappingState:a}=this,{layer:s}=a;this.originalRendererJSON=e.toJSON(),this.originalFeatureReduction="featureReduction"in s&&s.featureReduction?n.clone(s.featureReduction):void 0,(0,m.c)(a).then(e=>{(0,c.a4)(a,e.renderer),a.selectedFields=[]}).catch(e=>console.log(e))}render(){return this._propWatcherTask.render({complete:()=>{const{smartMappingState:e}=this,{containsFlow:a}=e;return this.el.classList.add("calcite-match-height"),a?r.qy`<calcite-flow class="flow" .customItemSelectors=${this.allFlowItemComponents} ${(0,t.K)(e=>this.flowNode=e)}>${this.renderContent()}</calcite-flow>`:this.renderContent()}})}renderContent(){const{skipGallery:e,smartMappingState:a}=this,{layer:s,containsFlow:i}=a;return e?this.renderSkipGallery():"geo-rss"===s.type?r.qy`<arcgis-map-config-smart-mapping-panels-simple .selected=${this.selected} @arcgisSmartMappingPanelsSimpleClose=${({detail:e})=>this.arcgisClose.emit(e)} @arcgisSmartMappingPanelsSimpleBackClick=${()=>this.arcgisClose.emit("save")}></arcgis-map-config-smart-mapping-panels-simple>`:(0,c.l)(a)?r.qy`<arcgis-map-config-smart-mapping-panels-raster-gallery .selected=${this.selected} @arcgisSmartMappingPanelsRasterGalleryClose=${({detail:e})=>this.arcgisClose.emit(e)} @arcgisSmartMappingPanelsRasterGalleryError=${({detail:e})=>this.arcgisError.emit(e)}></arcgis-map-config-smart-mapping-panels-raster-gallery>`:r.qy`<arcgis-map-config-smart-mapping-panels-gallery .showBackButton=${!i} .selected=${this.selected} .beforeBack=${async()=>{i||this.arcgisBeforeBack.emit("save")}} @arcgisSmartMappingPanelsGalleryClose=${({detail:e})=>this.arcgisClose.emit(e)} @arcgisSmartMappingPanelsGalleryError=${({detail:e})=>this.arcgisError.emit(e)} @arcgisSmartMappingPanelsGalleryClusterRequiresUpdate=${()=>this.arcgisClusterRequiresUpdate.emit()} @arcgisSmartMappingPanelsGalleryArcadeTimeExpressionChange=${e=>this.arcgisArcadeTimeExpressionChange.emit(e.detail)}></arcgis-map-config-smart-mapping-panels-gallery>`}renderSkipGallery(){const{originalRendererJSON:e,originalFeatureReduction:a,stylePart:s,smartMappingState:i}=this;switch((0,c.l)(i)?(0,c.U)(i):(0,c.d)(i)){case"simple":return r.qy`<arcgis-map-config-smart-mapping-panels-simple .selected=${this.selected} @arcgisSmartMappingPanelsSimpleClose=${({detail:s})=>{"cancel"===s&&e&&(0,c.a8)(i,e,a),this.arcgisClose.emit(s)}} @arcgisSmartMappingPanelsSimpleError=${({detail:e})=>this.arcgisError.emit(e)}></arcgis-map-config-smart-mapping-panels-simple>`;case"heatmap":return r.qy`<arcgis-map-config-smart-mapping-panels-heatmap .selected=${this.selected} @arcgisSmartMappingPanelsHeatmapClose=${({detail:e})=>this.arcgisClose.emit(e)} @arcgisSmartMappingPanelsHeatmapError=${({detail:e})=>this.arcgisError.emit(e)}></arcgis-map-config-smart-mapping-panels-heatmap>`;case"color":case"color-age":return r.qy`<arcgis-map-config-smart-mapping-panels-color .selected=${this.selected} @arcgisSmartMappingPanelsColorClose=${({detail:e})=>this.arcgisClose.emit(e)} @arcgisSmartMappingPanelsColorError=${({detail:e})=>this.arcgisError.emit(e)}></arcgis-map-config-smart-mapping-panels-color>`;case"size":case"size-age":return r.qy`<arcgis-map-config-smart-mapping-panels-size .selected=${this.selected} @arcgisSmartMappingPanelsSizeClose=${({detail:e})=>this.arcgisClose.emit(e)} @arcgisSmartMappingPanelsSizeError=${({detail:e})=>this.arcgisError.emit(e)}></arcgis-map-config-smart-mapping-panels-size>`;case"color-size":case"color-age-size":case"color-size-age":{const e=(0,c.g)(i),a=(0,c.c)(e,"color"),t=(0,c.c)(e,"size");return a.field===t.field&&a.valueExpression===t.valueExpression&&a.valueExpressionTitle===t.valueExpressionTitle?r.qy`<arcgis-map-config-smart-mapping-panels-color-size-univariate .selected=${this.selected} @arcgisSmartMappingPanelsColorSizeUnivariateClose=${({detail:e})=>this.arcgisClose.emit(e)} @arcgisSmartMappingPanelsColorSizeUnivariateError=${({detail:e})=>this.arcgisError.emit(e)}></arcgis-map-config-smart-mapping-panels-color-size-univariate>`:"color"===s?r.qy`<arcgis-map-config-smart-mapping-panels-color .selected=${this.selected} @arcgisSmartMappingPanelsColorClose=${({detail:e})=>this.arcgisClose.emit(e)} @arcgisSmartMappingPanelsColorError=${({detail:e})=>this.arcgisError.emit(e)}></arcgis-map-config-smart-mapping-panels-color>`:"size"===s?r.qy`<arcgis-map-config-smart-mapping-panels-size .selected=${this.selected} @arcgisSmartMappingPanelsSizeClose=${({detail:e})=>this.arcgisClose.emit(e)} @arcgisSmartMappingPanelsSizeError=${({detail:e})=>this.arcgisError.emit(e)}></arcgis-map-config-smart-mapping-panels-size>`:r.qy`<arcgis-map-config-smart-mapping-panels-color-size .selected=${this.selected} @arcgisSmartMappingPanelsColorSizeClose=${({detail:e})=>this.arcgisClose.emit(e)} @arcgisSmartMappingPanelsColorSizeError=${({detail:e})=>this.arcgisError.emit(e)}></arcgis-map-config-smart-mapping-panels-color-size>`}case"compare":return r.qy`<arcgis-map-config-smart-mapping-panels-compare .selected=${this.selected} @arcgisSmartMappingPanelsCompareClose=${({detail:e})=>this.arcgisClose.emit(e)} @arcgisSmartMappingPanelsCompareError=${({detail:e})=>this.arcgisError.emit(e)}></arcgis-map-config-smart-mapping-panels-compare>`;case"dot-density":return r.qy`<arcgis-map-config-smart-mapping-panels-dot-density .selected=${this.selected} @arcgisSmartMappingPanelsDotDensityClose=${({detail:e})=>this.arcgisClose.emit(e)}></arcgis-map-config-smart-mapping-panels-dot-density>`;case"relationship":return r.qy`<arcgis-map-config-smart-mapping-panels-relationship .selected=${this.selected} @arcgisSmartMappingPanelsRelationshipClose=${({detail:e})=>this.arcgisClose.emit(e)} @arcgisSmartMappingPanelsRelationshipError=${({detail:e})=>this.arcgisError.emit(e)}></arcgis-map-config-smart-mapping-panels-relationship>`;case"relationship-size":return"color"===s?r.qy`<arcgis-map-config-smart-mapping-panels-relationship .selected=${this.selected} @arcgisSmartMappingPanelsRelationshipClose=${({detail:e})=>this.arcgisClose.emit(e)} @arcgisSmartMappingPanelsRelationshipError=${({detail:e})=>this.arcgisError.emit(e)}></arcgis-map-config-smart-mapping-panels-relationship>`:"size"===s?r.qy`<arcgis-map-config-smart-mapping-panels-size .selected=${this.selected} @arcgisSmartMappingPanelsSizeClose=${({detail:e})=>this.arcgisClose.emit(e)} @arcgisSmartMappingPanelsSizeError=${({detail:e})=>this.arcgisError.emit(e)}></arcgis-map-config-smart-mapping-panels-size>`:r.qy`<arcgis-map-config-smart-mapping-panels-relationship-size .selected=${this.selected} @arcgisSmartMappingPanelsRelationshipSizeClose=${({detail:e})=>this.arcgisClose.emit(e)} @arcgisSmartMappingPanelsRelationshipSizeError=${({detail:e})=>this.arcgisError.emit(e)}></arcgis-map-config-smart-mapping-panels-relationship-size>`;case"predominance":return r.qy`<arcgis-map-config-smart-mapping-panels-predominance .selected=${this.selected} @arcgisSmartMappingPanelsPredominanceClose=${({detail:e})=>this.arcgisClose.emit(e)} @arcgisSmartMappingPanelsPredominanceError=${({detail:e})=>this.arcgisError.emit(e)}></arcgis-map-config-smart-mapping-panels-predominance>`;case"predominance-size":return"color"===s?r.qy`<arcgis-map-config-smart-mapping-panels-predominance .selected=${this.selected} @arcgisSmartMappingPanelsPredominanceClose=${({detail:e})=>this.arcgisClose.emit(e)} @arcgisSmartMappingPanelsPredominanceError=${({detail:e})=>this.arcgisError.emit(e)}></arcgis-map-config-smart-mapping-panels-predominance>`:"size"===s?r.qy`<arcgis-map-config-smart-mapping-panels-size .selected=${this.selected} @arcgisSmartMappingPanelsSizeClose=${({detail:e})=>this.arcgisClose.emit(e)} @arcgisSmartMappingPanelsSizeError=${({detail:e})=>this.arcgisError.emit(e)}></arcgis-map-config-smart-mapping-panels-size>`:r.qy`<arcgis-map-config-smart-mapping-panels-predominance-size .selected=${this.selected} @arcgisSmartMappingPanelsPredominanceSizeClose=${({detail:e})=>this.arcgisClose.emit(e)} @arcgisSmartMappingPanelsPredominanceSizeError=${({detail:e})=>this.arcgisError.emit(e)}></arcgis-map-config-smart-mapping-panels-predominance-size>`;case"chart":return r.qy`<arcgis-map-config-smart-mapping-panels-chart .selected=${this.selected} @arcgisSmartMappingPanelsChartClose=${({detail:e})=>this.arcgisClose.emit(e)} @arcgisSmartMappingPanelsChartError=${({detail:e})=>this.arcgisError.emit(e)}></arcgis-map-config-smart-mapping-panels-chart>`;case"chart-size":return"color"===s?r.qy`<arcgis-map-config-smart-mapping-panels-chart .selected=${this.selected} @arcgisSmartMappingPanelsChartClose=${({detail:e})=>this.arcgisClose.emit(e)} @arcgisSmartMappingPanelsChartError=${({detail:e})=>this.arcgisError.emit(e)}></arcgis-map-config-smart-mapping-panels-chart>`:"size"===s?r.qy`<arcgis-map-config-smart-mapping-panels-size .selected=${this.selected} @arcgisSmartMappingPanelsSizeClose=${({detail:e})=>this.arcgisClose.emit(e)} @arcgisSmartMappingPanelsSizeError=${({detail:e})=>this.arcgisError.emit(e)}></arcgis-map-config-smart-mapping-panels-size>`:r.qy`<arcgis-map-config-smart-mapping-panels-chart-size .selected=${this.selected} @arcgisSmartMappingPanelsChartSizeClose=${({detail:e})=>this.arcgisClose.emit(e)} @arcgisSmartMappingPanelsChartSizeError=${({detail:e})=>this.arcgisError.emit(e)}></arcgis-map-config-smart-mapping-panels-chart-size>`;case"type":return r.qy`<arcgis-map-config-smart-mapping-panels-type .selected=${this.selected} @arcgisSmartMappingPanelsTypeClose=${({detail:e})=>this.arcgisClose.emit(e)} @arcgisSmartMappingPanelsTypeError=${({detail:e})=>this.arcgisError.emit(e)}></arcgis-map-config-smart-mapping-panels-type>`;case"type-size":return"color"===s?r.qy`<arcgis-map-config-smart-mapping-panels-type .selected=${this.selected} @arcgisSmartMappingPanelsTypeClose=${({detail:e})=>this.arcgisClose.emit(e)} @arcgisSmartMappingPanelsTypeError=${({detail:e})=>this.arcgisError.emit(e)}></arcgis-map-config-smart-mapping-panels-type>`:"size"===s?r.qy`<arcgis-map-config-smart-mapping-panels-size .selected=${this.selected} @arcgisSmartMappingPanelsSizeClose=${({detail:e})=>this.arcgisClose.emit(e)} @arcgisSmartMappingPanelsSizeError=${({detail:e})=>this.arcgisError.emit(e)}></arcgis-map-config-smart-mapping-panels-size>`:r.qy`<arcgis-map-config-smart-mapping-panels-type-size .selected=${this.selected} @arcgisSmartMappingPanelsTypeSizeClose=${({detail:e})=>this.arcgisClose.emit(e)} @arcgisSmartMappingPanelsTypeSizeError=${({detail:e})=>this.arcgisError.emit(e)}></arcgis-map-config-smart-mapping-panels-type-size>`;case"raster-flow":return r.qy`<arcgis-map-config-smart-mapping-panels-raster-flow .selected=${this.selected} @arcgisSmartMappingPanelsRasterFlowClose=${({detail:e})=>this.arcgisClose.emit(e)} @arcgisSmartMappingPanelsRasterFlowError=${({detail:e})=>this.arcgisError.emit(e)}></arcgis-map-config-smart-mapping-panels-raster-flow>`;case"raster-vector-field":return r.qy`<arcgis-map-config-smart-mapping-panels-raster-vector-field .selected=${this.selected} @arcgisSmartMappingPanelsRasterVectorFieldClose=${({detail:e})=>this.arcgisClose.emit(e)} @arcgisSmartMappingPanelsRasterVectorFieldError=${({detail:e})=>this.arcgisError.emit(e)}></arcgis-map-config-smart-mapping-panels-raster-vector-field>`;case"raster-stretch":return r.qy`<arcgis-map-config-smart-mapping-panels-raster-stretch .selected=${this.selected} @arcgisSmartMappingPanelsRasterStretchClose=${({detail:e})=>this.arcgisClose.emit(e)} @arcgisSmartMappingPanelsRasterStretchError=${({detail:e})=>this.arcgisError.emit(e)}></arcgis-map-config-smart-mapping-panels-raster-stretch>`;case"raster-rgb":return r.qy`<arcgis-map-config-smart-mapping-panels-raster-rgb .selected=${this.selected} @arcgisSmartMappingPanelsRasterRgbClose=${({detail:e})=>this.arcgisClose.emit(e)} @arcgisSmartMappingPanelsRasterRgbError=${({detail:e})=>this.arcgisError.emit(e)}></arcgis-map-config-smart-mapping-panels-raster-rgb>`;case"raster-shaded-relief":return r.qy`<arcgis-map-config-smart-mapping-panels-raster-shaded-relief .selected=${this.selected} @arcgisSmartMappingPanelsRasterShadedReliefClose=${({detail:e})=>this.arcgisClose.emit(e)} @arcgisSmartMappingPanelsRasterShadedReliefError=${({detail:e})=>this.arcgisError.emit(e)}></arcgis-map-config-smart-mapping-panels-raster-shaded-relief>`;case"raster-class-breaks":return r.qy`<arcgis-map-config-smart-mapping-panels-raster-class-breaks .selected=${this.selected} @arcgisSmartMappingPanelsRasterClassBreaksClose=${({detail:e})=>this.arcgisClose.emit(e)} @arcgisSmartMappingPanelsRasterClassBreaksError=${({detail:e})=>this.arcgisError.emit(e)}></arcgis-map-config-smart-mapping-panels-raster-class-breaks>`;case"raster-colormap":return r.qy`<arcgis-map-config-smart-mapping-panels-raster-colormap .selected=${this.selected} @arcgisSmartMappingPanelsRasterColormapClose=${({detail:e})=>this.arcgisClose.emit(e)}></arcgis-map-config-smart-mapping-panels-raster-colormap>`;case"raster-unique-value":return r.qy`<arcgis-map-config-smart-mapping-panels-raster-unique-value .selected=${this.selected} @arcgisSmartMappingPanelsRasterUniqueValueClose=${({detail:e})=>this.arcgisClose.emit(e)} @arcgisSmartMappingPanelsRasterUniqueValueError=${({detail:e})=>this.arcgisError.emit(e)}></arcgis-map-config-smart-mapping-panels-raster-unique-value>`;default:return r.qy`<arcgis-map-config-smart-mapping-panels-simple .selected=${this.selected} @arcgisSmartMappingPanelsSimpleClose=${({detail:e})=>this.arcgisClose.emit(e)} @arcgisSmartMappingPanelsSimpleError=${({detail:e})=>this.arcgisError.emit(e)}></arcgis-map-config-smart-mapping-panels-simple>`}}}(0,i.c)("arcgis-map-config-smart-mapping",$)},42987:(e,a,s)=>{s.d(a,{a:()=>o,b:()=>c,c:()=>n,d:()=>l});var i=s(10454),t=(s(52797),s(54312),s(44345),s(55448),s(34031),s(63438),s(5933),s(28927),s(83368),s(89704),s(5294),s(66228)),r=(s(56451),s(31521),s(23054),s(5077),s(23795),s(17902),s(87420),s(30161),s(81734),s(1225));s(83552),s(77462),s(49403),s(66617),s(10628),s(59640),s(64451),s(6176),s(29614),s(94916),s(52554),s(2156),s(4038),s(49851),s(75054),s(15223),s(70169),s(47207),s(70852),s(48103),s(39423),s(85681),s(18444),s(42411),s(9767),s(38218),s(91914),s(86605),s(68196),s(440),s(46547),s(6238),s(7299);async function n(e,a){const{layer:s,useFeatureReduction:n,mapImageSublayer:l,mapView:o}=e,c=s;a=a||{};const p=(0,r.a)(e,(0,r.g)(e));return await i.createRenderer({layer:c,view:o,outlineOptimizationEnabled:!l&&(!(0,t.i)(a.outlineOptimizationEnabled)||a.outlineOptimizationEnabled),sizeOptimizationEnabled:!l&&(!(0,t.i)(a.sizeOptimizationEnabled)||a.sizeOptimizationEnabled),forBinning:n}).then(e=>((0,r.b)(p,e.renderer),e))}async function l(e,a){const{layer:s,useFeatureReduction:n,mapImageSublayer:l,mapView:o}=e,c=s;a=a||{};const p=(0,r.g)(e),g=(0,r.d)(e),m=(0,r.a)(e,p),d=p.symbol?p.symbol:(0,r.e)(e,g),h={layer:c,view:o,outlineOptimizationEnabled:!l&&((0,t.i)(a.outlineOptimizationEnabled)?a.outlineOptimizationEnabled:!!m.sizeOutlineVisVar),sizeOptimizationEnabled:!l&&((0,t.i)(a.sizeOptimizationEnabled)?a.sizeOptimizationEnabled:!!m.sizeAutoVisVar),forBinning:n};return await i.createRenderer(h).then(e=>((0,r.b)(m,e.renderer),d&&(e.renderer.symbol=d),e))}async function o(e){const{layer:a,useFeatureReduction:s,mapView:t}=e,n=a;return await i.createRenderer({layer:n,view:t,outlineOptimizationEnabled:!0,forBinning:s}).then(e=>(0,r.c)(e.renderer,"size","outline"))}async function c(e){const{layer:a,useFeatureReduction:s,mapView:t}=e,n=a;return await i.createRenderer({layer:n,view:t,outlineOptimizationEnabled:!1,sizeOptimizationEnabled:!0,forBinning:s}).then(e=>(0,r.c)(e.renderer,"size","auto"))}},47640:(e,a,s)=>{s.d(a,{YZ:()=>n,e1:()=>t});var i=s(4836);const t={INITIAL:0,PENDING:1,COMPLETE:2,ERROR:3},r=Symbol();class n{get taskComplete(){return this.t||(1===this.i?this.t=new Promise((e,a)=>{this.o=e,this.h=a}):3===this.i?this.t=Promise.reject(this.l):this.t=Promise.resolve(this.u)),this.t}constructor(e,a,s){this.p=0,this.i=0,(this._=e).addController(this);const i="object"==typeof a?a:{task:a,args:s};this.v=i.task,this.j=i.args,this.m=i.argsEqual??l,this.k=i.onComplete,this.A=i.onError,this.autoRun=i.autoRun??!0,"initialValue"in i&&(this.u=i.initialValue,this.i=2,this.O=this.T?.())}hostUpdate(){!0===this.autoRun&&this.S()}hostUpdated(){"afterUpdate"===this.autoRun&&this.S()}T(){if(void 0===this.j)return;const e=this.j();if(!Array.isArray(e))throw Error("The args function must return an array");return e}async S(){const e=this.T(),a=this.O;this.O=e,e===a||void 0===e||void 0!==a&&this.m(a,e)||await this.run(e)}async run(e){let a,s;e??=this.T(),this.O=e,1===this.i?this.q?.abort():(this.t=void 0,this.o=void 0,this.h=void 0),this.i=1,"afterUpdate"===this.autoRun?queueMicrotask(()=>this._.requestUpdate()):this._.requestUpdate();const i=++this.p;this.q=new AbortController;let t=!1;try{a=await this.v(e,{signal:this.q.signal})}catch(e){t=!0,s=e}if(this.p===i){if(a===r)this.i=0;else{if(!1===t){try{this.k?.(a)}catch{}this.i=2,this.o?.(a)}else{try{this.A?.(s)}catch{}this.i=3,this.h?.(s)}this.u=a,this.l=s}this._.requestUpdate()}}abort(e){1===this.i&&this.q?.abort(e)}get value(){return this.u}get error(){return this.l}get status(){return this.i}render(e){switch(this.i){case 0:return e.initial?.();case 1:return e.pending?.();case 2:return e.complete?.(this.value);case 3:return e.error?.(this.error);default:throw Error("Unexpected status: "+this.i)}}}const l=(e,a)=>e===a||e.length===a.length&&e.every((e,s)=>!(0,i.Ec)(e,a[s]))},58611:(e,a,s)=>{s.d(a,{_i:()=>c,y$:()=>u});s(4713);var i=s(54312),t=s(44319),r=s(93461),n=s(53987),l=s(84577),o=s(60331);const c=(e,a)=>a=>g(a,e);class p extends t.G{constructor(e,a){super(e),this.Y=new Map,this.A=void 0,this.#e=(0,n.createObservable)();const s=this;s.#a=a,s.Z(),s.setProvisionalExports(m(e,new WeakRef(s),e.M.length-1,s.instance,s.Y),!1),(0,t.d)(e,a=>{if(a){const t=(0,i.watch)(()=>e[a],a=>{if(a===s.instance)return;const i=s.instance;s.exports=a,s.instance=a,s.Y.forEach((a,s)=>e.requestUpdate(a,i[s])),s.#s&&i.destroy(),s.#s=!1},{sync:!0});s.onDestroy(t.remove)}},s.exports)}#s;#e;#a;get exports(){return(0,n.trackAccess)(this.#e),super.exports}set exports(e){super.exports=e,this.#e.notify()}Z(){const e=this;e.instance="prototype"in e.#a&&"declaredClass"in e.#a.prototype?new e.#a:e.#a(),e.#s=!0}hostConnected(){this.exports=this.instance}hostDestroy(){this.#s&&this.instance.destroy?.()}}const g=(0,r.p)(p),m=(e,a,s,i,r)=>new Proxy(i,{get:(i,n)=>{const l=i[n];if("symbol"==typeof n||r.has(n))return l;const o=e.M[s];return o.A=n,(0,t.t)(e,i=>{if(o.A=void 0,void 0!==i){const t=i.key;r.set(n,t);const l=e.constructor.getPropertyOptions(t);0;const o=n!==t&&t.toLowerCase().includes("disable");d(a,l,n,t,o),void 0===l.i&&h(l,s,n,o)}},l)}}),d=(e,a,s,t,r,n)=>n=(0,i.watch)(()=>{const a=e.deref();return void 0===a||a.component.manager.destroyed?n=n.remove():a.exports[s]},(s,i)=>{if(!n)return;const l=e.deref().component;l?.requestUpdate(t,r?!i:i),a.c=!1},{sync:!0}),h=(e,a,s,i)=>{e.d.get=function(){const e=this.M[a]?.exports[s];return i?!e:e},e.d.set=function(e){const t=this.M[a];t.A!==s&&(t.exports[s]=i?!e:e)}},u=e=>{const a=class extends o.default{},s="function"==typeof e?e():e,i=Object.getOwnPropertyDescriptors(s);for(const[e,s]of Object.entries(i))Object.defineProperty(a.prototype,e,s),(0,l.property)()(a.prototype,e);return new((0,l.subclass)()(a))}},65595:(e,a,s)=>{s.d(a,{c:()=>n,u:()=>l});var i=s(20936),t=s(1225),r=(s(54312),s(44345),s(55448),s(52797),s(34031),s(63438),s(5933),s(28927),s(83368),s(89704),s(5294),s(18423),s(96086),s(91813),s(21255),s(13078),s(21303),s(12627),s(56451),s(31521),s(23054),s(5077),s(23795),s(17902),s(87420),s(30161),s(81734),s(75698),s(10628),s(59640),s(64451),s(6176),s(83552));s(77462),s(49403),s(10281),s(83930),s(66617),s(10454),s(29614),s(94916),s(52554),s(2156),s(4038),s(49851),s(75054),s(15223),s(70169),s(47207),s(70852),s(48103),s(39423),s(85681),s(18444),s(42411),s(9767),s(38218),s(91914),s(86605),s(68196),s(440),s(46547),s(6238),s(7299);function n(e){e.selectedFields=[],e.layerFields=void 0,e.fields=void 0,e.hideLayerTitle=!1,e.supportsArcade=!1,e.stringFieldsCount=-1,e.dateFieldsCount=-1,e.numberFieldsCount=-1,e.containsFlow=!0,e.oneFeatureResponseStatus=t.s.MISSING,e.selectedAttribute=void 0,e.selectedAttributeText=void 0,e.selectedTypeValue=void 0,e.selectedValue=void 0,e.lastDefault=void 0,e.lastDefaults=void 0,e.dotColorSelected=void 0,e.backgroundStyleSelected=void 0,e.lastSettings=void 0,e.classedSymbolSelectedIdx=void 0,e.allUniqueValues=void 0,e.useFeatureReduction=void 0,e.symbolStylerConfig={},e.allowTimeSeriesConfiguration=!1,e.rasterInfo=void 0}function l(){const e=(0,r.Gk)(),a=e;e.manager.onLoad(()=>{a.smartMappingState=function(e,a){const s=o.get(e);if(s)return s;const t=(0,i.el)(e,a);return t&&"store"in t?(o.set(e,t.store),t.store):null}(e.el,"arcgis-map-config-smart-mapping")})}const o=new WeakMap}}]);