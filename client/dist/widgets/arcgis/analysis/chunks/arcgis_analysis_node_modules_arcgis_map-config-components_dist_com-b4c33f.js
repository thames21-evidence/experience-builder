/*! For license information please see arcgis_analysis_node_modules_arcgis_map-config-components_dist_com-b4c33f.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_map-config-components_dist_com-b4c33f"],{4047:(e,a,t)=>{t.r(a),t.d(a,{ArcgisMapConfigSmartMappingPanelsRasterGallery:()=>b});var r=t(73679),s=t(4395),i=t(46317),n=t(5294),l=t(31521),o=t(1225),c=(t(54312),t(44345),t(55448),t(52797),t(34031),t(63438),t(5933),t(28927),t(83368),t(75518)),p=(t(89704),t(18423),t(96086),t(91813),t(21255),t(13078),t(21303),t(12627),t(56451),t(23054),t(5077),t(23795),t(17902),t(87420),t(30161),t(81734),t(75698),t(10628),t(59640),t(64451),t(6176),t(65595)),d=(t(77462),t(49403),t(10281),t(83930),t(66617),t(10454),t(29614),t(94916),t(52554),t(2156),t(4038),t(49851),t(75054),t(15223),t(70169),t(47207),t(70852),t(48103),t(39423),t(85681),t(18444),t(42411),t(9767),t(38218),t(86605)),m=(t(68196),t(440),t(46547),t(6238)),g=(t(7299),t(20936)),h=(t(83552),t(74462)),u=t(68828),y=t(68933),f=t(49661),w=t(85643),R=t(73801);function S(e,a,t){switch(a){case"raster-flow":t((0,h.a)(e));break;case"raster-vector-field":t((0,u.a)(e));break;case"raster-stretch":t((0,y.b)(e));break;case"raster-rgb":t((0,o.aK)(e));break;case"raster-shaded-relief":t(async function(e){const{layer:a}=e,t=a,r="imagery"===t.type?t.rasterFunction??void 0:void 0;return await d.createRenderer({layer:t,rasterFunction:r})}(e));break;case"raster-class-breaks":t((0,f.a)(e));break;case"raster-colormap":t(async function(e){const{layer:a}=e,t=a,r="imagery"===t.type?t.rasterFunction??void 0:void 0;return await m.createRenderer({layer:t,rasterFunction:r}).then(e=>(e.renderer.colormapInfos.forEach((a,t)=>{a.label||(e.renderer.colormapInfos[t].label=" ")}),e))}(e));break;case"raster-unique-value":t((0,o.aJ)(e))}}const v=s.AH`:host{display:none}:host([selected]){display:flex}.styles-msg-title{margin-top:12px;padding:6px;font-weight:700;font-size:16px;display:flex}.styles-msg{font-size:var(--calcite-font-size--2)}.style-tiles{overflow-x:hidden}`;class b extends R.WF{constructor(){super(...arguments),this.flowItemNode=(0,w._)(),this.tilesNode=(0,w._)(),this.smartMappingState=(0,p.u)(),this.galleryRequestWrapper=e=>{const{smartMappingState:a}=this,{_messages:t}=a;(0,c.r)(e,this.flowItemNode.value).then(async e=>{const t=await(0,o.an)(a);(0,o.ag)(a,e.renderer);const{layer:r}=a,s=r,i=(0,o.U)(a);switch("raster-flow"!==i&&(s.effect=void 0),i){case"raster-stretch":s.bandIds=[0];break;case"raster-rgb":s.bandIds=t;break;default:s.bandIds=null}this.requestUpdate(),this.focusSelectedTile()},()=>{this.arcgisSmartMappingPanelsRasterGalleryError.emit({message:t.panels.gallery.errors.changeRendererErrorMsg,type:"warning"})})},this.menuOpen=!1,this.showBackButton=!1,this.selected=!1,this.arcgisSmartMappingPanelsRasterGalleryClose=(0,R.lh)(),this.arcgisSmartMappingPanelsRasterGalleryError=(0,R.lh)()}static{this.properties={menuOpen:5,showBackButton:5,selected:7,beforeBack:0}}static{this.styles=v}async setFocus(){await(this.flowItemNode.value?.setFocus())}async load(){await this.syncGalleryOptions(),this.flowNode=(0,g.el)(this.el,"calcite-flow")}updated(){this.hasUpdated||this.focusSelectedTile()}async loaded(){requestAnimationFrame(async()=>await(this.flowItemNode.value?.setFocus()))}async syncGalleryOptions(){const{smartMappingState:e}=this,{layer:a}=e,t=a,r=t.rasterFunction,s=(0,o.am)(e);await l.getSupportedRendererInfo({layer:t,rasterFunction:r}).then(async e=>{const a=s?s.bandIds:t.bandIds;this.supportedRendererTypes&&this.supportedRendererTypes.length===e.supportedTypes.length&&this.supportedRendererTypes.every(a=>e.supportedTypes.includes(a))||(this.supportedRendererTypes=e.supportedTypes,this.originalRendererObj=n.clone((0,o.T)(this.smartMappingState)),this.originalActivePresetRendererName=s?t.activePresetRendererName:void 0,this.originalActivePresetRendererObj=n.clone(s),this.originalEffect=t.effect??void 0,this.originalBandCombination=(a||await l.getDefaultBandCombination({layer:t,rasterFunction:r}))??void 0)})}handleSelectClick(e,a){const{smartMappingState:t}=this,{layer:r}=t,s=r;if("imagery"!==s.type&&"imagery-tile"!==s.type||!a)"activePresetRendererName"in s&&(s.activePresetRendererName=void 0),S(t,e,this.galleryRequestWrapper);else{const e=s.presetRenderers?.find(({name:e})=>e===a),r=(0,o.U)(t,e);s.bandIds=e.bandIds??[],"raster-flow"!==r&&(s.effect=void 0),s.activePresetRendererName=a,(0,o.ag)(t,e?.renderer),this.requestUpdate()}}handleOptionsClick(e){switch(e){case"raster-class-breaks":{const e=(0,R.dN)(s.qy`<arcgis-map-config-smart-mapping-panels-raster-class-breaks .showBackButton=${!0} selected @arcgisSmartMappingPanelsRasterClassBreaksClose=${()=>this.cleanUpFlowItem(e)} @arcgisSmartMappingPanelsRasterClassBreaksBackClick=${a=>{"delete"===a.detail&&S(this.smartMappingState,"raster-class-breaks",this.galleryRequestWrapper),this.cleanUpFlowItem(e)}} @arcgisSmartMappingPanelsRasterClassBreaksError=${({detail:e})=>this.arcgisSmartMappingPanelsRasterGalleryError.emit(e)}></arcgis-map-config-smart-mapping-panels-raster-class-breaks>`);this.flowNode.appendChild(e),this.selected=!1;break}case"raster-colormap":{const e=(0,R.dN)(s.qy`<arcgis-map-config-smart-mapping-panels-raster-colormap .showBackButton=${!0} selected @arcgisSmartMappingPanelsRasterColormapClose=${()=>this.cleanUpFlowItem(e)} @arcgisSmartMappingPanelsRasterColormapBackClick=${a=>{"delete"===a.detail&&S(this.smartMappingState,"raster-colormap",this.galleryRequestWrapper),this.cleanUpFlowItem(e)}}></arcgis-map-config-smart-mapping-panels-raster-colormap>`);this.flowNode.appendChild(e),this.selected=!1;break}case"raster-flow":{const e=(0,R.dN)(s.qy`<arcgis-map-config-smart-mapping-panels-raster-flow .showBackButton=${!0} selected @arcgisSmartMappingPanelsRasterFlowClose=${()=>this.cleanUpFlowItem(e)} @arcgisSmartMappingPanelsRasterFlowBackClick=${a=>{"delete"===a.detail&&S(this.smartMappingState,"raster-flow",this.galleryRequestWrapper),this.cleanUpFlowItem(e)}} @arcgisSmartMappingPanelsRasterFlowError=${({detail:e})=>this.arcgisSmartMappingPanelsRasterGalleryError.emit(e)}></arcgis-map-config-smart-mapping-panels-raster-flow>`);this.flowNode.appendChild(e),this.selected=!1;break}case"raster-rgb":{const e=(0,R.dN)(s.qy`<arcgis-map-config-smart-mapping-panels-raster-rgb .showBackButton=${!0} selected @arcgisSmartMappingPanelsRasterRgbClose=${()=>this.cleanUpFlowItem(e)} @arcgisSmartMappingPanelsRasterRgbBackClick=${a=>{"delete"===a.detail&&S(this.smartMappingState,"raster-rgb",this.galleryRequestWrapper),this.cleanUpFlowItem(e)}} @arcgisSmartMappingPanelsRasterRgbError=${({detail:e})=>this.arcgisSmartMappingPanelsRasterGalleryError.emit(e)}></arcgis-map-config-smart-mapping-panels-raster-rgb>`);this.flowNode.appendChild(e),this.selected=!1;break}case"raster-shaded-relief":{const e=(0,R.dN)(s.qy`<arcgis-map-config-smart-mapping-panels-raster-shaded-relief .showBackButton=${!0} selected @arcgisSmartMappingPanelsRasterShadedReliefClose=${()=>this.cleanUpFlowItem(e)} @arcgisSmartMappingPanelsRasterShadedReliefBackClick=${a=>{"delete"===a.detail&&S(this.smartMappingState,"raster-shaded-relief",this.galleryRequestWrapper),this.cleanUpFlowItem(e)}} @arcgisSmartMappingPanelsRasterShadedReliefError=${({detail:e})=>this.arcgisSmartMappingPanelsRasterGalleryError.emit(e)}></arcgis-map-config-smart-mapping-panels-raster-shaded-relief>`);this.flowNode.appendChild(e),this.selected=!1;break}case"raster-stretch":{const e=(0,R.dN)(s.qy`<arcgis-map-config-smart-mapping-panels-raster-stretch .showBackButton=${!0} selected @arcgisSmartMappingPanelsRasterStretchClose=${()=>this.cleanUpFlowItem(e)} @arcgisSmartMappingPanelsRasterStretchBackClick=${a=>{"delete"===a.detail&&S(this.smartMappingState,"raster-stretch",this.galleryRequestWrapper),this.cleanUpFlowItem(e)}} @arcgisSmartMappingPanelsRasterStretchError=${({detail:e})=>this.arcgisSmartMappingPanelsRasterGalleryError.emit(e)}></arcgis-map-config-smart-mapping-panels-raster-stretch>`);this.flowNode.appendChild(e),this.selected=!1;break}case"raster-unique-value":{const e=(0,R.dN)(s.qy`<arcgis-map-config-smart-mapping-panels-raster-unique-value .showBackButton=${!0} selected @arcgisSmartMappingPanelsRasterUniqueValueClose=${()=>this.cleanUpFlowItem(e)} @arcgisSmartMappingPanelsRasterUniqueValueBackClick=${a=>{"delete"===a.detail&&S(this.smartMappingState,"raster-unique-value",this.galleryRequestWrapper),this.cleanUpFlowItem(e)}} @arcgisSmartMappingPanelsRasterUniqueValueError=${({detail:e})=>this.arcgisSmartMappingPanelsRasterGalleryError.emit(e)}></arcgis-map-config-smart-mapping-panels-raster-unique-value>`);this.flowNode.appendChild(e),this.selected=!1;break}case"raster-vector-field":{const e=(0,R.dN)(s.qy`<arcgis-map-config-smart-mapping-panels-raster-vector-field .showBackButton=${!0} selected @arcgisSmartMappingPanelsRasterVectorFieldClose=${()=>this.cleanUpFlowItem(e)} @arcgisSmartMappingPanelsRasterVectorFieldBackClick=${a=>{"delete"===a.detail&&S(this.smartMappingState,"raster-vector-field",this.galleryRequestWrapper),this.cleanUpFlowItem(e)}} @arcgisSmartMappingPanelsRasterVectorFieldError=${({detail:e})=>this.arcgisSmartMappingPanelsRasterGalleryError.emit(e)}></arcgis-map-config-smart-mapping-panels-raster-vector-field>`);this.flowNode.appendChild(e),this.selected=!1;break}}}handleDone(){this.arcgisSmartMappingPanelsRasterGalleryClose.emit("save")}handleCancel(){const{originalRendererObj:e,originalActivePresetRendererName:a,originalActivePresetRendererObj:t,originalEffect:r,originalBandCombination:s,smartMappingState:i}=this,{layer:n}=i,l=n;l.effect=r,l.bandIds=s;const c="activePresetRendererName"in l?l.activePresetRendererName:void 0;if(a){if(!c){S(i,(0,o.U)(i,t),this.galleryRequestWrapper)}}else"activePresetRendererName"in l&&(l.activePresetRendererName=void 0),(0,o.ag)(i,e);this.arcgisSmartMappingPanelsRasterGalleryClose.emit("cancel")}async cleanUpFlowItem(e){this.focusSelectedTile(),e.remove(),this.selected=!0;const{smartMappingState:a}=this,{layer:t}=a;("imagery"===t.type||"imagery-tile"===t.type)&&await this.syncGalleryOptions()}focusSelectedTile(){setTimeout(()=>{let e=!1;[...this.tilesNode.value.children].forEach(a=>{!e&&a&&"ARCGIS-MAP-CONFIG-SMART-MAPPING-TILE"===a.nodeName&&(e=!0,a.setFocus())})},300)}render(){const{_messages:e}=this.smartMappingState;return this.el.classList.add("calcite-match-height"),s.qy`<calcite-flow-item .heading=${e.panels.rasterGallery.style} class="flow-item" .closable=${(0,o.aa)(this.el)} .showBackButton=${this.showBackButton} .selected=${this.selected} @calciteFlowItemClose=${this.handleDone} ${(0,w.K)(this.flowItemNode)}>${this.renderRasterGalleryContent()}</calcite-flow-item>`}renderRasterGalleryContent(){return s.qy`${this.renderStyleOptions()}${this.renderDoneButton()}${this.renderCancelButton()}`}renderStyleOptions(){const{smartMappingState:e}=this,{_messages:a,layer:t}=e,r=t&&("imagery"===t.type||"imagery-tile"===t.type),i=(0,o.U)(e),l=n.clone(this.supportedRendererTypes).map(e=>({type:e,presetRendererName:void 0}));if(r){const a=t.presetRenderers;a?.length&&a.forEach(a=>{const t=(0,o.U)(e,a),r=l.findIndex(e=>e.type===t);if(r>-1){const e={type:t,rasterPresetRendererName:a.name};l.splice(r+1,0,e)}})}const c=r?t.activePresetRendererName:void 0,p=l.sort((e,a)=>e.type===i&&a.type!==i?-1:e.type===i&&a.type===i?c&&e.rasterPresetRendererName===c?-1:c&&a.rasterPresetRendererName===c?1:0:1).map(e=>{const a=e.type,t=e.rasterPresetRendererName;return this.renderStyleTile(a,t)});return s.qy`<div class="style-tiles" ${(0,w.K)(this.tilesNode)}><calcite-label class="styles-msg-title">${a.panels.rasterGallery.symbologyOptions}</calcite-label>${p}</div>`}renderStyleTile(e,a){const{smartMappingState:t}=this,{layer:r}=t,n=!r||"imagery"!==r.type&&"imagery-tile"!==r.type?void 0:r.activePresetRendererName,l=(0,o.U)(t);return(0,i.D)(`tile-${e}-${a}`,s.qy`<arcgis-map-config-smart-mapping-tile tile-type=raster-gallery .type=${e} .selected=${n?r.activePresetRendererName===a:!a&&e===l} .rasterPresetRendererName=${a} @arcgisSmartMappingTileSelect=${()=>this.handleSelectClick(e,a)} @arcgisSmartMappingTileOptions=${()=>this.handleOptionsClick(e)}></arcgis-map-config-smart-mapping-tile>`)}renderDoneButton(){const{_messages:e}=this.smartMappingState;return s.qy`<calcite-button slot=footer .label=${e.done} @click=${this.handleDone} appearance=solid width=half>${e.done}</calcite-button>`}renderCancelButton(){const{_messages:e}=this.smartMappingState;return s.qy`<calcite-button slot=footer .label=${e.cancel} @click=${this.handleCancel} appearance=outline-fill width=half>${e.cancel}</calcite-button>`}}(0,r.c)("arcgis-map-config-smart-mapping-panels-raster-gallery",b)},46317:(e,a,t)=>{t.d(a,{D:()=>n});var r=t(85282),s=t(34670),i=t(42466);const n=(0,s.u$)(class extends s.WL{constructor(){super(...arguments),this.key=r.s6}render(e,a){return this.key=e,a}update(e,[a,t]){return a!==this.key&&((0,i.mY)(e),this.key=a),t}})},49661:(e,a,t)=>{t.d(a,{a:()=>o,c:()=>c,g:()=>p});var r=t(56451),s=t(46547),i=t(28927),n=(t(52797),t(54312),t(44345),t(55448),t(34031),t(63438),t(5933),t(83368),t(89704),t(5294),t(18423),t(96086),t(91813),t(21255),t(13078),t(21303),t(12627),t(1225)),l=t(44263);t(75698),t(30161),t(10628),t(59640),t(64451),t(6176),t(81734),t(83552),t(23054),t(77462),t(49403),t(10281),t(83930),t(5077),t(66617),t(10454),t(29614),t(94916),t(52554),t(2156),t(4038),t(49851),t(75054),t(15223),t(70169),t(47207),t(70852),t(48103),t(39423),t(85681),t(18444),t(42411),t(9767),t(38218),t(91914),t(31521),t(86605),t(68196),t(440),t(6238),t(7299);async function o(e){const{layer:a}=e,t=a,i="imagery"===t.type?t.rasterFunction??void 0:void 0,n=(0,l.c)([[245,245,0],[255,0,0]].map(e=>new r.default(e)));return await s.createRenderer({layer:t,rasterFunction:i,colorRamp:n}).then(e=>(e.renderer.classBreakInfos.forEach(e=>e.symbol.outline.width=0),e))}async function c(e,a){const{layer:t}=e,r=t,i=(0,n.T)(e),l="imagery"===r.type?r.rasterFunction:void 0;return await s.createRenderer({layer:r,rasterFunction:l,field:a.field||i.field,classificationMethod:a.classificationMethod||i.authoringInfo.classificationMethod,numClasses:a.numClasses||i.classBreakInfos.length,colorRamp:i.authoringInfo.colorRamp,definedInterval:a.definedInterval}).then(e=>(e.renderer.classBreakInfos.forEach(e=>e.symbol.outline.width=0),e))}function p(e){const{rasterInfo:a,_messages:t}=e;let r;const s=a?.attributeTable?.fields;return r=s?s.filter(e=>"oid"!==e.type&&"string"!==e.type):[new i.default({name:"value",alias:t.panels.classBreaks.value})],r}},68828:(e,a,t)=>{t.d(a,{a:()=>i,c:()=>n});var r=t(68196),s=(t(52797),t(54312),t(44345),t(55448),t(34031),t(63438),t(5933),t(28927),t(83368),t(89704),t(5294),t(18423),t(96086),t(91813),t(21255),t(13078),t(21303),t(12627),t(1225));t(56451),t(23054),t(5077),t(23795),t(17902),t(87420),t(30161),t(81734),t(75698),t(10628),t(59640),t(64451),t(6176),t(83552),t(77462),t(49403),t(10281),t(83930),t(66617),t(10454),t(29614),t(94916),t(52554),t(2156),t(4038),t(49851),t(75054),t(15223),t(70169),t(47207),t(70852),t(48103),t(39423),t(85681),t(18444),t(42411),t(9767),t(38218),t(91914),t(31521),t(86605),t(440),t(46547),t(6238),t(7299);async function i(e){const{layer:a}=e,t=a,s="imagery"===t.type?t.rasterFunction??void 0:void 0;return await r.createRenderer({layer:t,rasterFunction:s})}async function n(e,a){const{layer:t}=e,i=t,n=(0,s.T)(e),l="imagery"===i.type?i.rasterFunction??void 0:void 0;return a=a||{},await r.createRenderer({layer:i,rasterFunction:l,style:a.style||n.style}).then(e=>{e.renderer.symbolTileSize=n.symbolTileSize;const a=(0,s.c)(n,"size");return e.renderer.visualVariables=(0,s.H)(e.renderer,"size")||[],e.renderer.visualVariables.push(a),e.renderer.flowRepresentation=n.flowRepresentation,e.renderer.inputUnit=n.inputUnit,e.renderer.outputUnit=n.outputUnit,e})}},68933:(e,a,t)=>{t.d(a,{a:()=>n,b:()=>o,c:()=>c,d:()=>i,s:()=>l});var r=t(440),s=t(1225);t(54312),t(44345),t(55448),t(52797),t(34031),t(63438),t(5933),t(28927),t(83368),t(89704),t(5294),t(18423),t(96086),t(91813),t(21255),t(13078),t(21303),t(12627),t(56451),t(23054),t(5077),t(23795),t(17902),t(87420),t(30161),t(81734),t(75698),t(10628),t(59640),t(64451),t(6176),t(83552),t(77462),t(49403),t(10281),t(83930),t(66617),t(10454),t(29614),t(94916),t(52554),t(2156),t(4038),t(49851),t(75054),t(15223),t(70169),t(47207),t(70852),t(48103),t(39423),t(85681),t(18444),t(42411),t(9767),t(38218),t(91914),t(31521),t(86605),t(68196),t(46547),t(6238),t(7299);const i={min:0,max:255,avg:0,stddev:1};var n=(e=>(e.NONE="none",e.MINIMUM_MAXIMUM="min-max",e.PERCENT_CLIP="percent-clip",e.STANDARD_DEVIATION="standard-deviation",e))(n||{});const l={STD_DEV:2,MIN_PERCENT:2,MAX_PERCENT:2,GAMMA:1,BAND_INDEX:0,STRETCH_TYPE:"none"};async function o(e){const{layer:a}=e,t=a,i="imagery"===t.type?t.rasterFunction??void 0:void 0;return"raster-rgb"===(0,s.U)(e)&&(t.bandIds=[0]),await r.createRenderer({layer:t,rasterFunction:i})}async function c(e,a){const{layer:t}=e,i=t,n=(0,s.T)(e),o="imagery"===i.type?i.rasterFunction??void 0:void 0;return a=a||{},await r.createRenderer({layer:i,rasterFunction:o,stretchType:a.stretchType||n.stretchType,useGamma:a.useGamma||n.useGamma,gamma:a.gamma||n.useGamma&&n.gamma?.[0]?n.gamma[0]:1}).then(e=>(e.renderer.dynamicRangeAdjustment=n.dynamicRangeAdjustment,e.renderer.colorRamp=n.colorRamp,e.renderer.customStatistics=n.customStatistics,(!(0,s.V)(e.renderer.numberOfStandardDeviations)||0===e.renderer.numberOfStandardDeviations)&&(e.renderer.numberOfStandardDeviations=l.STD_DEV),e))}},74462:(e,a,t)=>{t.d(a,{a:()=>l,c:()=>o,f:()=>c});var r=t(56451),s=t(9767),i=t(38218),n=(t(52797),t(54312),t(44345),t(55448),t(34031),t(63438),t(5933),t(28927),t(83368),t(89704),t(5294),t(18423),t(96086),t(91813),t(21255),t(13078),t(21303),t(12627),t(1225));t(23054),t(5077),t(23795),t(17902),t(87420),t(30161),t(81734),t(83552),t(77462),t(49403),t(10281),t(83930),t(66617),t(10628),t(59640),t(64451),t(6176),t(10454),t(29614),t(94916),t(52554),t(2156),t(4038),t(49851),t(75054),t(15223),t(70169),t(47207),t(70852),t(48103),t(39423),t(85681),t(18444),t(42411),t(91914),t(31521),t(86605),t(68196),t(440),t(46547),t(6238),t(7299);async function l(e,a){const{layer:t,mapView:r}=e,i=t;return a=a||{},await s.createRenderer({layer:i,view:r,theme:a.flowTheme||"flow-line",includeColorVariable:a.includeColorVariable,legendOptions:a.legendOptions,flowRepresentation:a.flowRepresentation,flowScheme:a.flowScheme||c(e)}).then(e=>(e.layerEffect&&!e.layerEffect.includes("drop-shadow")&&(i.effect=e.layerEffect),e.renderer.color=e.renderer.color&&(a.color||e.renderer.color),e))}async function o(e,a){const{layer:t,mapView:i}=e,l=t;a=a||{};const o=(0,n.T)(e),p=(0,n.c)(o,"color"),d=o.authoringInfo,m=a.flowTheme||d?.flowTheme||"flow-line";return await s.createRenderer({layer:l,view:i,theme:m,includeColorVariable:a.includeColorVariable??!!p,legendOptions:a.legendOptions||p?.legendOptions,flowRepresentation:a.flowRepresentation||o.flowRepresentation,flowScheme:a.flowScheme}).then(t=>{const s=(0,n.p)(o,"color"),i=(0,n.p)(t.renderer,"color");s?.minSliderValue&&s?.maxSliderValue&&i&&(i.minSliderValue=s.minSliderValue,i.maxSliderValue=s.maxSliderValue);const l=(0,n.c)((0,n.T)(e),"color"),p=(0,n.c)(t.renderer,"color");return l&&p&&l.stops.forEach((e,a)=>{p.stops[a].value=e.value}),t.renderer.color=t.renderer.color&&(a.color||o.color||t.renderer.color),(a.flowScheme||c(e))&&l&&p&&l.stops.forEach((e,a)=>{p.stops[a].color=new r.default(e.color.toJSON())}),m===d.flowTheme&&(t.renderer.flowSpeed=o.flowSpeed,t.renderer.density=o.density,t.renderer.trailLength=o.trailLength,t.renderer.trailWidth=o.trailWidth,t.renderer.trailCap=o.trailCap),t})}function c(e){const{mapView:a}=e,t=(0,n.T)(e),r=(0,n.c)(t,"color");if(!r)return null;const s=r.stops.map(e=>e.color),l=i.getSchemes({basemap:a.map?.basemap||"topo"}),o=[l.primaryScheme].concat(l.secondarySchemes),c=[];return o.forEach(e=>{let a=s.some((a,t)=>!(0,n.W)(e.colors[t],a));a?(e.colors=e.colors.reverse(),a=s.some((a,t)=>!(0,n.W)(e.colors[t],a)),a||c.push(e)):c.push(e)}),c.length?c[0]:null}},75518:(e,a,t)=>{let r,s;function i(e){e.loading=!1}async function n(e,a){return function(e){e.loading=!0,s=!1,r&&clearTimeout(r),r=setTimeout(()=>{i(e),s=!0},6e4)}(a),await e.then(e=>{if(i(a),s)throw new Error("timeout");return e}).catch(e=>{throw i(a),e})}t.d(a,{r:()=>n})}}]);