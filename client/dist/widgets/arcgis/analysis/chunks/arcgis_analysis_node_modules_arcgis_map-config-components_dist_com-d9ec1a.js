/*! For license information please see arcgis_analysis_node_modules_arcgis_map-config-components_dist_com-d9ec1a.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_map-config-components_dist_com-d9ec1a"],{18383:(e,i,t)=>{t.d(i,{a:()=>l,c:()=>o,g:()=>d});var a=t(75054),s=t(15223),n=t(1225),r=(t(54312),t(44345),t(55448),t(52797),t(34031),t(63438),t(5933),t(89704),t(5294),t(66228));t(56451),t(31521),t(23054),t(5077),t(23795),t(17902),t(87420),t(30161),t(81734),t(83552),t(77462),t(49403),t(66617),t(10628),t(59640),t(64451),t(6176),t(10454),t(29614),t(94916),t(52554),t(2156),t(4038),t(49851),t(70169),t(47207),t(70852),t(48103),t(39423),t(85681),t(18444),t(42411),t(9767),t(38218),t(91914),t(86605),t(68196),t(440),t(46547),t(28927),t(6238),t(7299);async function l(e,i){const{layer:t,useFeatureReduction:s,mapImageSublayer:l,mapView:o,selectedFields:d}=e,u=t;i=i||{};const p=(0,n.a)(e,(0,n.g)(e));return await a.createRenderer({layer:u,view:o,fields:c(e,i.fieldInfos),predominanceScheme:i.predominanceScheme||(0,n.X)(e),includeOpacityVariable:!(0,r.i)(i.includeOpacityVariable)||(0,r.i)(i.includeOpacityVariable),includeSizeVariable:!!(0,r.i)(i.includeSizeVariable)&&i.includeSizeVariable,outlineOptimizationEnabled:!l&&((0,r.i)(i.outlineOptimizationEnabled)?i.outlineOptimizationEnabled:(0,n.o)(e)),sizeOptimizationEnabled:!l&&(!(0,r.i)(i.sizeOptimizationEnabled)||i.sizeOptimizationEnabled),legendOptions:i.legendOptions,defaultSymbolEnabled:!1,forBinning:s}).then(t=>{(0,n.b)(p,t.renderer,{notOpacity:!0});const a=(0,n.d)(e);if(!(0,r.i)(i.includeOpacityVariable)&&["predominance","predominance-size"].includes(a)){const a=(0,n._)(e),s=d.map(e=>e.field).sort(),r=a.map(e=>e.field).sort();if(s.toString()===r.toString()){const a=(0,n.c)((0,n.g)(e),"opacity"),s=(0,n.p)((0,n.g)(e),"opacity");t.renderer.visualVariables=(0,n.H)(t.renderer,"opacity")||[],a&&t.renderer.visualVariables.push(a),t.renderer.authoringInfo.visualVariables=(0,n.P)(t.renderer,"opacity")||[],s&&t.renderer.authoringInfo.visualVariables.push(s);const r=t.renderer.uniqueValueInfos[0].symbol.clone();t.renderer.uniqueValueInfos=(0,n.g)(e).uniqueValueInfos,(0,n.o)(e)&&("predominance-size"===(0,n.d)(e)&&!0!==i.includeSizeVariable?(0,n.Y)(t.renderer,r):"predominance"===(0,n.d)(e)&&!0===i.includeSizeVariable&&(0,n.Z)(t.renderer,r))}}return t})}async function o(e,i){const{layer:t,useFeatureReduction:s,mapImageSublayer:l,mapView:o}=e,d=t;i=i||{};const u=(0,n.g)(e),p=(0,n.c)(u,"size"),m=(0,n.p)(u,"size"),h=(0,n.a)(e,u),g=i.fieldInfos?i.fieldInfos:u.uniqueValueGroups[0].classes.map(e=>({field:e.values[0].value,simpleFieldType:n.J.NUMBER}));let S,y=!0;if(i.fieldInfos&&(u.uniqueValueGroups[0].classes.forEach((e,t)=>{e.values[0].value!==i.fieldInfos[t].field&&(y=!1)}),y&&(delete i.fieldInfos,(0,n.O)(i))))return{renderer:u.clone()};y&&(S=u.uniqueValueInfos.map(e=>e.value),h.opacityVisVar=(0,n.c)(u,"opacity"),h.authOpacityVisVar=(0,n.p)(u,"opacity"));const f=(0,n.g)(e),b=f.uniqueValueInfos?.length?f.uniqueValueInfos[0].symbol:null,v=u.defaultSymbol,x=u.defaultLabel,V=u.backgroundFillSymbol;let I=!1;p&&(I=p.minSize.stops?p.minSize.stops[0].size>p.maxSize.stops[0].size:p.minSize>p.maxSize);const M=(0,r.i)(i.includeSizeVariable)?i.includeSizeVariable:!!p,z=g[0];return g[0]=g[1],g[1]=z,await a.createRenderer({layer:d,view:o,fields:c(e,g),predominanceScheme:i.predominanceScheme||(0,n.X)(e),includeOpacityVariable:(0,r.i)(i.includeOpacityVariable)?i.includeOpacityVariable:!!h.opacityVisVar,includeSizeVariable:M,outlineOptimizationEnabled:!l&&((0,r.i)(i.outlineOptimizationEnabled)?i.outlineOptimizationEnabled:!!h.sizeOutlineVisVar),sizeOptimizationEnabled:(0,r.i)(i.sizeOptimizationEnabled)?i.sizeOptimizationEnabled:!!h.sizeAutoVisVar,legendOptions:void 0,defaultSymbolEnabled:(0,r.i)(i.defaultSymbolEnabled)?i.defaultSymbolEnabled:!!v,forBinning:s}).then(t=>{const a=t.renderer.uniqueValueInfos[0].symbol.clone();if(!i.fieldInfos&&p){const e=(0,n.c)(t.renderer,"size");if(e.minDataValue=p.minDataValue,e.maxDataValue=p.maxDataValue,m){const e=(0,n.p)(t.renderer,"size");e.minSliderValue=m.minSliderValue,e.maxSliderValue=m.maxSliderValue}}if(!(0,r.i)(i.includeOpacityVariable)&&y&&h.opacityVisVar&&h.authOpacityVisVar&&(t.renderer.visualVariables=(0,n.H)(t.renderer,"opacity"),t.renderer.authoringInfo.visualVariables=(0,n.P)(t.renderer,"opacity"),t.renderer.visualVariables.push(h.opacityVisVar),t.renderer.authoringInfo.visualVariables=t.renderer.authoringInfo.visualVariables||[],t.renderer.authoringInfo.visualVariables.push(h.authOpacityVisVar)),(0,n.b)(h,t.renderer,{notOpacity:!0}),S&&t.renderer.uniqueValueInfos.sort((e,i)=>{const t=S.indexOf(e.value),a=S.indexOf(i.value);return t>-1&&a>-1&&t<a?-1:t>-1&&a>-1&&t>a?1:t>-1?-1:a>-1?1:0}),y&&t.renderer.uniqueValueInfos.forEach((e,i)=>{e.label=u.uniqueValueInfos[i].label}),b&&t.renderer.uniqueValueInfos?.length){const i=t.renderer.uniqueValueInfos.slice();i.forEach((e,i)=>{let t;y?t=u.uniqueValueInfos[i].symbol:(t=b.clone(),(0,n.y)(t,(0,n.i)(e.symbol))),e.symbol=t}),t.renderer.uniqueValueInfos=i,(0,n.o)(e)&&("predominance-size"!==(0,n.d)(e)||M?"predominance"===(0,n.d)(e)&&M&&(0,n.Z)(t.renderer,a):(0,n.Y)(t.renderer,a))}if(v&&(t.renderer.defaultSymbol=v,t.renderer.defaultLabel=x),V&&(t.renderer.backgroundFillSymbol=V),I){const e=(0,n.c)(t.renderer,"size"),i=e.minSize;e.minSize=e.maxSize,e.maxSize=i}return t})}async function d(e,i){const{layer:t,useFeatureReduction:a,mapView:n}=e,r=t;return i=i||{},await(0,s.default)({layer:r,view:n,fields:i.fieldInfos.map(e=>e.field),forBinning:a})}function c(e,i){return i.map(i=>({name:i.field,label:u(e,i.field)}))}function u(e,i){const t=e.fields.filter(e=>e.layerField.name===i);return t.length?t[0].label:""}},47550:(e,i,t)=>{t.d(i,{a:()=>d,b:()=>o,g:()=>m,u:()=>l});var a=t(5294),s=t(52797),n=(t(54312),t(44345),t(55448),t(34031),t(63438),t(5933),t(28927),t(83368),t(89704),t(66228)),r=(t(56451),t(31521),t(23054),t(5077),t(23795),t(17902),t(87420),t(30161),t(81734),t(1225));t(83552),t(77462),t(49403),t(10281),t(83930),t(66617),t(10628),t(59640),t(64451),t(6176),t(10454),t(29614),t(94916),t(52554),t(2156),t(4038),t(49851),t(75054),t(15223),t(70169),t(47207),t(70852),t(48103),t(39423),t(85681),t(18444),t(42411),t(9767),t(38218),t(91914),t(86605),t(68196),t(440),t(46547),t(6238),t(7299);function l(e,i){const t=(0,r.g)(e),l=a.clone(t.classBreakInfos);t.classBreakInfos=[],l.forEach((e,a)=>{e=function(e,i,t,a){if((0,n.i)(i)&&0!==i)if(i<1){const n=Math.round(1/i);e.minValue="first"===a?Math.floor(e.minValue/i)/n:Math.round(e.minValue/i)/n,e.maxValue="last"===a?Math.ceil(e.maxValue/i)/n:Math.round(e.maxValue/i)/n,e.label=`${t>0?"> ":""}${e.minValue.toLocaleString(s.getLocale(),{maximumSignificantDigits:15})} - ${e.maxValue.toLocaleString(s.getLocale(),{maximumSignificantDigits:15})}`}else e.minValue="first"===a?Math.floor(e.minValue/i)*i:Math.round(e.minValue/i)*i,e.maxValue="last"===a?Math.ceil(e.maxValue/i)*i:Math.round(e.maxValue/i)*i,e.label=`${t>0?"> ":""}${e.minValue.toLocaleString()} - ${e.maxValue.toLocaleString()}`;return e}(e,i,a,0===a?"first":a===l.length-1?"last":void 0),t.addClassBreakInfo({minValue:e.minValue,maxValue:e.maxValue,symbol:e.symbol,label:e.label})})}function o(e,i){const t=(0,r.g)(e).classBreakInfos;let a=i,s=Number.POSITIVE_INFINITY;t.forEach(e=>{a||(a=Math.max(c(e.minValue),c(e.maxValue))),s=Math.min(s,e.maxValue-e.minValue)});const n=[];return s>1e7?(n.push(1e7),n.push(1e6),n.push(1e5),n.push(1e4),n.push(1e3),n.push(100),n.push(10),a>0&&n.push(1),a>1&&n.push(.1),a>2&&n.push(.01)):s>1e6?(n.push(1e6),n.push(1e5),n.push(1e4),n.push(1e3),n.push(100),n.push(10),a>0&&n.push(1),a>1&&n.push(.1),a>2&&n.push(.01)):s>1e5?(n.push(1e5),n.push(1e4),n.push(1e3),n.push(100),n.push(10),a>0&&n.push(1),a>1&&n.push(.1),a>2&&n.push(.01)):s>1e4?(n.push(1e4),n.push(1e3),n.push(100),n.push(10),a>0&&n.push(1),a>1&&n.push(.1),a>2&&n.push(.01)):s>1e3?(n.push(1e3),n.push(100),n.push(10),a>0&&n.push(1),a>1&&n.push(.1),a>2&&n.push(.01),a>3&&n.push(.001)):s>100?(n.push(100),n.push(10),a>0&&n.push(1),a>1&&n.push(.1),a>2&&n.push(.01),a>3&&n.push(.001),a>4&&n.push(1e-4),a>5&&n.push(1e-5)):s>10?(n.push(10),a>0&&n.push(1),a>1&&n.push(.1),a>2&&n.push(.01),a>3&&n.push(.001),a>4&&n.push(1e-4),a>5&&n.push(1e-5),a>6&&n.push(1e-6)):s>1?(a>0&&n.push(1),a>1&&n.push(.1),a>2&&n.push(.01),a>3&&n.push(.001),a>4&&n.push(1e-4),a>5&&n.push(1e-5),a>6&&n.push(1e-6)):s>.1?(a>1&&n.push(.1),a>2&&n.push(.01),a>3&&n.push(.001),a>4&&n.push(1e-4),a>5&&n.push(1e-5),a>6&&n.push(1e-6)):s>.01?(a>2&&n.push(.01),a>3&&n.push(.001),a>4&&n.push(1e-4),a>5&&n.push(1e-5),a>6&&n.push(1e-6)):s>.001?(a>3&&n.push(.001),a>4&&n.push(1e-4),a>5&&n.push(1e-5),a>6&&n.push(1e-6),a>7&&n.push(1e-7)):s>1e-4?(a>4&&n.push(1e-4),a>5&&n.push(1e-5),a>6&&n.push(1e-6),a>7&&n.push(1e-7),a>8&&n.push(1e-8)):s>1e-5&&(a>5&&n.push(1e-5),a>6&&n.push(1e-6),a>7&&n.push(1e-7),a>8&&n.push(1e-8),a>9&&n.push(1e-9)),n}function d(e){const i=(0,r.g)(e);let t=1e10;return i.classBreakInfos.forEach(e=>{t=Math.min(t,u(e.minValue)),t=Math.min(t,u(e.maxValue))}),t}function c(e){let i=1;for(;Math.round(e*i)/i!==e;)i*=10;return Math.log(i)/Math.LN10}function u(e){let i=1e-8;for(;p(Math.round(e/i)*i)===e;)i*=10;return i/10}function p(e){return Number.parseFloat(e.toPrecision(12))}function m(e){let i=0;e.forEach(e=>{(0,n.i)(e.value)?i=Math.max(c(p(e.value)),i):((0,n.i)(e.minValue)&&(i=Math.max(c(p(e.minValue)),i)),(0,n.i)(e.maxValue)&&(i=Math.max(c(p(e.maxValue)),i)),(0,n.i)(e.min)&&(i=Math.max(c(p(e.min)),i)),(0,n.i)(e.max)&&(i=Math.max(c(p(e.max)),i)))}),i=Math.min(i,3);const t=e[0],a=e[e.length-1],s=Math.min(t.minValue??t.min??t.value,a.minValue??a.min??a.value),r=Math.max(t.maxValue??t.max??t.value,a.maxValue??a.max??a.value)-s;return r/e.length<2e-7?i=8:r/e.length<2e-6?i=7:r/e.length<2e-5?i=6:r/e.length<2e-4?i=5:r/e.length<.002?i=4:r/e.length<.02?i=3:r/e.length<.2?i=Math.max(i,2):r/e.length<2&&(i=Math.max(i,1)),Math.round(i)}},51269:(e,i,t)=>{t.r(i),t.d(i,{ArcgisMapConfigSmartMappingTransparency:()=>M});var a=t(73679),s=t(4395),n=t(5294),r=t(54312),l=t(45884),o=t(56451),d=t(18444),c=t(24457),u=t(75430),p=t(1225),m=(t(44345),t(55448),t(62052)),h=(t(34031),t(63438),t(5933),t(89704)),g=t(47550),S=(t(31521),t(23054),t(5077),t(23795),t(17902),t(87420),t(30161),t(81734),t(66228)),y=t(65595),f=(t(77462),t(49403),t(10281),t(83930),t(66617),t(10628),t(59640),t(64451),t(6176),t(10454),t(29614),t(94916),t(52554),t(2156),t(4038),t(49851),t(18383)),b=(t(70169),t(52797),t(47207),t(70852),t(48103),t(39423),t(85681),t(42411),t(9767),t(38218),t(91914),t(86605),t(68196),t(440),t(46547),t(28927),t(6238),t(7299),t(85643)),v=t(73801),x=t(20936);async function V(e,i){const{layer:t,useFeatureReduction:a,mapView:s}=e,n=t;if(!(i=i||{}).fieldInfos&&!i.fieldInfos?.length)throw new Error;const r=i.fieldInfos[0];return await h.createVisualVariable({layer:n,field:r.field,view:s,valueExpression:r.expression,valueExpressionTitle:r.expressionTitle,normalizationField:i.normalizationField,forBinning:a})}const I=s.AH`.block-content-loading{height:150px}.transparency-block{overflow:hidden}.block-section-padding{padding-top:6px}.transparency-range{display:flex;justify-content:space-between}.transparency-range-item{width:49%;display:flex;flex-flow:column;justify-content:space-between}.include-legend{margin:10px 0 0}.slider-box{height:300px;.esri-opacity-slider__histogram-container{width:85px}.esri-opacity-slider .esri-slider .esri-slider__content{height:175px}.esri-opacity-slider{min-width:200px}.esri-opacity-slider .esri-slider .esri-slider__label,.esri-opacity-slider .esri-slider .esri-slider__min,.esri-opacity-slider .esri-slider .esri-slider__max{text-decoration:underline}.esri-opacity-slider .esri-slider .esri-slider__label:hover,.esri-opacity-slider .esri-slider .esri-slider__min:hover,.esri-opacity-slider .esri-slider .esri-slider__max:hover{border:1px solid #bbb;background-color:#f3f3f3;text-decoration:none;z-index:1}}.slider-box-buttons-front{display:flex}.slider-container{overflow:hidden}`;class M extends v.WF{constructor(){super(...arguments),this.isBlockOpen=!1,this.lastSettings={},this.blockSectionNode=(0,b._)(),this.blockNode=(0,b._)(),this.lowInputNode=(0,b._)(),this.highInputNode=(0,b._)(),this.zoomButtonNode=(0,b._)(),this.includeInLegendNode=(0,b._)(),this.currentStopValues=[],this.zigzagClick=!1,this.percentLabelFlip=!1,this.styleSheetStatus="not-loaded",this.smartMappingState=(0,y.u)(),this.histogramStatus=p.s.MISSING,this.statisticsStatus=p.s.MISSING,this.sliderZoomed=!1,this.isLoading=!1,this.open=!1,this.arcgisSmartMappingSymbolTransparencyError=(0,v.lh)()}static{this.properties={histogramStatus:16,statisticsStatus:16,sliderZoomed:16,isLoading:16,open:5}}static{this.styles=I}async setFocus(){await(this.blockNode.value?.setFocus())}async updateStatistics(){this.statisticsStatus=p.s.MISSING,this.statistics=void 0,this.histogramStatus=p.s.MISSING,this.histogram=void 0,this.transparencySlider?.destroy(),this.transparencySlider=void 0,this.sliderZoomed=!1,this.getStatistics()}load(){const e=(0,p.g)(this.smartMappingState),i=(0,p.c)(e,"opacity");this.isBlockOpen=this.open||!!i,this.getStatistics(),this.percentLabelFlip=(0,p.ao)(this.smartMappingState)}loaded(){this.flowItemNode=(0,x.el)(this.el,"calcite-flow-item")}disconnectedCallback(){super.disconnectedCallback(),this.zoomOptionsHandle?.remove()}attributeInputRefHandler(e){e&&(this.dividedByAttributeInputNode=e)}sliderDivRefHandler(e){if(e)if(this.transparencySlider.container)e.append(this.transparencySlider.container);else{const i=document.createElement("div");i.classList.add("slider-container"),e.append(i),this.transparencySlider.container=i}}prepareTransparencySlider(){const{statistics:e,histogram:i,histogramStatus:t,smartMappingState:a}=this,{mapView:s}=a,r=(0,p.g)(a),d=(0,p.c)(r,"opacity"),c=(0,p.p)(r,"opacity"),u=(0,p.K)(a,d.field),h={field:d.field,expression:d.valueExpression,expressionTitle:d.valueExpressionTitle,simpleFieldType:u?.simpleFieldType||p.J.NUMBER},y=(0,p.aE)(h);if(t===p.s.IN_PROGRESS)return!1;let f=c?.minSliderValue,b=c?.maxSliderValue;if(({min:f,max:b}=(0,p.au)({min:f,max:b})),!this.transparencySlider){const t={histogramConfig:{bins:i?.bins,average:Math.round(10*e.avg)/10,standardDeviation:e.stddev,standardDeviationCount:1},style:{trackFillColor:new o.default([84,84,84])},min:f??e.min,max:b??e.max,stops:n.clone(d.stops),precision:(0,g.g)(d.stops)};y&&(t.hasTimeData=!0,(0,m.a)(t,s.timeZone)),this.transparencySlider=new l.default(t),this.transparencySlider&&this.transparencySlider.min===this.transparencySlider.max&&this.transparencySlider.set(t),this.createTransparencySliderChangeEvents()}return(0,S.i)(this.transparencySlider)}createTransparencySliderChangeEvents(){const{smartMappingState:e}=this,i=(0,p.g)(e),t=(0,p.c)(i,"opacity"),a=(0,p.K)(e,t.field),s={field:t.field,expression:t.valueExpression,expressionTitle:t.valueExpressionTitle,simpleFieldType:a?a.simpleFieldType:p.J.NUMBER},n=(0,p.aE)(s);this.transparencySlider&&(this.zoomOptionsHandle?.remove(),this.zoomOptionsHandle=r.watch(()=>this.transparencySlider.zoomOptions,(e,i)=>{this.sliderZoomed&&(i?.min&&!e?.min||i?.max&&!e?.max)&&(this.zigzagClick=!0,this.handleZigzagClick(e))}),this.transparencySlider.on("min-change",e=>{e.value>this.currentStopValues[0]?(this.transparencySlider.stops.forEach((e,i)=>{e.value=this.currentStopValues[i]}),this.onMinMaxChange(this.currentStopValues[0],this.transparencySlider.slider.max,"min")):this.onMinMaxChange(e.value,this.transparencySlider.slider.max,"min")}),this.transparencySlider.on("max-change",e=>{e.value<this.currentStopValues[this.currentStopValues.length-1]?(this.transparencySlider.stops.forEach((e,i)=>{e.value=this.currentStopValues[i]}),this.onMinMaxChange(this.transparencySlider.slider.min,this.currentStopValues[this.currentStopValues.length-1],"max")):this.onMinMaxChange(this.transparencySlider.slider.min,e.value,"max")}),this.transparencySlider.on("thumb-change",e=>{if(n&&0===e.value)return void this.requestUpdate();const i=this.transparencySlider.stops;this.updateRendererStops(i)}),this.transparencySlider.on("thumb-drag",()=>{const e=this.transparencySlider.stops;this.updateRendererStops(e)}))}async handleToggle(e){const{smartMappingState:i}=this,t=(0,p.g)(i);(0,p.f)();const a=(0,p.c)(t,"opacity"),s=e.target;if(!(s.open&&a||!s.open&&!a))if(a){const e=(0,p.p)(t,"opacity");this.lastSettings.opacityVisVar=a,this.lastSettings.authOpacityVisVar=e,t.visualVariables=(0,p.H)(t,"opacity")||[],t.authoringInfo.visualVariables=(0,p.P)(t,"opacity")||[],this.sliderZoomed=!1,(0,p.a4)(i)}else if(this.lastSettings.opacityVisVar)t.visualVariables=(0,p.H)(t,"opacity")||[],t.visualVariables.push(this.lastSettings.opacityVisVar),t.authoringInfo=t.authoringInfo||new d.default({}),this.lastSettings.authOpacityVisVar&&(t.authoringInfo.visualVariables=(0,p.P)(t,"opacity")||[],t.authoringInfo.visualVariables.push(this.lastSettings.authOpacityVisVar)),this.requestUpdate(),(0,p.a4)(i),(0,p.ax)(this.blockNode.value);else{const e=(0,p.ay)(i),t=e?e.layerField.name:"";await this.getOpacityVisualVariable({field:t,simpleFieldType:p.J.NUMBER}),this.requestUpdate()}}async handleResetSlider(){const{smartMappingState:e}=this,i=(0,p.g)(e),t=(0,p.d)(e),a=(0,p.c)(i,"opacity"),s={field:a.field,expression:a.valueExpression,expressionTitle:a.valueExpressionTitle,simpleFieldType:p.J.NUMBER},n=a.normalizationField;if(["predominance","predominance-size"].includes(t))try{await(0,f.c)(e,{includeOpacityVariable:!0}).then(t=>{const a=(0,p.c)(t.renderer,"opacity"),s=(0,p.p)(t.renderer,"opacity");i.visualVariables=(0,p.H)(i,"opacity")||[],i.visualVariables.push(a),i.authoringInfo.visualVariables=(0,p.P)(i,"opacity")||[],i.authoringInfo.visualVariables.push(s),this.includeInLegendNode.value.checked=!a.legendOptions||!!a.legendOptions.showLegend,(0,p.a4)(e),this.updateStatistics(),(0,p.ax)(this.blockNode.value)})}catch(e){this.statisticsStatus=p.s.FAILED,console.log(e)}else await V(e,{fieldInfos:[s],normalizationField:n}).then(async i=>{const t=(0,p.g)(e);if(i.statistics&&(0,S.i)(i.statistics.min)&&(0,S.i)(i.statistics.max)&&i.statistics.min<=i.statistics.max)i.statistics=(0,p.au)(i.statistics),this.statistics=i.statistics,this.statisticsStatus=p.s.SUCCESS,await this.getHistogram(s,n??void 0,i.statistics,i.statistics.min,i.statistics.max);else if(0===i.statistics?.count){const[e,i]=(0,p.aF)(s);this.statistics={min:e,max:i,avg:(i-e)/2,count:0},this.statisticsStatus=p.s.SUCCESS}else this.statisticsStatus=p.s.FAILED;t.visualVariables=(0,p.H)(t,"opacity")||[],t.visualVariables.push(i.visualVariable),t.authoringInfo=t.authoringInfo||new d.default({}),t.authoringInfo.visualVariables=(0,p.P)(t,"opacity")||[],t.authoringInfo.visualVariables.push(i.authoringInfo.visualVariables[0]),(0,p.a4)(e),this.updateStatistics(),(0,p.ax)(this.blockNode.value)}).catch(e=>{console.log(e),this.statisticsStatus=p.s.FAILED})}async handleZoomSlider(e){if(this.histogramStatus===p.s.IN_PROGRESS)return;const{smartMappingState:i}=this,t=(0,p.g)(i);this.sliderZoomed=(0,S.i)(e)?!!e:!this.sliderZoomed;const{sliderZoomed:a,statistics:s}=this,n=(0,p.c)(t,"opacity"),r=(0,p.p)(t,"opacity"),l=a?(0,p.av)(n.stops,r?.minSliderValue??s.min,r?.maxSliderValue??s.max):null,o=(0,p.K)(i,n.field),d=r?.minSliderValue===r?.maxSliderValue;await this.getHistogram({field:n.field,expression:n.valueExpression,expressionTitle:n.valueExpressionTitle,simpleFieldType:o?o.simpleFieldType:p.J.NUMBER},n.normalizationField??void 0,s,l?l.min:d?s.min:r?.minSliderValue??s.min,l?l.max:d?s.max:r?.maxSliderValue??s.max);const c=this.getUpdatedTransparencySliderConfig();this.transparencySlider.set(c)}handleRangeChange(e,i){const{smartMappingState:t}=this,a=e.target;let s=a.value?Number.parseInt(a.value):0;const n=(0,p.g)(t);s<0?s=0:s>100&&(s=100);const r=(0,p.c)(n,"opacity").stops,l=Math.round(100*(1-s/100))/100;"high"===i?r[1].opacity=l:r[0].opacity=l,(0,p.a4)(t);const o=this.getUpdatedTransparencySliderConfig();this.transparencySlider.set(o),this.requestUpdate()}handleIncludeInLegendToggle(){const{smartMappingState:e}=this,i=(0,p.g)(e),t=(0,p.c)(i,"opacity"),a=t.legendOptions;a&&!1===a.showLegend?a?.title?a.showLegend=!0:t.legendOptions=void 0:(t.legendOptions=a||{},t.legendOptions.showLegend=!1),(0,p.a4)(e)}updateRendererStops(e){const{smartMappingState:i}=this,t=(0,p.g)(i),a=(0,p.c)(t,"opacity"),s=(0,p.p)(t,"opacity");a.stops=e,this.transparencySlider.stops=e,this.currentStopValues=a.stops.map(e=>e.value);const n=(0,p.av)(a?.stops,s?.minSliderValue,s?.maxSliderValue);this.sliderZoomed?this.zoomButtonNode.value.disabled=!1:!n||n.minMaxSame||!(0,S.i)(n.min)&&!(0,S.i)(n.max)?this.zoomButtonNode.value.disabled=!0:this.zoomButtonNode.value.disabled=!1,(0,p.a4)(i)}async getOpacityVisualVariable(e,i){const{smartMappingState:t}=this,a=(0,p.g)(t),s=(0,p.d)(t);if(this.statistics=void 0,this.histogram=void 0,this.histogramStatus=p.s.MISSING,this.sliderZoomed=!1,this.statisticsStatus=p.s.IN_PROGRESS,["predominance","predominance-size"].includes(s))try{const e=await(0,f.c)(t,{includeOpacityVariable:!0});(0,p.a4)(t,e.renderer),this.getStatistics(),(0,p.ax)(this.blockNode.value)}catch(e){console.log(e)}else try{const s=await V(t,{fieldInfos:[e],normalizationField:i});if(s.statistics&&(0,S.i)(s.statistics.min)&&(0,S.i)(s.statistics.max)&&s.statistics.min<=s.statistics.max)s.statistics=(0,p.au)(s.statistics),this.statistics=s.statistics,this.statisticsStatus=p.s.SUCCESS,await this.getHistogram(e,i,s.statistics,s.statistics.min,s.statistics.max);else if(0===s.statistics?.count){const[i,t]=(0,p.aF)(e);this.statistics={min:i,max:t,avg:(t-i)/2,count:0},this.statisticsStatus=p.s.SUCCESS}else this.statisticsStatus=p.s.FAILED;a.visualVariables=(0,p.H)(a,"opacity")||[],a.visualVariables.push(s.visualVariable),a.authoringInfo=a.authoringInfo||new d.default({}),a.authoringInfo.visualVariables=(0,p.P)(a,"opacity")||[],a.authoringInfo.visualVariables.push(s.authoringInfo.visualVariables[0]),(0,p.a4)(t),(0,p.ax)(this.blockNode.value)}catch(e){this.statisticsStatus=p.s.FAILED,this.blockSectionNode.value.open=!1,console.log(e)}}getStatistics(){const{smartMappingState:e}=this,{layer:i,useFeatureReduction:t,mapView:a}=e,s=i,n=(0,p.g)(e),r=(0,p.c)(n,"opacity");if(!r)return;const l=(0,p.K)(e,r.field),o={field:r.field,expression:r.valueExpression,expressionTitle:r.valueExpressionTitle,simpleFieldType:l?l.simpleFieldType:p.J.NUMBER},d=r.normalizationField??void 0,u=(0,p.p)(n,"opacity");let m=u?.minSliderValue,h=u?.maxSliderValue;this.statisticsStatus=p.s.IN_PROGRESS,!this.statistics&&s&&setTimeout(()=>{(0,c.default)({layer:s,view:a,field:o.field??void 0,valueExpression:o.expression??void 0,normalizationField:d,forBinning:t,outStatisticTypes:{exclude:["median"]}}).then(e=>{if(0===e.count){const[i,t]=(0,p.aF)(o),a=u?.minSliderValue||i,s=u?.maxSliderValue||t;e={min:a,max:s,avg:(s+a)/2,count:0}}else if(!(0,S.i)(e.avg)||!(0,S.i)(e.min)||!(0,S.i)(e.max))return void(this.statisticsStatus=p.s.FAILED);e=(0,p.au)(e),({min:m,max:h}=(0,p.au)({min:m,max:h})),m=m??e.min,h=h??e.max,this.statistics=e,this.statisticsStatus=p.s.SUCCESS,this.getHistogram(o,d,e,m,h)},e=>{console.log("error-summaryStatistics",e),this.statisticsStatus=p.s.FAILED})},300)}async getHistogram(e,i,t,a,s){const{layer:n,useFeatureReduction:r,mapView:l}=this.smartMappingState,o=n;if((t=t||this.statistics)&&0!==t.count){this.histogramStatus=p.s.IN_PROGRESS;try{const n=await(0,u.default)({layer:o,view:l,field:e.field??void 0,valueExpression:e.expression??void 0,numBins:50,minValue:(0,S.i)(a)?a:t.min??void 0,maxValue:(0,S.i)(s)?s:t.max??void 0,normalizationField:i??void 0,forBinning:r});n&&(this.histogram=n,this.histogramStatus=p.s.SUCCESS)}catch(e){console.log("error-histogram",e),this.histogramStatus=p.s.FAILED}}}async onMinMaxChange(e,i,t){const{statistics:a,smartMappingState:s}=this,n=(0,p.g)(s),r=(0,p.c)(n,"opacity"),l=(0,p.p)(n,"opacity")||{};"min"===t?l.minSliderValue=e:l.maxSliderValue=i;const o=(0,p.av)(r?.stops,l.minSliderValue,l.maxSliderValue);this.sliderZoomed?this.zoomButtonNode.value.disabled=!1:!o||o.minMaxSame||!(0,S.i)(o.min)&&!(0,S.i)(o.max)?this.zoomButtonNode.value.disabled=!0:this.zoomButtonNode.value.disabled=!1,this.sliderZoomed&&(this.adjustedZoomOptions=this.transparencySlider.zoomOptions,"min"===t?(this.adjustedZoomOptions.min=e,this.zoomAdjustment="min"):(this.adjustedZoomOptions.max=i,this.zoomAdjustment="max"));const d=(0,p.K)(s,r.field),c={field:r.field,expression:r.valueExpression,expressionTitle:r.valueExpressionTitle,simpleFieldType:d?d.simpleFieldType:p.J.NUMBER},u=r.normalizationField;await this.getHistogram(c,u,a,e,i),e===l.minSliderValue&&i===l.maxSliderValue&&(this.sliderZoomed=!1);const m=this.getUpdatedTransparencySliderConfig();this.transparencySlider.set(m)}async handleZigzagClick(e){const{statistics:i,smartMappingState:t}=this,a=(0,p.g)(t),s=(0,p.c)(a,"opacity"),n=(0,p.p)(a,"opacity"),r=(0,p.K)(t,s.field),l=s?.normalizationField,o={field:s.field,expression:s.valueExpression,expressionTitle:s.valueExpressionTitle,simpleFieldType:r?r.simpleFieldType:p.J.NUMBER},d=n?.minSliderValue===n?.maxSliderValue;await this.getHistogram(o,l,i,e?.min??(d?i.min:n?.minSliderValue??i.min),e?.max??(d?i.max:n?.maxSliderValue??i.max)),e||(this.sliderZoomed=!1);const c=this.getUpdatedTransparencySliderConfig();this.transparencySlider.set(c)}getUpdatedTransparencySliderConfig(){const{statistics:e,histogram:i,histogramStatus:t,sliderZoomed:a,smartMappingState:s}=this,{mapView:r}=s,l=(0,p.g)(s),o=(0,p.c)(l,"opacity"),d=(0,p.p)(l,"opacity"),c=(0,p.K)(s,o.field),u={field:o.field,expression:o.valueExpression,expressionTitle:o.valueExpressionTitle,simpleFieldType:c?.simpleFieldType||p.J.NUMBER},h=(0,p.aE)(u);if(t===p.s.IN_PROGRESS)return;let g=d?.minSliderValue,S=d?.maxSliderValue;if(({min:g,max:S}=(0,p.au)({min:g,max:S})),"dragging"===this.transparencySlider.slider?.state)return;const y={histogramConfig:{bins:i?.bins,average:Math.round(10*e.avg)/10,standardDeviation:e.stddev,standardDeviationCount:1},min:g??e.min,max:S??e.max,stops:n.clone(o.stops),hasTimeData:h};return h&&(0,m.a)(y,r.timeZone),a?this.zigzagClick||(y.zoomOptions=(0,p.av)(o.stops,d?.minSliderValue,d?.maxSliderValue)):y.zoomOptions=null,this.sliderZoomed&&this.adjustedZoomOptions&&!this.zigzagClick&&(y.zoomOptions=this.adjustedZoomOptions,"min"===this.zoomAdjustment?(this.transparencySlider.slider.min=y.zoomOptions.min,y.zoomOptions.min=null):(this.transparencySlider.slider.max=y.zoomOptions.max,y.zoomOptions.max=null)),this.adjustedZoomOptions=void 0,this.zoomAdjustment=void 0,this.zigzagClick=!1,y}render(){const{smartMappingState:e}=this,{config:i,_messages:t,mapImageSublayer:a,supportsArcade:n,layer:r}=e,{isBlockOpen:l,isLoading:o}=this,d=(0,p.d)(e);if(a&&!n||"geo-rss"===r.type||!(0,p.af)(e))return"";const c=["predominance","predominance-size"].includes(d);return s.qy`<link rel=stylesheet href=${`${i.jsapiUrl}/themes/light/main.css`} @load=${()=>{this.styleSheetStatus="loaded",this.requestUpdate()}} @error=${()=>{this.styleSheetStatus="failed",this.requestUpdate()}}><calcite-block .heading=${c?t.transparency.transparencyByPredominance:t.transparency.transparencyByAttribute} collapsible .expanded=${l} .loading=${o} class="transparency-block" @calciteBlockOpen=${()=>{this.isBlockOpen||(this.isBlockOpen=!0,(0,p.ax)(this.blockNode.value))}} @calciteBlockClose=${()=>this.isBlockOpen=!1} ${(0,b.K)(this.blockNode)}>${this.renderTransparencyToggle()}</calcite-block>`}renderTransparencyToggle(){const{styleSheetStatus:e,smartMappingState:i}=this,{_messages:t}=i,a=(0,p.g)(i),n=(0,p.d)(i),r=(0,p.c)(a,"opacity"),l=["predominance","predominance-size"].includes(n);return s.qy`<calcite-block-section .text=${l?t.transparency.transparencyLabelPredominance:t.transparency.transparencyLabel} toggle-display=switch .expanded=${!!r} @calciteBlockSectionToggle=${this.handleToggle} ${(0,b.K)(this.blockSectionNode)}><div class="block-section-padding">${r&&"loaded"===e?this.renderContent():r&&"not-loaded"===e||!r&&"loaded"===e?this.renderLoading():null}</div></calcite-block-section>`}renderLoading(){const{_messages:e}=this.smartMappingState;return s.qy`<div class="block-content-loading"><calcite-loader .label=${e.loading}></calcite-loader></div>`}renderContent(){return s.qy`${this.renderAttributes()}${this.renderSlider()}${this.renderRange()}${this.renderLegend()}`}renderAttributes(){const{smartMappingState:e}=this,i=(0,p.g)(e),t=(0,p.d)(e);if(["predominance","predominance-size"].includes(t))return"";const a=(0,p.c)(i,"opacity"),n=(0,p.K)(e,a.field),r=a.normalizationField?(0,p.K)(e,a.normalizationField):void 0,l={field:a.field,expression:a.valueExpression,expressionTitle:a.valueExpressionTitle,simpleFieldType:n?n.simpleFieldType:p.J.NUMBER};return s.qy`${this.renderAttributeMain(l)}${this.renderAttributeDividedBy(r)}`}renderAttributeMain(e){const{fields:i,useFeatureReduction:t,_messages:a}=this.smartMappingState,n=!t;return s.qy`<arcgis-map-config-smart-mapping-attribute-input .fieldList=${i.filter(e=>[p.J.DATE,p.J.NUMBER].includes(e.simpleFieldType))} .popoverReferenceElement=${this.flowItemNode} .selectedField=${e} .label=${a.transparency.field} .mode=${n?"expression":"simple"} @arcgisSmartMappingAttributeInputChange=${async e=>{const i=e.detail;await this.getOpacityVisualVariable(i),this.dividedByAttributeInputNode?.clear();const t=this.getUpdatedTransparencySliderConfig();this.transparencySlider.set(t)}} @arcgisSmartMappingAttributeInputError=${e=>this.arcgisSmartMappingSymbolTransparencyError.emit(e.detail??void 0)}></arcgis-map-config-smart-mapping-attribute-input>`}renderAttributeDividedBy(e){const{smartMappingState:i}=this,{fields:t,_messages:a}=i,n=(0,p.g)(i),r=(0,p.c)(n,"opacity"),l=(0,p.K)(i,r.field),o=(r.field,r.valueExpression),d=(r.valueExpressionTitle,l?l.simpleFieldType:p.J.NUMBER);return o||d!==p.J.NUMBER||(0,p.ae)(i,t).number<2?"":s.qy`<arcgis-map-config-smart-mapping-attribute-input .fieldList=${t.filter(e=>e.layerField.name!==r.field&&e.simpleFieldType===p.J.NUMBER)} .popoverReferenceElement=${this.flowItemNode} .label=${a.transparency.dividedBy} .selectedField=${e?{field:e.layerField.name,simpleFieldType:e.simpleFieldType}:void 0} mode=remove @arcgisSmartMappingAttributeInputChange=${async e=>{if(e.detail){const i=e.detail;await this.getOpacityVisualVariable({field:r.field,simpleFieldType:p.J.NUMBER},i.field??void 0)}else{const e=(0,p.g)(i),t=(0,p.c)(e,"opacity");await this.getOpacityVisualVariable({field:t.field,simpleFieldType:p.J.NUMBER},void 0)}}} ${(0,b.K)(this.attributeInputRefHandler)}></arcgis-map-config-smart-mapping-attribute-input>`}renderSlider(){const{statisticsStatus:e,histogramStatus:i,sliderZoomed:t,smartMappingState:a}=this;if(e===p.s.FAILED||e===p.s.MISSING)return this.transparencySlider?.destroy(),this.transparencySlider=void 0,"";if(e===p.s.IN_PROGRESS||i===p.s.IN_PROGRESS&&!this.transparencySlider)return this.renderTransparencySliderLoading();{const e=this.prepareTransparencySlider();let i=!1;const n=(0,p.g)(a),r=(0,p.c)(n,"opacity");if(!t){const e=(0,p.p)((0,p.g)(a),"opacity"),t=(0,p.av)(r.stops,e?.minSliderValue,e?.maxSliderValue);(t?.minMaxSame||!(0,S.i)(t?.min)&&!(0,S.i)(t?.max))&&(i=!0,this.zoomButtonNode.value&&(this.zoomButtonNode.value.disabled=!0))}return this.currentStopValues=r.stops.map(e=>e.value),(e||this.transparencySlider)&&this.transparencySlider&&this.transparencySlider.min!==this.transparencySlider.max?s.qy`<div class="slider-box"><div class="slider-box-buttons-front">${this.renderZoomButton(i)}<div>&nbsp;</div>${this.renderResetButton()}</div><div ${(0,b.K)(this.sliderDivRefHandler)}></div></div>`:this.transparencySlider&&this.transparencySlider.min===this.transparencySlider.max?"":this.renderTransparencySliderLoading()}}renderTransparencySliderLoading(){const{_messages:e}=this.smartMappingState;return s.qy`<div class="slider-box"><calcite-loader .label=${e.loading}></calcite-loader></div>`}renderZoomButton(e){const{_messages:i}=this.smartMappingState,{sliderZoomed:t}=this;return s.qy`<arcgis-map-config-smart-mapping-action .text=${i.transparency.zoomSlider} .icon=${t?"magnifyingGlassMinus":"magnifyingGlassPlus"} .disabled=${e} @click=${()=>this.handleZoomSlider()} ${(0,b.K)(this.zoomButtonNode)}></arcgis-map-config-smart-mapping-action>`}renderResetButton(){const{_messages:e}=this.smartMappingState;return s.qy`<arcgis-map-config-smart-mapping-action .text=${e.transparency.resetSlider} icon=undo @click=${()=>this.handleResetSlider()}></arcgis-map-config-smart-mapping-action>`}renderRange(){const{percentLabelFlip:e,smartMappingState:i}=this,{_messages:t}=i,a=(0,p.g)(i),n=(0,p.c)(a,"opacity").stops,r=Math.round(100-100*n[1].opacity),l=Math.round(100-100*n[0].opacity);return this.highInputNode.value&&(this.highInputNode.value.value=`${r}`),this.lowInputNode.value&&(this.lowInputNode.value.value=`${l}`),s.qy`<calcite-label>${t.transparency.transparencyRange}</calcite-label><div class="transparency-range"><div class="transparency-range-item"><calcite-label scale=s>${t.transparency.transparencyHighValues}<calcite-input-number .prefixText=${e?"%":void 0} .suffixText=${e?void 0:"%"} .value=${""+(100-Math.round(100*n[1].opacity))} min=0 max=100 step=1 scale=s number-button-type=vertical @calciteInputNumberInput=${e=>this.handleRangeChange(e,"high")} .label=${t.transparency.transparencyHighValues} ${(0,b.K)(this.highInputNode)}></calcite-input-number></calcite-label></div><div class="transparency-range-item"><calcite-label scale=s>${t.transparency.transparencyLowValues}<calcite-input-number .prefixText=${e?"%":void 0} .suffixText=${e?void 0:"%"} .value=${""+(100-Math.round(100*n[0].opacity))} min=0 max=100 step=1 scale=s number-button-type=vertical @calciteInputNumberInput=${e=>this.handleRangeChange(e,"low")} .label=${t.transparency.transparencyLowValues} ${(0,b.K)(this.lowInputNode)}></calcite-input-number></calcite-label></div></div>`}renderLegend(){const{smartMappingState:e}=this,{_messages:i}=e,t=(0,p.g)(e);let a=!0;const n=(0,p.c)(t,"opacity").legendOptions;return n&&!1===n.showLegend&&(a=!1),s.qy`<calcite-label class="include-legend" layout=inline-space-between>${i.transparency.includeInLegend}<calcite-switch .checked=${a} @calciteSwitchChange=${()=>this.handleIncludeInLegendToggle()} ${(0,b.K)(this.includeInLegendNode)}></calcite-switch></calcite-label>`}}(0,a.c)("arcgis-map-config-smart-mapping-transparency",M)},62052:(e,i,t)=>{t.d(i,{a:()=>s,b:()=>r,d:()=>l,u:()=>n});var a=t(52797);function s(e,i){e.labelFormatFunction=e=>o(e,i,"short-date"),e.inputFormatFunction=e=>o(e,i,"short-date"),e.inputParseFunction=e=>function(e,i){if(!e)return e;let t;if(i&&"system"!==i)if("unknown"===i)t=e;else{const a=new Date;t=e+(new Date(a.toLocaleString("en-US",{timeZone:"utc"})).getTime()-new Date(a.toLocaleString("en-US",{timeZone:i})).getTime())}else t=e+6e4*(new Date).getTimezoneOffset();return console.log("mapTZToUTC",e," - ",new Date(e).toISOString()," - ",new Date(t).toISOString()),t}(Date.parse(e),i)}function n(e,i){let t;if(i&&"system"!==i)if("unknown"===i)t=new Date(e).toISOString();else{const a=(new Date).getTimezoneOffset(),s=new Date(e).toLocaleString("en-US",{timeZone:i});t=new Date(new Date(s).getTime()-6e4*a).toISOString()}else{const i=(new Date).getTimezoneOffset();t=new Date(e-6e4*i).toISOString()}return t}function r(e,i,t){let a;if(i&&"system"!==i)if("unknown"===i)a=new Date(e).toISOString();else{const t=(new Date).getTimezoneOffset(),s=new Date(e).toLocaleString("en-US",{timeZone:i});a=new Date(new Date(s).getTime()-6e4*t).toISOString()}else{const i=(new Date).getTimezoneOffset();a=new Date(e-6e4*i).toISOString()}return a=t?a.substring(11,19):a.substring(11,16),a}function l(e,i){let t,a=new Date(e);if(a=new Date(a.getTime()-6e4*a.getTimezoneOffset()),i&&"system"!==i)if("unknown"===i)t=a.getTime();else{const e=new Date(a.toLocaleString("en-US",{timeZone:"utc"})).getTime()-new Date(a.toLocaleString("en-US",{timeZone:i})).getTime();t=a.getTime()+e}else{const e=(new Date).getTimezoneOffset();t=a.getTime()+6e4*e}return t}function o(e,i,t){let s;return s="unknown"===i?a.formatDate(e,{...a.convertDateFormatToIntlOptions(t),timeZone:"utc",timeZoneName:"shortOffset"}):a.formatDate(e,{...a.convertDateFormatToIntlOptions(t),timeZone:i}),s}},65595:(e,i,t)=>{t.d(i,{c:()=>r,u:()=>l});var a=t(20936),s=t(1225),n=(t(54312),t(44345),t(55448),t(52797),t(34031),t(63438),t(5933),t(28927),t(83368),t(89704),t(5294),t(18423),t(96086),t(91813),t(21255),t(13078),t(21303),t(12627),t(56451),t(31521),t(23054),t(5077),t(23795),t(17902),t(87420),t(30161),t(81734),t(75698),t(10628),t(59640),t(64451),t(6176),t(83552));t(77462),t(49403),t(10281),t(83930),t(66617),t(10454),t(29614),t(94916),t(52554),t(2156),t(4038),t(49851),t(75054),t(15223),t(70169),t(47207),t(70852),t(48103),t(39423),t(85681),t(18444),t(42411),t(9767),t(38218),t(91914),t(86605),t(68196),t(440),t(46547),t(6238),t(7299);function r(e){e.selectedFields=[],e.layerFields=void 0,e.fields=void 0,e.hideLayerTitle=!1,e.supportsArcade=!1,e.stringFieldsCount=-1,e.dateFieldsCount=-1,e.numberFieldsCount=-1,e.containsFlow=!0,e.oneFeatureResponseStatus=s.s.MISSING,e.selectedAttribute=void 0,e.selectedAttributeText=void 0,e.selectedTypeValue=void 0,e.selectedValue=void 0,e.lastDefault=void 0,e.lastDefaults=void 0,e.dotColorSelected=void 0,e.backgroundStyleSelected=void 0,e.lastSettings=void 0,e.classedSymbolSelectedIdx=void 0,e.allUniqueValues=void 0,e.useFeatureReduction=void 0,e.symbolStylerConfig={},e.allowTimeSeriesConfiguration=!1,e.rasterInfo=void 0}function l(){const e=(0,n.Gk)(),i=e;e.manager.onLoad(()=>{i.smartMappingState=function(e,i){const t=o.get(e);if(t)return t;const s=(0,a.el)(e,i);return s&&"store"in s?(o.set(e,s.store),s.store):null}(e.el,"arcgis-map-config-smart-mapping")})}const o=new WeakMap}}]);