/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-20bfff.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-20bfff"],{3826:(e,i,a)=>{a.d(i,{a:()=>t,b:()=>r,c:()=>s,d:()=>n});const n=(0,a(37762).c)({typeKeywords:[],customParameters:[],analyzedLocationTypes:[],allowStoredAuth:!0,isSecured:null,checkAuth:!1}),t=n.state,r=n.state,s=n.state},44069:(e,i,a)=>{a.d(i,{A:()=>t,a:()=>r,b:()=>s,c:()=>o,d:()=>l,u:()=>n});const n=["esriFieldTypeOID","esriFieldTypeGlobalID"],t={"file geodatabase":"filegeodatabase",shapefile:"shapefile",geojson:"geojson",csv:"CSV","microsoft excel":"excel",geopackage:"geoPackage","service definition":"serviceDefinition"},r={Shapefile:"shapefile","File Geodatabase":"fileGeodatabase",CSV:"csv","Microsoft Excel":"excel",GeoJson:"geojson",GeoPackage:"geoPackage"},s={csv:"CSV",excel:"Microsoft Excel",shapefile:"Shapefile",fgdb:"File Geodatabase",geojson:"GeoJson",googlesheets:"Microsoft Excel"},l=["zip","csv","xls","xlsx","geojson","gpkg","json","sd"],o=["zip","csv","xls","xlsx"]},46904:(e,i,a)=>{a.d(i,{a:()=>s,b:()=>r,c:()=>d,d:()=>c,e:()=>u,f:()=>p,g:()=>y,i:()=>l,u:()=>o});a(93814);var n=a(41473);function t(e){var i;return!!(null===(i=e.owner)||void 0===i?void 0:i.toLowerCase().includes("esri"))}function r(e){var i;return t(e)&&!!(null===(i=e.typeKeywords)||void 0===i?void 0:i.includes("Requires Credits"))}function s(e){var i;return t(e)&&!!(null===(i=e.typeKeywords)||void 0===i?void 0:i.includes("Requires Subscription"))}function l(e,i){return e.owner===i.username}function o(e,i){return l(e,i)||function(e,i){var a;if(null!=e.isAdmin)return!!e.isAdmin;const n=e.owner,t="admin"===e.itemControl,r=["esri_livingatlas","esri_demographics","esri_boundaries"];if((null===(a=e.portal)||void 0===a?void 0:a.isPortal)&&!l(e,i)&&t&&n.includes("esri_")&&!r.includes(n))return!1;return t}(e,i)}const d=(e,i)=>!!i.orgId&&e.every(e=>e.isOrgItem),c=(e,i)=>`${(0,n.a)(i)}item.html?id=${e}`,u=(e,i)=>`${(0,n.g)(i)}/content/users/${e}`,p=e=>e.reduce((e,i)=>(e[i.owner]=e[i.owner]?[...e[i.owner],i.id]:[i.id],e),{}),y=(e,i)=>`${(0,n.a)(i)}content/items/${e}`},51716:(e,i,a)=>{a.r(i),a.d(i,{arcgis_new_item_pages_append_key_pair_select:()=>d});var n=a(87849),t=a(3826),r=a(44069),s=a(95878),l=a(69280),o=a(59317);a(37762),a(54077),a(1654),a(46904),a(93814),a(41473),a(10578),a(29599),a(83692),a(931),a(54251),a(15912);const d=class{constructor(e){(0,n.r)(this,e),this.newItemUpdatePage=(0,n.c)(this,"newItemUpdatePage",7),this.newItemPrevPage=(0,n.c)(this,"newItemPrevPage",7),this.workflowComplete=(0,n.c)(this,"workflowComplete",7),this.handleTimezoneChange=e=>{this.selectedTimezone=e.detail},this.handleKeyPairChange=e=>{this.selectedKeyPair=e.detail},this.i18n=void 0,this.selectedKeyPair=void 0,this.selectedTimezone=void 0,this.oidFieldSelected=!1,this.insertAttachmentsEnabled=!1,this.featureAttachmentOption=null,this.error=void 0}handleNext(){if("add"!==t.a.addAppendSelectOption){if(Object.values(this.selectedKeyPair).includes(this.noneString))return void(this.error={title:s.u.i18n.error,message:this.i18n.noKeyPair});t.a.uidPair=this.selectedKeyPair}t.a.timezone=this.selectedTimezone,t.a.insertAttachmentsEnabled=this.insertAttachmentsEnabled,t.a.featureAttachmentOption=this.featureAttachmentOption,this.newItemUpdatePage.emit("appendMatchFields")}async handlePrev(e){var i;(null===(i=t.a.analyzeResults.publishParameters.layers)||void 0===i?void 0:i.length)>1||(e.preventDefault(),t.a.uidPair=null,this.newItemPrevPage.emit())}componentWillLoad(){var e,i;const{originalFileName:a,dataLayer:n,addAppendSelectOption:r}=t.a;this.i18n=s.u.i18n.appendKeyValuePair,this.serviceLayer=t.a.sourceDataLayer,this.selectedTimezone=null!==(e=t.a.timezone)&&void 0!==e?e:(null===(i=null===o.c||void 0===o.c?void 0:o.c.portal)||void 0===i?void 0:i.isPortal)?"UTC":"GMT",this.noneString=`<${s.u.i18n.appendKeyValuePair.noneField}>`,this.timezoneDescription=this.i18n.timezoneDescription.replace("${uploadedFileName}",a),this.canChooseAttachments="overwrite"!==r&&"File Geodatabase"===t.a.type&&this.serviceLayer.hasAttachments&&n.hasAttachments,t.a.attachmentsEnabled=this.canChooseAttachments,this.findKeyPairs()}findKeyPairs(){var e;const i={},a=this.serviceLayer.fields||[],n=this.serviceLayer.indexes||[],s=t.a.backupLayerFields;n.filter(e=>null==e?void 0:e.isUnique).forEach(e=>{var i;((null===(i=e.fields)||void 0===i?void 0:i.split(","))||[]).forEach(e=>{a.some(i=>i.name.toLowerCase()===e.toLowerCase()&&(i.isUniqueIndex=!0,!0))})}),this.serviceUIDFields=a.filter(e=>e.type&&r.u.includes(e.type)||e.isUniqueIndex).sort((e,i)=>e.name.localeCompare(i.name)),this.serviceUIDFields.forEach(e=>{const a=[];s.forEach(i=>{(0,l.c)(e,i)&&a.push(i.name)}),i[e.name]={name:e.name,type:e.type,idx:0,isUniqueIndex:null==e?void 0:e.isUniqueIndex,possibleMatches:[this.noneString,...a],disabled:!0}}),this.finalKeyPairs=Object.assign({[this.noneString]:{name:this.noneString,type:"None",possibleMatches:[this.noneString]}},i),this.selectedKeyPair=null!==(e=t.a.uidPair)&&void 0!==e?e:this.finalKeyPairs[this.noneString],t.a.serviceUIDFields=this.serviceUIDFields}render(){const{error:e,i18n:i,timezoneDescription:a,canChooseAttachments:r}=this,{addAppendSelectOption:s,backupLayerFields:l}=t.a,o="add"===s,d=null==l?void 0:l.some(e=>"esriFieldTypeDate"===e.type);return(0,n.h)(n.H,{key:"04aff8f8a455f3a915e4ac0a5db8ff6002e30f06"},!o&&(0,n.h)("div",{key:"e27f8eaf50263e3f57e3f97a60ef63253764657f",class:"section"},(0,n.h)("arcgis-new-item-append-key-value-pair",{key:"b18195be466f9241ad1d7f4287a11afced5ec73e",keyPairs:this.finalKeyPairs,onKeyPairChange:this.handleKeyPairChange})),d&&(0,n.h)("div",{key:"2416fc255261982dfdb4d5d68f3a70d55f2f387a",class:"section"},(0,n.h)("arcgis-new-item-description",{key:"9b6c45320ca18c478d3cb526c1c15d0fad32f780",header:i.selectTimeZone,content:i.timeZone}),(0,n.h)("div",{key:"5f77ca3edf9bdae916a51b0db8042ca9d02ef50a",class:"timezone-wrapper"},(0,n.h)("arcgis-new-item-timezone-dropdown",{key:"e985d33e5c3dd7365ca77cd58256c959491b0f62",class:"timezone",onTimezoneChange:this.handleTimezoneChange,defaultTimezone:this.selectedTimezone,subTitle:a}))),r&&(0,n.h)("div",{key:"ac796fc812b85f4716b1c2e66752409b6e5529ef",class:"section"},(0,n.h)("div",{key:"708c594ed2a50dc8509345bd292f338508f022e6",class:"header"},i.attachmentOptions),(0,n.h)("calcite-label",{key:"924fabf940b961af286a1912bb28d583dc097fae"},i.chooseAttachments,(0,n.h)("div",{key:"bb9b9ba95e66b9fdc116210bf9cdb5e36edc061d",class:"attachments-toggle"},i.includeAttachments,(0,n.h)("calcite-switch",{key:"bdc81501bfd0228af5caa5dc7d223a9b39a12e73",onCalciteSwitchChange:e=>{this.insertAttachmentsEnabled=e.target.checked}})))),(0,n.h)("arcgis-new-item-alert",{key:"c6c948d1d2ac939e4e90b8e9175d597c97b1c6dd",active:"esriFieldTypeOID"===this.selectedKeyPair.type,kind:"warning",heading:i.learnMoreUIDTitle}),(0,n.h)("arcgis-new-item-alert",{key:"218ec6f1d5cebe916d7c552c6b5c74b8573d4f55",heading:null==e?void 0:e.title,description:null==e?void 0:e.message,active:!!e,kind:"danger",onAlertDismiss:()=>this.error=null}))}get el(){return(0,n.a)(this)}};d.style=".timezone-wrapper{background-color:var(--calcite-color-background)}.timezone{margin-bottom:0.75rem;display:block}.header{padding-bottom:0.5rem;font-size:1rem;font-weight:500;color:var(--calcite-color-text-1)}.attachments-toggle{display:flex;justify-content:space-between;background-color:var(--calcite-color-foreground-1);padding:0.5rem;border:1px solid var(--calcite-ui-border-input)}.section{margin-bottom:1.5rem}"},54077:(e,i,a)=>{a.d(i,{a:()=>c,b:()=>T,c:()=>l,d:()=>h,e:()=>o,f:()=>p,g:()=>u,i:()=>m});var n=a(4429),t=a(1654),r=a(3826),s=a(10578);const l={WORLD:"World",EU:"Europe",AD:"Andorra",AE:"United Arab Emirates",AF:"Afghanistan",AG:"Antigua and Barbuda",AI:"Anguilla",AL:"Albania",AM:"Armenia",AO:"Angola",AQ:"Antarctica",AR:"Argentina",AS:"American Samoa",AT:"Austria",AU:"Australia",AW:"Aruba",AZ:"Azerbaijan",BA:"Bosnia and Herzegovina",BB:"Barbados",BD:"Bangladesh",BE:"Belgium",BF:"Burkina Faso",BG:"Bulgaria",BH:"Bahrain",BI:"Burundi",BJ:"Benin",BL:"Saint Barth\xe9lemy",BM:"Bermuda",BN:"Brunei Darussalam",BO:"Bolivia, Plurinational State of",BQ:"Bonaire, Sint Eustatius and Saba",BR:"Brazil",BS:"Bahamas",BT:"Bhutan",BV:"Bouvet Island",BW:"Botswana",BY:"Belarus",BZ:"Belize",CA:"Canada",CD:"Congo, the Democratic Republic of the",CF:"Central African Republic",CG:"Congo",CH:"Switzerland",CI:"C\xf4te d'Ivoire",CK:"Cook Islands",CL:"Chile",CM:"Cameroon",CN:"China",CO:"Colombia",CR:"Costa Rica",CU:"Cuba",CV:"Cape Verde",CW:"Cura\xe7ao",CY:"Cyprus",CZ:"Czech Republic",DE:"Germany",DJ:"Djibouti",DK:"Denmark",DM:"Dominica",DO:"Dominican Republic",DZ:"Algeria",EC:"Ecuador",EE:"Estonia",EG:"Egypt",EH:"Western Sahara",ER:"Eritrea",ES:"Spain",ET:"Ethiopia",FI:"Finland",FJ:"Fiji",FK:"Falkland Islands (Malvinas)",FM:"Micronesia, Federated States of",FO:"Faroe Islands",FR:"France",GA:"Gabon",GB:"United Kingdom",GD:"Grenada",GE:"Georgia",GF:"French Guiana",GG:"Guernsey",GH:"Ghana",GI:"Gibraltar",GL:"Greenland",GM:"Gambia",GN:"Guinea",GP:"Guadeloupe",GQ:"Equatorial Guinea",GR:"Greece",GS:"South Georgia and the South Sandwich Islands",GT:"Guatemala",GW:"Guinea-Bissau",GY:"Guyana",HK:"Hong Kong",HM:"Heard Island and McDonald Islands",HN:"Honduras",HR:"Croatia",HT:"Haiti",HU:"Hungary",ID:"Indonesia",IE:"Ireland",IL:"Israel",IM:"Isle of Man",IN:"India",IO:"British Indian Ocean Territory",IQ:"Iraq",IR:"Iran, Islamic Republic of",IS:"Iceland",IT:"Italy",JE:"Jersey",JM:"Jamaica",JO:"Jordan",JP:"Japan",KE:"Kenya",KG:"Kyrgyzstan",KH:"Cambodia",KI:"Kiribati",KM:"Comoros",KN:"Saint Kitts and Nevis",KP:"Korea, Democratic People's Republic of",KR:"Korea, Republic of",KW:"Kuwait",KY:"Cayman Islands",KZ:"Kazakhstan",LA:"Lao People's Democratic Republic",LB:"Lebanon",LC:"Saint Lucia",LI:"Liechtenstein",LK:"Sri Lanka",LR:"Liberia",LS:"Lesotho",LT:"Lithuania",LU:"Luxembourg",LV:"Latvia",LY:"Libya",MA:"Morocco",MC:"Monaco",MD:"Moldova, Republic of",ME:"Montenegro",MF:"Saint Martin (French part)",MG:"Madagascar",MH:"Marshall Islands",MK:"Macedonia, the former Yugoslav Republic of",ML:"Mali",MM:"Myanmar",MN:"Mongolia",MO:"Macao",MP:"Northern Mariana Islands",MQ:"Martinique",MR:"Mauritania",MS:"Montserrat",MT:"Malta",MU:"Mauritius",MV:"Maldives",MW:"Malawi",MX:"Mexico",MY:"Malaysia",MZ:"Mozambique",NA:"Namibia",NC:"New Caledonia",NE:"Niger",NG:"Nigeria",NI:"Nicaragua",NL:"Netherlands",NO:"Norway",NP:"Nepal",NR:"Nauru",NU:"Niue",NZ:"New Zealand",OM:"Oman",PA:"Panama",PE:"Peru",PF:"French Polynesia",PG:"Papua New Guinea",PH:"Philippines",PK:"Pakistan",PL:"Poland",PM:"Saint Pierre and Miquelon",PN:"Pitcairn",PS:"Palestine, State of",PT:"Portugal",PW:"Palau",PY:"Paraguay",QA:"Qatar",RE:"R\xe9union",RO:"Romania",RS:"Serbia",RU:"Russian Federation",RW:"Rwanda",SA:"Saudi Arabia",SB:"Solomon Islands",SC:"Seychelles",SD:"Sudan",SE:"Sweden",SG:"Singapore",SH:"Saint Helena, Ascension and Tristan da Cunha",SI:"Slovenia",SJ:"Svalbard and Jan Mayen",SK:"Slovakia",SL:"Sierra Leone",SM:"San Marino",SN:"Senegal",SO:"Somalia",SR:"Suriname",SS:"South Sudan",ST:"Sao Tome and Principe",SV:"El Salvador",SX:"Sint Maarten (Dutch part)",SY:"Syrian Arab Republic",SZ:"Swaziland",TC:"Turks and Caicos Islands",TD:"Chad",TF:"French Southern Territories",TG:"Togo",TH:"Thailand",TJ:"Tajikistan",TK:"Tokelau",TL:"Timor-Leste",TM:"Turkmenistan",TN:"Tunisia",TO:"Tonga",TR:"Turkey",TT:"Trinidad and Tobago",TV:"Tuvalu",TW:"Taiwan, Province of China",TZ:"Tanzania, United Republic of",UA:"Ukraine",UG:"Uganda",UM:"United States Minor Outlying Islands",US:"United States",UY:"Uruguay",UZ:"Uzbekistan",VA:"Holy See (Vatican City State)",VC:"Saint Vincent and the Grenadines",VE:"Venezuela, Bolivarian Republic of",VG:"Virgin Islands, British",VN:"Vietnam",VU:"Vanuatu",WF:"Wallis and Futuna",WS:"Samoa",XK:"Republic of Kosovo",YE:"Yemen",YT:"Mayotte",ZA:"South Africa",ZM:"Zambia",ZW:"Zimbabwe"};function o(e,i){const{sourceCountry:a,locationType:n,analyzeResults:t,candidateFieldsType:s,coordinateFieldType:l,type:o,standardizedFieldNames:u,selectedFields:p}=r.a,y=c(),g=i?r.a.backupLayerFields:Object.values(p),m=Object.assign(Object.assign({locationType:n||"address",sourceCountry:a,candidateFieldsType:s},"coordinates"===n&&function(e,i){return e.reduce((e,a)=>{switch(a.locationType){case"latitude":e.latitudeFieldName=a.name,i||(e.coordinateFieldType="LatitudeAndLongitude");break;case"longitude":e.longitudeFieldName=a.name,i||(e.coordinateFieldType="LatitudeAndLongitude");break;case"mgrs":"MGRS"===i&&(e.coordinateFieldName=a.name,i||(e.coordinateFieldType="MGRS"));break;case"usng":"USNG"===i&&(e.coordinateFieldName=a.name,i||(e.coordinateFieldType="USNG"))}return e},{coordinateFieldType:i})}(g,l)),"address"===n&&{addressFields:d(g,e,u)});let h;return h=i||"Microsoft Excel"!==o?Object.assign(Object.assign({},t.publishParameters),m):Object.assign(Object.assign({},t.publishParameters),{layers:[Object.assign(Object.assign({},y),m)],hasStaticData:!0,maxRecordCount:2e3,layerInfo:{capabilities:"Query"}}),"coordinates"===n&&["USNG","MGRS"].includes(l)&&(delete h.latitudeFieldName,delete h.longitudeFieldName),h}function d(e,i,a){if("Single"===i){const i=Object.keys(a)[0]||"Address",n=e.find(({locationType:e})=>e===i||"address"===(null==e?void 0:e.toLowerCase()));return{[i]:(null==n?void 0:n.name)||""}}return e.reduce((e,i)=>("unknown"!==i.locationType&&(e[i.locationType]=i.name),e),{})}function c(e,i){var a,n,t,s,l,o,d;const{type:c,analyzeResults:u=e,selectedSheet:p}=r.a,y=null==u?void 0:u.publishParameters;if(i)return"CSV"===c?null==y?void 0:y.layerInfo:null!==(n=null===(a=null==y?void 0:y.layers)||void 0===a?void 0:a[p])&&void 0!==n?n:null===(t=null==y?void 0:y.layers)||void 0===t?void 0:t[0];switch(c){case"Microsoft Excel":return null!==(l=null===(s=null==y?void 0:y.layers)||void 0===s?void 0:s[p])&&void 0!==l?l:null===(o=null==y?void 0:y.layers)||void 0===o?void 0:o[0];case"GeoJson":return null===(d=null==y?void 0:y.layers)||void 0===d?void 0:d[0];default:return null==y?void 0:y.layerInfo}}function u(e){switch(e){case"esriFieldTypeBigInteger":return["esriFieldTypeBigInteger","esriFieldTypeDouble","esriFieldTypeString"];case"esriFieldTypeSmallInteger":return["esriFieldTypeSmallInteger","esriFieldTypeInteger","esriFieldTypeSingle","esriFieldTypeDouble","esriFieldTypeString"];case"esriFieldTypeInteger":return["esriFieldTypeInteger","esriFieldTypeSingle","esriFieldTypeDouble","esriFieldTypeString"];case"esriFieldTypeSingle":return["esriFieldTypeSingle","esriFieldTypeDouble","esriFieldTypeString"];case"esriFieldTypeDouble":return["esriFieldTypeDouble","esriFieldTypeString"];case"esriFieldTypeDate":return["esriFieldTypeDate","esriFieldTypeString"];case"esriFieldTypeDateOnly":return["esriFieldTypeDateOnly","esriFieldTypeString"];case"esriFieldTypeTimeOnly":return["esriFieldTypeTimeOnly","esriFieldTypeString"];case"esriFieldTypeTimestampOffset":return["esriFieldTypeTimestampOffset","esriFieldTypeString"];case"esriFieldTypeOID":return["esriFieldTypeOID","esriFieldTypeInteger","esriFieldTypeString"];default:return["esriFieldTypeString"]}}function p(e,i){const a=null==i?void 0:i.filter(i=>i.url===e);return(null==a?void 0:a.length)?a.shift():null}function y(e=""){return!!(null==e?void 0:e.match(/(arcgis\.com.*\/servers\/[\da-z\.-]+\/rest\/services\/world\/geocodeserver).*/gi))}function g(e=""){return!!(null==e?void 0:e.match(/(arcgis\.com\/arcgis\/rest\/services\/world\/geocodeserver).*/gi))}function m(e){return!!e&&(g(e)||y(e))}function h(e,i,a){let n=a||e||i||"";return n="wo"===(null==n?void 0:n.toLowerCase())?"world":n,l[n.toUpperCase()]||(n="world"),n}function T(e,i,a){var r;let l=(0,s.m)(i)&&(0,s.o)(i);const o=function(e,i,a){return e.filter(e=>{const t=Object.assign({},e),r=g(null==t?void 0:t.url),s=y(null==t?void 0:t.url);return(r||s)&&((0,n.c)(t.name)?"Esri World Geocoder"!==t.name&&"ArcGIS Geocoding service"!==t.name||(t.name="ArcGIS Geocoding Service"):t.name="ArcGIS World Geocoding Service"),(!r||!a&&!i)&&((0,n.c)(t.batch)?!!t.batch:r||s)})}(e,!l,a),d=null===(r=o[0])||void 0===r?void 0:r.url;if(null==o?void 0:o.length){l=!0;const e=p(o[0].url,o),n=g(null==e?void 0:e.url),r=y(null==e?void 0:e.url),s=n||r;let c=s||!!e.batch;return{allowGeocode:(!(0,t.g)(i)||l)&&(!a&&c||a&&(!n||r)&&c),isAgoWorldGeocodeServer:n,isServiceProxyAgoWorldGeocodeServer:r,isWorldGeocodeServer:s,geocodeServers:o,geocodeServiceUrl:d}}return null}},69280:(e,i,a)=>{a.d(i,{a:()=>c,c:()=>o,g:()=>d,h:()=>u});var n=a(3826),t=a(54077),r=a(15912),s=a(95878),l=function(e,i){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&i.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var t=0;for(n=Object.getOwnPropertySymbols(e);t<n.length;t++)i.indexOf(n[t])<0&&Object.prototype.propertyIsEnumerable.call(e,n[t])&&(a[n[t]]=e[n[t]])}return a};function o(e,i){var a;const n=(null==e?void 0:e.type)||null,t=(null==i?void 0:i.type)||null;return t&&(t===n||(null===(a={esriFieldTypeSmallInteger:["esriFieldTypeSmallInteger"],esriFieldTypeInteger:["esriFieldTypeInteger","esriFieldTypeSmallInteger"],esriFieldTypeSingle:["esriFieldTypeSingle","esriFieldTypeDouble"],esriFieldTypeDouble:["esriFieldTypeDouble","esriFieldTypeSingle","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeBigInteger"],esriFieldTypeDate:["esriFieldTypeDate"],esriFieldTypeString:["esriFieldTypeString","esriFieldTypeSmallInteger","esriFieldTypeInteger","esriFieldTypeSingle","esriFieldTypeDouble","esriFieldTypeDate","esriFieldTypeGUID","esriFieldTypeDateOnly","esriFieldTypeTimeOnly","esriFieldTypeTimestampOffset","esriFieldTypeBigInteger"],esriFieldTypeGUID:["esriFieldTypeGUID","esriFieldTypeString"],esriFieldTypeOID:["esriFieldTypeOID","esriFieldTypeSmallInteger","esriFieldTypeInteger"],esriFieldTypeGlobalID:["esriFieldTypeGlobalID","esriFieldTypeGUID","esriFieldTypeString"],esriFieldTypeDateOnly:["esriFieldTypeDateOnly"],esriFieldTypeTimeOnly:["esriFieldTypeTimeOnly"],esriFieldTypeTimestampOffset:["esriFieldTypeTimestampOffset"],esriFieldTypeBigInteger:["esriFieldTypeBigInteger"]}[n])||void 0===a?void 0:a.includes(t)))}function d(e){var i;const{timezone:a,analyzeResults:o,type:d,fieldMappings:c,dataLayer:u,id:p,portal:y,uidPair:g,addAppendSelectOption:m,sourceDataLayer:h,attachmentsEnabled:T,insertAttachmentsEnabled:b,featureAttachmentOption:f}=e;let F,v;const{publishParameters:S}=o,I=l(o,["publishParameters"]),A="upsert"===m||"update"===m,M=function(e){const i=e.filter(e=>e.source!==`<${s.u.i18n.appendKeyValuePair.noneField}>`),a=i.map(({source:e,name:i})=>({source:e,name:i}));return a}(c),O=function(e){const i=e.map(e=>e.name);return i}(M),G={dateFieldsTimeReference:Object.assign(Object.assign({},(null==y?void 0:y.isPortal)?{timeZone:a||"UTC"}:{ianaTimeZone:a||"GMT"}),{respectsDaylightSaving:!0})},C={sourceTableName:u.name,fieldMappings:(null==M?void 0:M.length)?JSON.stringify(M):null,upsert:A,skipInserts:"update"===m,skipUpdates:!1,useGlobalIds:A&&"esriFieldTypeGlobalID"===(null==g?void 0:g.type),updateGeometry:!A||"attributeAndGeometry"===n.a.addAppendSelectUpdateTypeOption,appendFields:O.length?JSON.stringify(O):null,appendItemId:p,appendUploadFormat:r.a[n.a.type].appendUploadFormat,rollbackOnFailure:!0};"Table"===h.type&&(S.locationType="none");const P=l(S,["layers"]);if("CSV"===d)S.layerInfo.dateFieldsTimeReference=G.dateFieldsTimeReference,v=Object.assign(Object.assign(Object.assign({},G),S),I);else if("Microsoft Excel"===d){const e=function(e,i){const a=Object.assign({},e);a.locationType=(null==i?void 0:i.locationType)||e.locationType,"address"===a.locationType?(a.addressFields=i.addressFields,a.sourceCountry=i.sourceCountry):"coordinates"===a.locationType&&(a.coordinateFieldType=i.coordinateFieldType,"LatitudeAndLongitude"===a.coordinateFieldType?(a.latitudeFieldName=i.latitudeFieldName,a.longitudeFieldName=i.longitudeFieldName):a.coordinateFieldName=i.coordinateFieldName);return a}((0,t.a)({},!0),P);e.dateFieldsTimeReference=G.dateFieldsTimeReference,P.name=u.name,v=Object.assign(Object.assign(Object.assign(Object.assign({},G),{layers:[e]}),P),I)}else v=Object.assign(Object.assign(Object.assign({},G),S),I);return F=Object.assign(Object.assign(Object.assign({},C),{appendSourceInfo:JSON.stringify(v)}),T&&function({insertAttachmentsEnabled:e}){return e?{skipAttachmentInserts:!1,skipAttachmentUpdates:!0,skipAttachmentDeletes:!0}:{skipAttachmentInserts:!0,skipAttachmentUpdates:!0,skipAttachmentDeletes:!0}}({appendType:m,insertAttachmentsEnabled:b,featureAttachmentOption:f})),"add"===m?F.upsertMatchingField=h.objectIdField||(null===(i=h.uniqueField)||void 0===i?void 0:i.name):A&&(null==g?void 0:g.isUniqueIndex)&&(F.upsertMatchingField=null==g?void 0:g.name),F}function c(e,i,a){return"File Geodatabase"===e&&a.hasAttachments&&i.hasAttachments}function u(e,i){const a=i.appendErrorMessages;let n=s.u.i18n.error,t=a.appendError;switch(e.code){case"invalidUniqueIdentifier":n=a.invalidUniqueIdentifier.title,t=a.invalidUniqueIdentifier.description;break;case"cannotAddNullData":n=a.cannotAddNullData.title,t=a.cannotAddNullData.description;break;case"exceededMaxFieldLength":n=a.exceededMaxFieldLength.title,t=a.exceededMaxFieldLength.description;break;case"invalidFieldType":n=a.invalidFieldType.title,t=a.invalidFieldType.description}return{title:n,description:t}}},95878:(e,i,a)=>{a.d(i,{a:()=>n,u:()=>t});const n=(0,a(37762).c)({nextText:"next",cancelText:"cancel",workflow:"content",scale:"m",disableScroll:!1,onlyHosted:!1,featureFlags:{}}),t=n.state}}]);