/*! For license information please see arcgis_analysis_node_modules_arcgis_map-config-components_dist_chu-97c2b3.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_map-config-components_dist_chu-97c2b3"],{11751:(e,i,n)=>{n.d(i,{a:()=>d,c:()=>u,g:()=>c});var a=n(5294),l=n(56451),o=n(42411),s=n(1225),r=(n(54312),n(44345),n(55448),n(52797),n(34031),n(63438),n(5933),n(89704),n(66228)),t=(n(31521),n(23054),n(5077),n(23795),n(17902),n(87420),n(30161),n(81734),n(83552),n(77462),n(49403),n(66617),n(10628),n(59640),n(64451),n(6176),n(10454),n(28973));n(94916),n(52554),n(2156),n(4038),n(49851),n(75054),n(15223),n(70169),n(29614),n(47207),n(70852),n(48103),n(39423),n(85681),n(18444),n(9767),n(38218),n(91914),n(86605),n(68196),n(440),n(46547),n(28927),n(6238),n(7299);async function d(e,i){const{layer:n,useFeatureReduction:a,mapImageSublayer:l,mapView:d}=e,u=n;i=i||{};const c=(0,s.d)(e),f=(0,s.a)(e,(0,s.g)(e)),m=i.fieldInfos?i.fieldInfos[0]:null,b=i.theme?i.theme:"high-to-low",p={layer:u,view:d,field:m.field,valueExpression:m.expression,valueExpressionTitle:m.expressionTitle,normalizationField:i.normalizationField,theme:b,legendOptions:i.legendOptions,colorOptions:{colorScheme:i.colorScheme||(0,s.a2)(e,b),isContinuous:!!(0,r.i)(i.isContinuous)&&i.isContinuous},symbolOptions:(0,s.n)(e)?void 0:{symbolStyle:i.symbolOptions||"caret"},symbols:i.symbols||void 0,minValue:i.min,maxValue:i.max,sizeOptimizationEnabled:!l&&"above-and-below"!==b&&(!!(0,r.i)(i.sizeOptimizationEnabled)&&i.sizeOptimizationEnabled),defaultSymbolEnabled:!1,forBinning:a};return await o.createContinuousRenderer(p).then(n=>{if(!i.noReuse&&["color","color-size","color-size-age"].includes(c)&&(0,t.s)(e,i)){const i=(0,s.c)((0,s.g)(e),"color"),a=(0,s.p)((0,s.g)(e),"color");i&&a&&b===a.univariateTheme&&(n.renderer.visualVariables=[i],f.sizeOutlineVisVar&&n.renderer.visualVariables.push(f.sizeOutlineVisVar),n.renderer.authoringInfo.visualVariables=[a],(0,s.Q)(e,n.renderer))}return(0,s.b)(f,n.renderer),n})}async function u(e,i){const{layer:n,useFeatureReduction:t,mapImageSublayer:d,mapView:u}=e,c=n;i=i||{};const f=(0,s.g)(e),m=(0,s.c)(f,"color");if(m&&i.fieldInfos?.[0]&&i.fieldInfos?.[0].field===m.field&&i.fieldInfos?.[0].expression===m.valueExpression&&i.normalizationField===m.normalizationField&&(delete i.fieldInfos,(0,s.O)(i)))return{renderer:f.clone()};const b=(0,s.a)(e,f),p=(0,s.c)(f,"size"),y=f.authoringInfo,z=(0,s.p)(f,"size"),h=i.fieldInfos?i.fieldInfos[0]:m?{field:m.field,expression:m.valueExpression,expressionTitle:m.valueExpressionTitle,simpleFieldType:(0,s.K)(e,m.field)?.simpleFieldType||s.J.NUMBER}:{field:f.field,expression:f.valueExpression,expressionTitle:f.valueExpressionTitle,simpleFieldType:(0,s.K)(e,f.field)?.simpleFieldType||s.J.NUMBER},g=null===i.normalizationField?void 0:i.normalizationField?i.normalizationField:m?m.normalizationField:f.normalizationField,V=i.theme?i.theme:y?y.univariateTheme:"high-to-low",I="above-and-below"===y.univariateTheme,v="above-and-below"===V,S="custom"===y.univariateSymbolStyle;"custom"===i.symbolStyle&&!i.symbols&&(1===f.classBreakInfos.length?i.symbols=[a.clone(f.classBreakInfos[0].symbol),a.clone(f.classBreakInfos[0].symbol)]:i.symbols=[a.clone(f.classBreakInfos[0].symbol),a.clone(f.classBreakInfos[1].symbol)]);const O=(0,r.i)(i.isContinuous)?i.isContinuous:!(!I&&v)&&!!m,E="picture-marker"===f.classBreakInfos[0].symbol?.type||"picture-marker"===f.classBreakInfos[2===f.classBreakInfos.length?1:0].symbol?.type,w=!I&&v||E&&O?"caret":v?i.symbolStyle?["single","custom"].includes(i.symbolStyle)?void 0:i.symbolStyle:i.symbols?void 0:"custom"!==y.univariateSymbolStyle?y.univariateSymbolStyle:void 0:void 0,B=!(E&&O)&&("custom"===i.symbolStyle||!i.symbolStyle&&S);let F=v&&!(0,s.n)(e)?{symbolStyle:w,symbols:w?void 0:2===i.symbols?.length?{below:i.symbols[0],above:i.symbols[1]}:1===i.symbols?.length?void 0:B?{below:f.classBreakInfos[0].symbol,above:f.classBreakInfos[2===f.classBreakInfos.length?1:0].symbol}:void 0}:void 0;!F?.symbolStyle&&!F?.symbols&&(F=void 0),O&&F?.symbols&&((0,s.y)(F?.symbols.below,new l.default([0,0,0,.5])),(0,s.y)(F?.symbols.above,new l.default([0,0,0,.5])));const k=f.defaultSymbol,x=f.defaultLabel,R=f.backgroundFillSymbol;let q=!1;V===y?.univariateTheme&&(0,r.i)(p.minSize)&&(q=p.minSize.stops?p.minSize.stops[0].size>p.maxSize.stops[0].size:p.minSize>p.maxSize);let T=!1;(null===i.normalizationField||i.normalizationField||i.fieldInfos?.[0])&&(T=!0);const C=v&&!I||!v&&I,M=i.discardMinMax?void 0:(0,r.i)(i.min)?i.min:T?void 0:z?z.minSliderValue:void 0,_=i.discardMinMax?void 0:(0,r.i)(i.max)?i.max:T?void 0:z?z.maxSliderValue:void 0,N="below"===y.univariateTheme,J="below"===V,D=J&&!N||!J&&N,U=i.colorScheme||!C&&(0,s.a2)(e,V),L={layer:c,view:u,field:h.field,valueExpression:h.expression,valueExpressionTitle:h.expressionTitle,theme:V,legendOptions:i.legendOptions||p.legendOptions,colorOptions:{colorScheme:U,isContinuous:O},symbolOptions:F,normalizationField:g,minValue:M,maxValue:_,sizeOptimizationEnabled:!d&&"above-and-below"!==V&&((0,r.i)(i.sizeOptimizationEnabled)?i.sizeOptimizationEnabled:!!b.sizeAutoVisVar),defaultSymbolEnabled:(0,r.i)(i.defaultSymbolEnabled)?i.defaultSymbolEnabled:!!f.defaultSymbol,forBinning:t};return await o.createContinuousRenderer(L).then(e=>{if(i.discardMinMax){const i=(0,s.c)(f,"color"),n=(0,s.c)(e.renderer,"color");i?.stops.forEach((e,i)=>e.value=n?.stops[i].value);const a=(0,s.c)(f,"size"),l=(0,s.c)(e.renderer,"size");"above-and-below"===y.univariateTheme?a.stops?.forEach((e,i)=>{l.stops&&(e.value=l.stops[i].value)}):(a.minDataValue=l.minDataValue,a.maxDataValue=l.maxDataValue)}if((0,s.b)(b,e.renderer),v){const n=(0,s.i)(e.renderer.classBreakInfos[0].symbol),o=e.renderer.classBreakInfos[1]?(0,s.i)(e.renderer.classBreakInfos[1].symbol):n;if(!w)if(1===i.symbols?.length&&1===e.renderer.classBreakInfos.length)e.renderer.classBreakInfos[0].symbol=i.symbols[0];else if(2===i.symbols?.length&&1===e.renderer.classBreakInfos.length){const i=a.clone(f.classBreakInfos[0].symbol);e.renderer.classBreakInfos[0].symbol=i}else if("single"===i.symbolStyle&&2===e.renderer.classBreakInfos.length){const i=a.clone(f.classBreakInfos[0].symbol);e.renderer.classBreakInfos[0].symbol=i.clone(),(0,s.y)(i,(0,s.i)(e.renderer.classBreakInfos[1].symbol)),e.renderer.classBreakInfos[1].symbol=i,e.renderer.authoringInfo.univariateSymbolStyle=void 0}else{let i=a.clone(f.classBreakInfos[0].symbol);e.renderer.classBreakInfos[0].symbol=i,e.renderer.classBreakInfos[1]&&(i=f.classBreakInfos[1]?a.clone(f.classBreakInfos[1].symbol):a.clone(f.classBreakInfos[0].symbol),e.renderer.classBreakInfos[1].symbol=i)}const r=(0,s.c)(e.renderer,"color");if(r){const i=new l.default([0,0,0,.5]);(0,s.y)(e.renderer.classBreakInfos[0].symbol,i),e.renderer.classBreakInfos[1]&&(0,s.y)(e.renderer.classBreakInfos[1].symbol,i)}else m||r?((0,s.y)(e.renderer.classBreakInfos[0].symbol,n),e.renderer.classBreakInfos[1]&&(0,s.y)(e.renderer.classBreakInfos[1].symbol,o)):((0,s.y)(e.renderer.classBreakInfos[0].symbol,(0,s.i)(f.classBreakInfos[0].symbol)),(0,s.y)(e.renderer.classBreakInfos[1].symbol,(0,s.i)(f.classBreakInfos[1].symbol)))}else v||(1===i.symbols?.length?e.renderer.classBreakInfos[0].symbol=i.symbols[0]:1===f.classBreakInfos?.length&&(e.renderer.classBreakInfos[0].symbol=f.classBreakInfos[0].symbol));if(I&&v&&!T){const i=(0,s.c)(e.renderer,"size"),n=(0,s.c)(e.renderer,"color");i.stops=a.clone(p.stops),n&&n.stops.forEach((e,i)=>{e.value=p.stops[i].value}),2===e.renderer.classBreakInfos.length&&(e.renderer.classBreakInfos[0].maxValue=p.stops[2].value,e.renderer.classBreakInfos[1].minValue=p.stops[2].value)}if(D&&U&&m){const i=(0,s.c)(e.renderer,"color"),n=m.stops.length-1;i.stops.forEach((e,i)=>{e.color=m.stops[n-i].color})}if(k&&(e.renderer.defaultSymbol=k,e.renderer.defaultLabel=x),e.renderer.backgroundFillSymbol=R||void 0,q){const i=(0,s.c)(e.renderer,"size"),n=i.minSize;i.minSize=i.maxSize,i.maxSize=n}return e})}function c(e){const{mapView:i}=e,n=(0,s.g)(e),a=(0,s.c)(n,"color"),l=(0,s.c)(n,"size"),o=i.scale,{minSize:r,maxSize:t}=l;let d;if(l.stops)d=a.stops.map((e,i)=>{const n=l.stops[i];return{color:e.color,size:n.size,value:n.value}});else{const e=a.stops.length-1;if("number"==typeof r)d=a.stops.map((i,n)=>({color:i.color,value:i.value,size:0===n?r:n===e?t:null}));else{let i,n;const s=r.stops.length-1;o>r.stops[s].value?(i=r.stops[s].size,n=t.stops[s].size):r.stops.forEach((e,a)=>{o<=e.value&&(i=e.size,n=t.stops[a].size)});const u=l.minDataValue,c=l.maxDataValue,f=(c-u)/4;d=a.stops.map((a,l)=>({color:a.color,value:0===l?u:l===e?c:u+l*f,size:0===l?i:l===e?n:void 0}))}}return d}},13494:(e,i,n)=>{n.d(i,{a:()=>r,c:()=>t});var a=n(5294),l=n(70169),o=n(1225),s=(n(54312),n(44345),n(55448),n(52797),n(34031),n(63438),n(5933),n(89704),n(66228));n(56451),n(31521),n(23054),n(5077),n(23795),n(17902),n(87420),n(30161),n(81734),n(83552),n(77462),n(49403),n(10281),n(83930),n(66617),n(10628),n(59640),n(64451),n(6176),n(10454),n(29614),n(94916),n(52554),n(2156),n(4038),n(49851),n(75054),n(15223),n(47207),n(70852),n(48103),n(39423),n(85681),n(18444),n(42411),n(9767),n(38218),n(91914),n(86605),n(68196),n(440),n(46547),n(28927),n(6238),n(7299);async function r(e,i){const{layer:n,useFeatureReduction:r,mapView:t,selectedFields:u}=e,c=n;i=i||{};const f=(0,o.a)(e,(0,o.g)(e)),m=!!(0,s.i)(i.includeSizeVariable)&&i.includeSizeVariable;return await l.createRenderer({layer:c,view:t,attributes:d(e,i.fieldInfos),pieChartScheme:i.pieChartScheme||(0,o.a3)(e),includeSizeVariable:m,outlineOptimizationEnabled:(0,s.i)(i.outlineOptimizationEnabled)?i.outlineOptimizationEnabled:(0,o.o)(e)&&m,sizeOptimizationEnabled:!(0,s.i)(i.sizeOptimizationEnabled)||i.sizeOptimizationEnabled,legendOptions:i.legendOptions,forBinning:r}).then(i=>{(0,o.b)(f,i.renderer,{notOpacity:!0});const n=(0,o.d)(e);if(["chart","chart-size"].includes(n)){const n=(0,o._)(e),l=u.map(e=>e.field),s=n.map(e=>e.field),r=l.toString()===s.toString(),t=a.clone(l),d=a.clone(s);t.sort(),d.sort(),t.toString()===d.toString()&&(i.renderer.attributes=(0,o.g)(e).attributes,r||i.renderer.attributes.sort((e,i)=>l.indexOf(e.field)-l.indexOf(i.field)),i.renderer.othersCategory=(0,o.g)(e).othersCategory,i.renderer.holePercentage=(0,o.g)(e).holePercentage)}return i})}async function t(e,i){const{layer:n,useFeatureReduction:a,mapView:r}=e,t=n;i=i||{};const u=(0,o.g)(e),c=(0,o.c)(u,"size"),f=(0,o.p)(u,"size"),m=(0,o.a)(e,u),b=i.fieldInfos?i.fieldInfos:u.attributes.map(e=>({field:e.field,simpleFieldType:o.J.NUMBER}));let p,y=!0;if(i.fieldInfos&&(u.attributes.forEach((e,n)=>{e.field!==i.fieldInfos[n].field&&(y=!1)}),y&&(delete i.fieldInfos,(0,o.O)(i))))return{renderer:u.clone()};y&&(p=u.attributes.map(e=>e.field));const z=(0,o.g)(e),h=z.attributes?.length?z.attributes[0].color:null,g=u.backgroundFillSymbol;let V=!1;c&&(V=c.minSize.stops?c.minSize.stops[0].size>c.maxSize.stops[0].size:c.minSize>c.maxSize);const I=b[0];return b[0]=b[1],b[1]=I,await l.createRenderer({layer:t,view:r,attributes:d(e,b),pieChartScheme:i.pieChartScheme||(0,o.a3)(e),includeSizeVariable:(0,s.i)(i.includeSizeVariable)?i.includeSizeVariable:!!c,outlineOptimizationEnabled:(0,s.i)(i.outlineOptimizationEnabled)?i.outlineOptimizationEnabled:!!m.sizeOutlineVisVar,sizeOptimizationEnabled:(0,s.i)(i.sizeOptimizationEnabled)?i.sizeOptimizationEnabled:!!m.sizeAutoVisVar,legendOptions:void 0,forBinning:a}).then(e=>{if(!i.fieldInfos&&c){const i=(0,o.c)(e.renderer,"size");if(i.minDataValue=c.minDataValue,i.maxDataValue=c.maxDataValue,f){const i=(0,o.p)(e.renderer,"size");i.minSliderValue=f.minSliderValue,i.maxSliderValue=f.maxSliderValue}}if(y&&m.opacityVisVar&&m.authOpacityVisVar&&(e.renderer.visualVariables=(0,o.H)(e.renderer,"opacity"),e.renderer.authoringInfo.visualVariables=(0,o.P)(e.renderer,"opacity"),e.renderer.visualVariables.push(m.opacityVisVar),e.renderer.authoringInfo.visualVariables=e.renderer.authoringInfo.visualVariables||[],e.renderer.authoringInfo.visualVariables.push(m.authOpacityVisVar)),(0,o.b)(m,e.renderer,{notOpacity:!0}),p&&e.renderer.attributes.sort((e,i)=>{const n=p.indexOf(e.field),a=p.indexOf(i.field);return n>-1&&a>-1&&n<a?-1:n>-1&&a>-1&&n>a?1:n>-1?-1:a>-1?1:0}),y&&e.renderer.attributes.forEach((e,i)=>{e.label=u.attributes[i].label}),e.renderer.size=u.size,e.renderer.holePercentage=u.holePercentage,e.renderer.othersCategory=u.othersCategory,h&&e.renderer.attributes?.length&&e.renderer.attributes.forEach((e,i)=>{y&&(e.color=u.attributes[i].color)}),g&&(e.renderer.backgroundFillSymbol=g),V){const i=(0,o.c)(e.renderer,"size"),n=i.minSize;i.minSize=i.maxSize,i.maxSize=n}return e})}function d(e,i){return i.map(i=>({field:i.field,label:u(e,i.field)}))}function u(e,i){const n=e.fields.filter(e=>e.layerField.name===i);return n.length?n[0].label:""}},18383:(e,i,n)=>{n.d(i,{a:()=>r,c:()=>t,g:()=>d});var a=n(75054),l=n(15223),o=n(1225),s=(n(54312),n(44345),n(55448),n(52797),n(34031),n(63438),n(5933),n(89704),n(5294),n(66228));n(56451),n(31521),n(23054),n(5077),n(23795),n(17902),n(87420),n(30161),n(81734),n(83552),n(77462),n(49403),n(66617),n(10628),n(59640),n(64451),n(6176),n(10454),n(29614),n(94916),n(52554),n(2156),n(4038),n(49851),n(70169),n(47207),n(70852),n(48103),n(39423),n(85681),n(18444),n(42411),n(9767),n(38218),n(91914),n(86605),n(68196),n(440),n(46547),n(28927),n(6238),n(7299);async function r(e,i){const{layer:n,useFeatureReduction:l,mapImageSublayer:r,mapView:t,selectedFields:d}=e,c=n;i=i||{};const f=(0,o.a)(e,(0,o.g)(e));return await a.createRenderer({layer:c,view:t,fields:u(e,i.fieldInfos),predominanceScheme:i.predominanceScheme||(0,o.X)(e),includeOpacityVariable:!(0,s.i)(i.includeOpacityVariable)||(0,s.i)(i.includeOpacityVariable),includeSizeVariable:!!(0,s.i)(i.includeSizeVariable)&&i.includeSizeVariable,outlineOptimizationEnabled:!r&&((0,s.i)(i.outlineOptimizationEnabled)?i.outlineOptimizationEnabled:(0,o.o)(e)),sizeOptimizationEnabled:!r&&(!(0,s.i)(i.sizeOptimizationEnabled)||i.sizeOptimizationEnabled),legendOptions:i.legendOptions,defaultSymbolEnabled:!1,forBinning:l}).then(n=>{(0,o.b)(f,n.renderer,{notOpacity:!0});const a=(0,o.d)(e);if(!(0,s.i)(i.includeOpacityVariable)&&["predominance","predominance-size"].includes(a)){const a=(0,o._)(e),l=d.map(e=>e.field).sort(),s=a.map(e=>e.field).sort();if(l.toString()===s.toString()){const a=(0,o.c)((0,o.g)(e),"opacity"),l=(0,o.p)((0,o.g)(e),"opacity");n.renderer.visualVariables=(0,o.H)(n.renderer,"opacity")||[],a&&n.renderer.visualVariables.push(a),n.renderer.authoringInfo.visualVariables=(0,o.P)(n.renderer,"opacity")||[],l&&n.renderer.authoringInfo.visualVariables.push(l);const s=n.renderer.uniqueValueInfos[0].symbol.clone();n.renderer.uniqueValueInfos=(0,o.g)(e).uniqueValueInfos,(0,o.o)(e)&&("predominance-size"===(0,o.d)(e)&&!0!==i.includeSizeVariable?(0,o.Y)(n.renderer,s):"predominance"===(0,o.d)(e)&&!0===i.includeSizeVariable&&(0,o.Z)(n.renderer,s))}}return n})}async function t(e,i){const{layer:n,useFeatureReduction:l,mapImageSublayer:r,mapView:t}=e,d=n;i=i||{};const c=(0,o.g)(e),f=(0,o.c)(c,"size"),m=(0,o.p)(c,"size"),b=(0,o.a)(e,c),p=i.fieldInfos?i.fieldInfos:c.uniqueValueGroups[0].classes.map(e=>({field:e.values[0].value,simpleFieldType:o.J.NUMBER}));let y,z=!0;if(i.fieldInfos&&(c.uniqueValueGroups[0].classes.forEach((e,n)=>{e.values[0].value!==i.fieldInfos[n].field&&(z=!1)}),z&&(delete i.fieldInfos,(0,o.O)(i))))return{renderer:c.clone()};z&&(y=c.uniqueValueInfos.map(e=>e.value),b.opacityVisVar=(0,o.c)(c,"opacity"),b.authOpacityVisVar=(0,o.p)(c,"opacity"));const h=(0,o.g)(e),g=h.uniqueValueInfos?.length?h.uniqueValueInfos[0].symbol:null,V=c.defaultSymbol,I=c.defaultLabel,v=c.backgroundFillSymbol;let S=!1;f&&(S=f.minSize.stops?f.minSize.stops[0].size>f.maxSize.stops[0].size:f.minSize>f.maxSize);const O=(0,s.i)(i.includeSizeVariable)?i.includeSizeVariable:!!f,E=p[0];return p[0]=p[1],p[1]=E,await a.createRenderer({layer:d,view:t,fields:u(e,p),predominanceScheme:i.predominanceScheme||(0,o.X)(e),includeOpacityVariable:(0,s.i)(i.includeOpacityVariable)?i.includeOpacityVariable:!!b.opacityVisVar,includeSizeVariable:O,outlineOptimizationEnabled:!r&&((0,s.i)(i.outlineOptimizationEnabled)?i.outlineOptimizationEnabled:!!b.sizeOutlineVisVar),sizeOptimizationEnabled:(0,s.i)(i.sizeOptimizationEnabled)?i.sizeOptimizationEnabled:!!b.sizeAutoVisVar,legendOptions:void 0,defaultSymbolEnabled:(0,s.i)(i.defaultSymbolEnabled)?i.defaultSymbolEnabled:!!V,forBinning:l}).then(n=>{const a=n.renderer.uniqueValueInfos[0].symbol.clone();if(!i.fieldInfos&&f){const e=(0,o.c)(n.renderer,"size");if(e.minDataValue=f.minDataValue,e.maxDataValue=f.maxDataValue,m){const e=(0,o.p)(n.renderer,"size");e.minSliderValue=m.minSliderValue,e.maxSliderValue=m.maxSliderValue}}if(!(0,s.i)(i.includeOpacityVariable)&&z&&b.opacityVisVar&&b.authOpacityVisVar&&(n.renderer.visualVariables=(0,o.H)(n.renderer,"opacity"),n.renderer.authoringInfo.visualVariables=(0,o.P)(n.renderer,"opacity"),n.renderer.visualVariables.push(b.opacityVisVar),n.renderer.authoringInfo.visualVariables=n.renderer.authoringInfo.visualVariables||[],n.renderer.authoringInfo.visualVariables.push(b.authOpacityVisVar)),(0,o.b)(b,n.renderer,{notOpacity:!0}),y&&n.renderer.uniqueValueInfos.sort((e,i)=>{const n=y.indexOf(e.value),a=y.indexOf(i.value);return n>-1&&a>-1&&n<a?-1:n>-1&&a>-1&&n>a?1:n>-1?-1:a>-1?1:0}),z&&n.renderer.uniqueValueInfos.forEach((e,i)=>{e.label=c.uniqueValueInfos[i].label}),g&&n.renderer.uniqueValueInfos?.length){const i=n.renderer.uniqueValueInfos.slice();i.forEach((e,i)=>{let n;z?n=c.uniqueValueInfos[i].symbol:(n=g.clone(),(0,o.y)(n,(0,o.i)(e.symbol))),e.symbol=n}),n.renderer.uniqueValueInfos=i,(0,o.o)(e)&&("predominance-size"!==(0,o.d)(e)||O?"predominance"===(0,o.d)(e)&&O&&(0,o.Z)(n.renderer,a):(0,o.Y)(n.renderer,a))}if(V&&(n.renderer.defaultSymbol=V,n.renderer.defaultLabel=I),v&&(n.renderer.backgroundFillSymbol=v),S){const e=(0,o.c)(n.renderer,"size"),i=e.minSize;e.minSize=e.maxSize,e.maxSize=i}return n})}async function d(e,i){const{layer:n,useFeatureReduction:a,mapView:o}=e,s=n;return i=i||{},await(0,l.default)({layer:s,view:o,fields:i.fieldInfos.map(e=>e.field),forBinning:a})}function u(e,i){return i.map(i=>({name:i.field,label:c(e,i.field)}))}function c(e,i){const n=e.fields.filter(e=>e.layerField.name===i);return n.length?n[0].label:""}},19479:(e,i,n)=>{n.d(i,{a:()=>p,b:()=>c,c:()=>y,d:()=>f});var a=n(2156),l=n(4038),o=(n(52797),n(54312),n(44345),n(55448),n(34031),n(63438),n(5933),n(28927),n(83368),n(89704),n(5294)),s=n(66228),r=(n(56451),n(31521),n(23054),n(5077),n(23795),n(17902),n(87420),n(30161),n(81734),n(1225)),t=(n(83552),n(77462),n(49403),n(10281),n(83930),n(66617),n(10628),n(59640),n(64451),n(6176),n(10454),n(29614),n(94916),n(52554),n(49851),n(75054),n(15223),n(70169),n(47207),n(70852),n(48103),n(39423),n(85681),n(18444)),d=(n(42411),n(9767),n(38218),n(91914),n(86605),n(68196),n(440),n(46547),n(6238),n(7299),n(18423),n(96086),n(91813),n(21255),n(13078),n(21303),n(12627),n(87735)),u=n(78778);async function c(e,i){const{layer:n,useFeatureReduction:l,mapImageSublayer:o,mapView:r}=e,t=n;return i=i||{},await a.createRenderer({layer:t,view:r,attributes:(0,s.i)(i.attributes)?i.attributes:m(e,i.fieldInfos),dotBlendingEnabled:!(0,s.i)(i.dotBlendingEnabled)||i.dotBlendingEnabled,dotValueOptimizationEnabled:!(0,s.i)(i.dotValueOptimizationEnabled)||i.dotValueOptimizationEnabled,outlineOptimizationEnabled:!o&&(!(0,s.i)(i.outlineOptimizationEnabled)||i.outlineOptimizationEnabled),legendOptions:i.legendOptions,forBinning:l})}async function f(e,i){const{layer:n,mapImageSublayer:o,mapView:t,useFeatureReduction:d}=e,u=n;i=i||{};const c=(0,r.g)(e);return await a.createRenderer({layer:u,view:t,attributes:i.attributes??c.attributes.map(e=>new l.default({field:e.field,label:e.label})),dotBlendingEnabled:i.dotBlendingEnabled??c.dotBlendingEnabled,dotValueOptimizationEnabled:i.dotValueOptimizationEnabled??(0,s.i)(c.referenceScale),outlineOptimizationEnabled:!o&&(i.dotValueOptimizationEnabled??!0),legendOptions:i.legendOptions??c.legendOptions,forBinning:i.forBinning??d})}function m(e,i){return i.map(i=>({field:i.field,label:b(e,i.field)}))}function b(e,i){const n=e.fields.filter(e=>e.layerField.name===i);return n.length?n[0].label:""}async function p(e,i){i=i||{};const n=[],a=[];return n.push(i.fieldInfos[0]),n.push(i.fieldInfos[1]),a.push(i.fieldInfos[2]),function(e,i){if("relationship"===(0,r.d)(e)&&void 0===i.normalizationField1&&void 0===i.normalizationField2){const n=(0,r.g)(e).authoringInfo;if(i.fieldInfos&&i.fieldInfos.length>1&&i.fieldInfos[0].field===n.field1.field&&i.fieldInfos[1].field===n.field2.field)return!0}return!1}(e,i)?await z(e,(0,r.g)(e),a,i).then(e=>({renderer:e})):await(0,u.a)(e,{...i,fieldInfos:n}).then(async n=>await z(e,n.renderer,a,i).then(e=>(n.renderer=e,n)))}async function y(e,i,n){return i=i||{},await(0,d.d)(e,{...i,fieldInfos:i.fieldInfos?[i.fieldInfos[2]]:null}).then(async a=>await(0,u.c)(e,{...i,fieldInfos:i.fieldInfos?[i.fieldInfos[0],i.fieldInfos[1]]:null}).then(i=>(function(e,i,n){i.visualVariables=(0,r.H)(i,"size")||[],i.visualVariables=(0,r.H)(i,"size","auto")||[];const a=(0,r.c)(n,"size");i.visualVariables.push(a),i.authoringInfo=i.authoringInfo||new t.default({}),i.authoringInfo.visualVariables=(0,r.P)(i,"size")||[];const l=(0,r.p)(n,"size");if(i.authoringInfo.visualVariables.push(l),(0,r.o)(e)){const a=n.classBreakInfos?.length?n.classBreakInfos[0].symbol:n.uniqueValueInfos?.length?n.uniqueValueInfos[0].symbol:(0,r.e)(e,"relationship-size"),l=i.uniqueValueInfos.slice();l.forEach(e=>{const i=(0,r.i)(e.symbol);e.symbol=a.clone(),(0,r.y)(e.symbol,i)}),i.uniqueValueInfos=l,i.backgroundFillSymbol=n.backgroundFillSymbol;const o=(0,r.c)(n,"size","outline");o&&i.visualVariables.push(o)}}(e,i.renderer,a.renderer),i.backgroundFillSymbol=(0,r.g)(e).backgroundFillSymbol,"size"===n&&(i.statistics=a.statistics),i)))}async function z(e,i,n,a){return await(0,d.f)(e,{...a,fieldInfos:n}).then(n=>{const a=n.renderer;i.visualVariables=(0,r.H)(i,"size")||[],i.visualVariables=(0,r.H)(i,"size","auto")||[];const l=(0,r.c)(a,"size"),s=(0,r.p)(a,"reference-size"),t=(0,r.p)(a,"spike");!s&&!t&&i.visualVariables.push(l),i.authoringInfo.visualVariables=(0,r.P)(i,"size")||[];const d=(0,r.p)(a,"size");if(i.authoringInfo.visualVariables.push(d),(0,r.o)(e)||t){const e=a.classBreakInfos[0].symbol,n=[];i.uniqueValueInfos.forEach(e=>{n.push(o.clone(e))}),n.forEach(e=>{i.removeUniqueValueInfo(e.value)}),n.forEach(n=>{const a=e.clone();(0,r.y)(a,(0,r.i)(n.symbol)),i.addUniqueValueInfo({value:n.value,symbol:a,label:n.label})}),i.backgroundFillSymbol=a.backgroundFillSymbol;const l=(0,r.c)(a,"size","outline");!s&&l&&i.visualVariables.push(l)}return i})}},29997:(e,i,n)=>{n.d(i,{a:()=>r,c:()=>s,g:()=>t});var a=n(29614),l=n(1225),o=(n(54312),n(44345),n(55448),n(52797),n(34031),n(63438),n(5933),n(89704),n(5294),n(66228));n(56451),n(31521),n(23054),n(5077),n(23795),n(17902),n(87420),n(30161),n(81734),n(83552),n(77462),n(49403),n(10281),n(83930),n(66617),n(10628),n(59640),n(64451),n(6176),n(10454),n(94916),n(52554),n(2156),n(4038),n(49851),n(75054),n(15223),n(70169),n(47207),n(70852),n(48103),n(39423),n(85681),n(18444),n(42411),n(9767),n(38218),n(91914),n(86605),n(68196),n(440),n(46547),n(28927),n(6238),n(7299);async function s(e,i){const{layer:n,useFeatureReduction:s,mapImageSublayer:r,mapView:t}=e,d=n;i=i||{};const u=(0,l.a)(e,(0,l.g)(e));return await a.createContinuousRenderer({layer:d,view:t,field:i.fieldInfos[0].field,theme:"above-and-below",colorScheme:(0,l.a2)(e,"above-and-below"),normalizationField:i.fieldInfos[1].field,outlineOptimizationEnabled:!r&&((0,o.i)(i.outlineOptimizationEnabled)?i.outlineOptimizationEnabled:(0,l.o)(e)),sizeOptimizationEnabled:!r&&(!(0,o.i)(i.sizeOptimizationEnabled)||i.sizeOptimizationEnabled),legendOptions:i.legendOptions,defaultSymbolEnabled:!1,forBinning:s}).then(e=>(((0,l.p)(e.renderer,"color")||{}).style="ratio",(0,l.b)(u,e.renderer),e))}async function r(e,i){const{layer:n,useFeatureReduction:s,mapImageSublayer:r,mapView:d}=e,u=n;i=i||{};const c=(0,l.g)(e),f=(0,l.c)(c,"color");if(f&&i.fieldInfo&&i.fieldInfo.field===f.field&&i.normalizationField===f.normalizationField&&(delete i.fieldInfos,(0,l.O)(i)))return{renderer:c.clone()};const m=(0,l.p)(c,"color"),b=(0,l.a)(e,c),p=i.fieldInfos?i.fieldInfos[0]:f?{field:f.field,expression:f.valueExpression,expressionTitle:f.valueExpressionTitle,simpleFieldType:l.J.NUMBER}:{field:c.field,expression:c.valueExpression,expressionTitle:c.valueExpressionTitle,simpleFieldType:l.J.NUMBER},y=i.normalizationField?i.normalizationField:f?f.normalizationField:c.normalizationField,z=c.classBreakInfos?.length?c.classBreakInfos[0].symbol:null,h=c.defaultSymbol,g=c.defaultLabel;let V=!1;(null===i.normalizationField||i.normalizationField||i.fieldInfo)&&(V=!0);const I=i.discardMinMax?void 0:(0,o.i)(i.min)?i.min:V?void 0:m?m.minSliderValue:c.classBreakInfos[0].minValue,v=i.discardMinMax?void 0:(0,o.i)(i.max)?i.max:V?void 0:m?m.maxSliderValue:c.classBreakInfos[c.classBreakInfos.length-1].maxValue;return await a.createContinuousRenderer({layer:u,view:d,field:p?p.field:c.field,theme:"above-and-below",colorScheme:(0,l.a2)(e,"above-and-below"),normalizationField:y,minValue:I,maxValue:v,outlineOptimizationEnabled:!r&&((0,o.i)(i.outlineOptimizationEnabled)?i.outlineOptimizationEnabled:!!b.sizeOutlineVisVar),sizeOptimizationEnabled:!r&&((0,o.i)(i.sizeOptimizationEnabled)?i.sizeOptimizationEnabled:!!b.sizeAutoVisVar),legendOptions:i.legendOptions?.toJSON()||f?.legendOptions?.toJSON()||c.legendOptions?.toJSON(),defaultSymbolEnabled:(0,o.i)(i.defaultSymbolEnabled)?i.defaultSymbolEnabled:!!c.defaultSymbol,forBinning:s}).then(e=>{if(i.discardMinMax){const i=(0,l.c)(c,"color"),n=(0,l.c)(e.renderer,"color");i.stops.forEach((e,i)=>e.value=n.stops[i].value);const a=!!m&&"percent"===m.style,o=!!m&&"percent-of-total"===m.style;i.stops[0].label=`< ${t(i.stops[0].value,a,o)}`,i.stops[2].label=t(i.stops[2].value,a,o),i.stops[4].label=`> ${t(i.stops[4].value,a,o)}`}return((0,l.p)(e.renderer,"color")||{}).style="ratio",(0,l.b)(b,e.renderer),z&&e.renderer.classBreakInfos?.length&&(e.renderer.classBreakInfos[0].symbol=z),h&&(e.renderer.defaultSymbol=h,e.renderer.defaultLabel=g),e})}function t(e,i,n){return n?Math.round(e/(1+e)*1e4)/100+"%":i?Math.round(1e4*e)/100+"%":`${e}`}},33543:(e,i,n)=>{n.d(i,{a:()=>s,b:()=>r,s:()=>t});var a=n(44345),l=n(55448),o=n(1225);n(54312),n(52797),n(34031),n(63438),n(5933),n(28927),n(83368),n(89704),n(5294),n(18423),n(96086),n(91813),n(21255),n(13078),n(21303),n(12627),n(56451),n(31521),n(23054),n(5077),n(23795),n(17902),n(87420),n(30161),n(81734),n(75698),n(10628),n(59640),n(64451),n(6176),n(83552),n(77462),n(49403),n(10281),n(83930),n(66617),n(10454),n(29614),n(94916),n(52554),n(2156),n(4038),n(49851),n(75054),n(15223),n(70169),n(47207),n(70852),n(48103),n(39423),n(85681),n(18444),n(42411),n(9767),n(38218),n(91914),n(86605),n(68196),n(440),n(46547),n(6238),n(7299);const s={true:"https://ndh-inf-ml-p01.esri.com/dev/mapping",vpn:"https://ndh-inf-ml-p01.esri.com/dev/mapping",aws:"https://devsummitdemowin.webgistesting.net/dev/mapping"};async function r(e,i){const{text:n}=i,{layer:l}=e;if(!(0,o.a1)(l))throw new Error("layer is not a FeatureLayer");const s={token:"",map_data:{data:l.fields.map(e=>({fieldName:e.name,alias:e.alias,dataType:e.type}))},messages:n,entry_point:"style"},r={method:"post",body:JSON.stringify(s),headers:{"Content-Type":"application/json"}};console.log("request body: ",s);try{const{data:e}=await(0,a.default)(d(),r);if(e.status_code&&200!==e.status_code)return console.log("*** question/response: ",JSON.stringify({question:n,response:e})),{message:e.botMessage,status:"error",type:"response"};const i=e[0],l=i.botMessage;return{message:l,status:"map_style"===i.actionType?"valid":"invalid",dataObject:i,type:"response"}}catch(e){return{message:e.message,status:"error",type:"response"}}}async function t(e,i){const{text:n}=i,{layer:l}=e;if(!(0,o.a1)(l))throw new Error("layer is not a FeatureLayer");const s=l.fields.map(e=>({fieldName:e.name,alias:e.alias,dataType:e.type})),r={method:"post",body:JSON.stringify({token:"",map_data:{data:s},messages:n,entry_point:"style"}),headers:{"Content-Type":"application/json"}};console.log(JSON.stringify(r));try{await(0,a.default)(d(),r)}catch{throw new Error("submit feedback failed")}}function d(){const e=l.urlToObject(document.URL),i=e.query||{};return e.query?.assistUrl||s[i.assist]}},42987:(e,i,n)=>{n.d(i,{a:()=>t,b:()=>d,c:()=>s,d:()=>r});var a=n(10454),l=(n(52797),n(54312),n(44345),n(55448),n(34031),n(63438),n(5933),n(28927),n(83368),n(89704),n(5294),n(66228)),o=(n(56451),n(31521),n(23054),n(5077),n(23795),n(17902),n(87420),n(30161),n(81734),n(1225));n(83552),n(77462),n(49403),n(66617),n(10628),n(59640),n(64451),n(6176),n(29614),n(94916),n(52554),n(2156),n(4038),n(49851),n(75054),n(15223),n(70169),n(47207),n(70852),n(48103),n(39423),n(85681),n(18444),n(42411),n(9767),n(38218),n(91914),n(86605),n(68196),n(440),n(46547),n(6238),n(7299);async function s(e,i){const{layer:n,useFeatureReduction:s,mapImageSublayer:r,mapView:t}=e,d=n;i=i||{};const u=(0,o.a)(e,(0,o.g)(e));return await a.createRenderer({layer:d,view:t,outlineOptimizationEnabled:!r&&(!(0,l.i)(i.outlineOptimizationEnabled)||i.outlineOptimizationEnabled),sizeOptimizationEnabled:!r&&(!(0,l.i)(i.sizeOptimizationEnabled)||i.sizeOptimizationEnabled),forBinning:s}).then(e=>((0,o.b)(u,e.renderer),e))}async function r(e,i){const{layer:n,useFeatureReduction:s,mapImageSublayer:r,mapView:t}=e,d=n;i=i||{};const u=(0,o.g)(e),c=(0,o.d)(e),f=(0,o.a)(e,u),m=u.symbol?u.symbol:(0,o.e)(e,c),b={layer:d,view:t,outlineOptimizationEnabled:!r&&((0,l.i)(i.outlineOptimizationEnabled)?i.outlineOptimizationEnabled:!!f.sizeOutlineVisVar),sizeOptimizationEnabled:!r&&((0,l.i)(i.sizeOptimizationEnabled)?i.sizeOptimizationEnabled:!!f.sizeAutoVisVar),forBinning:s};return await a.createRenderer(b).then(e=>((0,o.b)(f,e.renderer),m&&(e.renderer.symbol=m),e))}async function t(e){const{layer:i,useFeatureReduction:n,mapView:l}=e,s=i;return await a.createRenderer({layer:s,view:l,outlineOptimizationEnabled:!0,forBinning:n}).then(e=>(0,o.c)(e.renderer,"size","outline"))}async function d(e){const{layer:i,useFeatureReduction:n,mapView:l}=e,s=i;return await a.createRenderer({layer:s,view:l,outlineOptimizationEnabled:!1,sizeOptimizationEnabled:!0,forBinning:n}).then(e=>(0,o.c)(e.renderer,"size","auto"))}},78778:(e,i,n)=>{n.d(i,{a:()=>s,c:()=>r,u:()=>t});var a=n(85681),l=n(1225),o=(n(54312),n(44345),n(55448),n(52797),n(34031),n(63438),n(5933),n(89704),n(5294),n(66228));n(56451),n(31521),n(23054),n(5077),n(23795),n(17902),n(87420),n(30161),n(81734),n(83552),n(77462),n(49403),n(66617),n(10628),n(59640),n(64451),n(6176),n(10454),n(29614),n(94916),n(52554),n(2156),n(4038),n(49851),n(75054),n(15223),n(70169),n(47207),n(70852),n(48103),n(39423),n(18444),n(42411),n(9767),n(38218),n(91914),n(86605),n(68196),n(440),n(46547),n(28927),n(6238),n(7299);async function s(e,i){const{layer:n,useFeatureReduction:s,mapImageSublayer:r,mapView:t}=e,d=n,u=(0,l.d)(e);let c=i.relationshipScheme;if(!c&&["relationship","relationship-size"].includes(u)&&(c=(0,l.S)(e)),i=i||{},"relationship-size"===u){const n=(0,l.g)(e).clone(),a=n.authoringInfo,o=(0,l.p)(n,"spike");if(a&&i.fieldInfos?.length>1&&i.fieldInfos[0].field===a.field1.field&&i.fieldInfos[1].field===a.field2.field){if(n.visualVariables=(0,l.H)(n,"size"),n.authoringInfo.visualVariables=(0,l.P)(n,"size"),(0,l.o)(e)||o){const i=(0,l.e)(e),a=n.uniqueValueInfos.slice();a.forEach(e=>{const n=(0,l.i)(e.symbol);e.symbol=i.clone(),(0,l.y)(e.symbol,n)}),n.uniqueValueInfos=a}return{renderer:n}}}const f=(0,l.a)(e,(0,l.g)(e)),m={layer:d,view:t,field1:{field:i.fieldInfos[0].field},field2:{field:i.fieldInfos[1].field},classificationMethod:"quantile",numClasses:3,focus:"HH",relationshipScheme:c,outlineOptimizationEnabled:!r&&(!(0,o.i)(i.outlineOptimizationEnabled)||i.outlineOptimizationEnabled),sizeOptimizationEnabled:!r&&(!(0,o.i)(i.sizeOptimizationEnabled)||i.sizeOptimizationEnabled),legendOptions:i.legendOptions,defaultSymbolEnabled:!1,forBinning:s};return await a.createRenderer(m).then(e=>((0,l.b)(f,e.renderer),e))}async function r(e,i){const{layer:n,useFeatureReduction:s,mapImageSublayer:r,mapView:t}=e,d=n;i=i||{};const u=(0,l.g)(e),c=(0,l.d)(e),f=u.authoringInfo,m=(0,l.c)(u,"size");if(i.fieldInfos&&i.fieldInfos.length>1&&i.fieldInfos[0].field===f.field1.field&&i.normalizationField1===f.field1.normalizationField&&i.fieldInfos[1].field===f.field2.field&&i.normalizationField2===f.field2.normalizationField&&(delete i.fieldInfos,delete i.normalizationField1,delete i.normalizationField2,(0,l.O)(i)&&!m))return{renderer:u.clone()};let b=i.relationshipScheme;!b&&["relationship","relationship-size"].includes(c)&&(b=(0,l.S)(e));const p=(0,l.a)(e,u),y=i.fieldInfos?i.fieldInfos[0]:{field:f.field1.field,simpleFieldType:l.J.NUMBER},z=i.fieldInfos?i.fieldInfos[1]:{field:f.field2.field,simpleFieldType:l.J.NUMBER},h=void 0!==i.normalizationField1?i.normalizationField1:f.field1.normalizationField,g=void 0!==i.normalizationField2?i.normalizationField2:f.field2.normalizationField,V=u.uniqueValueInfos?.length?u.uniqueValueInfos[0].symbol:null,I=u.defaultSymbol,v=u.defaultLabel,S=i.numClasses?i.numClasses:f.numClasses,O={layer:d,view:t,field1:{field:y?y.field:u.field,normalizationField:h},field2:{field:z?z.field:u.field,normalizationField:g},classificationMethod:i.classificationMethod?i.classificationMethod:"manual"!==f.classificationMethod?f.classificationMethod:"quantile",numClasses:S,focus:i.focus?i.focus:f.focus,relationshipScheme:b,outlineOptimizationEnabled:!r&&((0,o.i)(i.outlineOptimizationEnabled)?i.outlineOptimizationEnabled:!!p.sizeOutlineVisVar),sizeOptimizationEnabled:!r&&((0,o.i)(i.sizeOptimizationEnabled)?i.sizeOptimizationEnabled:!!p.sizeAutoVisVar),legendOptions:i.legendOptions?i.legendOptions:u.legendOptions,defaultSymbolEnabled:(0,o.i)(i.defaultSymbolEnabled)?i.defaultSymbolEnabled:!!u.defaultSymbol,forBinning:s};return await a.createRenderer(O).then(i=>((0,l.b)(p,i.renderer),V&&i.renderer.uniqueValueInfos.forEach(e=>{const i=V.clone();(0,l.y)(i,(0,l.i)(e.symbol)),e.symbol=i}),(0,l.g)(e).uniqueValueInfos.forEach(e=>{const n=i.renderer.uniqueValueInfos.find(i=>e.value===i.value);n&&(n.label=e.label)}),I&&(i.renderer.defaultSymbol=I,i.renderer.defaultLabel=v),i))}async function t(e,i){i=i||{};const n=(0,l.g)(e),o=n.authoringInfo;return await a.updateRenderer({field1:o.field1,field2:o.field2,numClasses:i.numClasses?i.numClasses:o.numClasses,focus:i.focus?"none"===i.focus?null:i.focus:o.focus,colors:i.colors,renderer:n})}},89374:(e,i,n)=>{n.d(i,{a:()=>s,c:()=>o,u:()=>r});var a=n(49851),l=(n(52797),n(54312),n(44345),n(55448),n(34031),n(63438),n(5933),n(1225));n(89704),n(5294),n(18423),n(96086),n(91813),n(21255),n(13078),n(21303),n(12627),n(56451),n(31521),n(23054),n(5077),n(23795),n(17902),n(87420),n(30161),n(81734),n(83552),n(77462),n(49403),n(10281),n(83930),n(66617),n(10628),n(59640),n(64451),n(6176),n(10454),n(29614),n(94916),n(52554),n(2156),n(4038),n(75054),n(15223),n(70169),n(47207),n(70852),n(48103),n(39423),n(85681),n(18444),n(42411),n(9767),n(38218),n(91914),n(86605),n(68196),n(440),n(46547),n(28927),n(6238),n(7299);async function o(e,i){const{layer:n,mapView:o}=e,s=n,r=(0,l.g)(e);return i=i||{},"heatmap"===(0,l.d)(e)&&(i.radius=i.radius||r.radius,i.heatmapScheme=i.heatmapScheme||(0,l.$)(e)),i.fieldInfos?.length&&(0,l.a0)(e,[i.fieldInfos[0].field]),await a.createRenderer({layer:s,view:o,field:i.fieldInfos?.length?i.fieldInfos[0].field:null,radius:i.radius||10,heatmapScheme:i.heatmapScheme||void 0})}async function s(e,i){const{layer:n,mapView:o}=e,s=n;i=i||{};const r=(0,l.g)(e),t=r.authoringInfo;return await a.createRenderer({layer:s,view:o,field:i.fieldInfos?.length?i.fieldInfos[0].field:r.field,fadeRatio:i.fadeRatio??t?.fadeRatio,radius:i.radius||r.radius||10,heatmapScheme:i.heatmapScheme||(0,l.$)(e)})}function r(e,i){const n=(0,l.g)(e);return a.updateRenderer({renderer:n,fadeRatio:i})}}}]);