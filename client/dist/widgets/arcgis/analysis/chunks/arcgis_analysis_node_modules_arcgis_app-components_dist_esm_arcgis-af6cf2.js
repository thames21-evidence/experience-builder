/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-af6cf2.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-af6cf2"],{1654:(e,t,i)=>{i.d(t,{A:()=>b,B:()=>x,C:()=>L,D:()=>N,E:()=>v,F:()=>M,a:()=>l,b:()=>o,c:()=>a,d:()=>f,e:()=>k,f:()=>w,g:()=>P,h:()=>S,i:()=>m,j:()=>I,k:()=>E,l:()=>c,m:()=>d,n:()=>s,o:()=>T,p:()=>p,q:()=>g,r:()=>h,s:()=>F,t:()=>U,u:()=>u,v:()=>$,w:()=>A,x:()=>R,y:()=>D,z:()=>y});var r=i(46904);const n=e=>{var t,i,r;return"string"==typeof(null==e?void 0:e.role)&&(null==e?void 0:e.role)?null==e?void 0:e.role:null!==(i=null!==(t=null==e?void 0:e.roleId)&&void 0!==t?t:null==e?void 0:e.id)&&void 0!==i?i:null===(r=null==e?void 0:e.sourceJSON)||void 0===r?void 0:r.id};function o(e){return e&&!e.orgId}function a(e,t){return(0,r.u)(e,t)||"update"===e.itemControl||(0,r.c)([e],t)&&w(t)}function l(e,t){const i=(0,r.c)([e],t),n=(0,r.u)(e,t)||w(t)&&i,o=P(t)&&C(t);return!!(n||i&&o)}const s=e=>{var t;return!!(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:admin:manageLicenses"))},c=e=>{var t;return!!(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:admin:inviteUsers"))},d=e=>{var t;return!!(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:admin:manageRoles"))},u=e=>{var t;return!!(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:admin:changeUserRoles"))},p=e=>{var t;return!!(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:admin:viewGroups"))},g=e=>{var t;return!!(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:admin:viewUsers"))};function m(e){return["Trial Developer","Developer","Developer Subscription"].includes(null==e?void 0:e.type)}function v(e){return["Developer Subscription"].includes(null==e?void 0:e.type)}function h(e){return["Geoanalytics Engine","GeoAnalytics MS Fabric"].includes(null==e?void 0:e.type)}const f=e=>{var t;return null===(t=null==e?void 0:e.options)||void 0===t?void 0:t.includes("Developer")},y=e=>{var t;return null===(t=null==e?void 0:e.options)||void 0===t?void 0:t.includes("PublicSharingDisabled")},b=e=>{var t;return null===(t=null==e?void 0:e.options)||void 0===t?void 0:t.includes("HostedServicesPublicSharingDisabled")};function w(e){return"org_admin"===n(e)||"account_admin"===n(e)}function k(e){return["org_admin","account_admin"].includes(n(e))&&!(null==e?void 0:e.roleId)}function P(e){return!!(null==e?void 0:e.roleId)&&e.roleId.length>0}function I(e){var t;return!!(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:admin:updateItemCategorySchema"))}function S(e){var t;return!!(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:admin:updateGroups"))}function T(e){var t;return!!(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:admin:assignToGroups"))}const C=e=>{var t;return!!(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:admin:deleteItems"))};function $(e){return((null==e?void 0:e.privileges)||[]).includes("portal:user:shareToGroup")}function A(e){return((null==e?void 0:e.privileges)||[]).includes("portal:user:shareToOrg")}function x(e){return((null==e?void 0:e.privileges)||[]).includes("portal:user:shareToPublic")}function D(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:shareToOrg")}function L(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:shareToPublic")}function R(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:shareToGroup")}function E(e,t,i,r){const n=r&&!["Trial","Trial Press","Trial Developer","Developer Subscription","Evaluation"].includes(r.type),o=((null==t?void 0:t.privileges)||[]).includes("portal:admin:manageCollaborations");return!(!(null==e?void 0:e.collaborationsEnabled)||!t||!w(t)&&!o||!(null==i?void 0:i.isPortal)&&!n)}function M(e){return!!e&&(!P(e)||P(e)&&function(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:viewItems")}(e))}const N=({items:e,user:t,portal:i})=>{const n=e[0],o=n.owner;if(i.isPortal&&o!==t.username&&o.includes("esri_")&&!["esri_livingatlas"].includes(o))return!1;const l=(0,r.u)(n,t),s=P(t),c=_(t),d=a(n,t)&&function(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:updateItems")}(t)&&!s&&(function(e,t){return!function(e){return!(!e.urlKey||!e.customBaseUrl)||!!e.isPortal}(t)||$(e)||A(e)||!!t.canSharePublic&&x(e)}(t,i)||_(t));return l||d||(0,r.c)(e,t)&&c};function _(e){return R(e)||D(e)||L(e)}const O=["portal:user:createItem","portal:user:viewOrgItems","premium:publisher:createNotebooks","portal:publisher:createDataPipelines","features:user:edit","features:user:fullEdit","portal:admin:viewItems","portal:admin:updateItems","portal:admin:deleteItems"];function U(e){return e.some(e=>O.includes(e))}function F(e){return e.filter(e=>O.includes(e))}},13446:(e,t,i)=>{i.d(t,{a:()=>l,r:()=>a});var r=i(72257),n=i(3826),o=i(95878);function a(){n.d.reset(),r.a.reset()}const l=()=>{if(n.a.existingItem||"register"===o.u.workflow)return;n.d.reset();const e=r.i.folder;r.a.reset(),r.i.folder=e}},20699:(e,t,i)=>{i.d(t,{a:()=>c,b:()=>p,c:()=>d,l:()=>u});var r=i(59317),n=i(72257),o=i(3826),a=i(95878);const l="new item",s="my content";function c(){const e=r.c.telemetry;null==e||e.startWorkflow("new item upload",{eventType:"workflow",category:"new item upload",details:o.a.type,pageName:s})}function d(){const{type:e,applicationType:t,customParameters:i,selectedLayerIdTracker:n}=o.a,c=r.c.telemetry,d=a.u.telemetryDetails;null==c||c.endWorkflow("new item upload",{details:e,pageName:s});const u={eventType:"other",pageName:s,category:l,label:l,details:d};"url"===d?(u.attribute=e,(null==i?void 0:i.length)>0&&(u.action="customParams"),"WMS"===e&&(u.count=null==n?void 0:n.count)):t&&(u.attribute=t),null==c||c.logEvent(u)}const u=()=>{const{telemetry:e}=r.c;null==e||e.logEvent({eventType:"other",pageName:"my content",category:"content page drag drop",label:"content"}),a.u.telemetryDetails="drag drop"};function p(){var e,t;const i=r.c.telemetry,{title:a,folder:l,categories:c,tags:d,snippet:u}=n.i,{initialTitle:p,initialFolders:g}=o.a,m=!l||l.title===l.id,v=!!g.map(e=>null==e?void 0:e.id).find(e=>e===(null==l?void 0:l.id)),h={eventType:"other",pageName:s,category:"new item item info",label:a===p?"default title":"title changed",action:(null==u?void 0:u.length)>0?"summary":"no summary",count:null!==(e=null==d?void 0:d.length)&&void 0!==e?e:0,number:null!==(t=null==c?void 0:c.length)&&void 0!==t?t:0};h.details=v?m?"root folder":"custom folder":"new folder",null==i||i.logEvent(h)}},26262:(e,t,i)=>{i.d(t,{a:()=>n,g:()=>o,i:()=>a});var r=i(41473);const n=(e,t)=>(0,r.a)(`${(0,r.g)(e)}community/groups/${t.id}`),o=(e,t)=>`${((e,t)=>(0,r.a)(`${(0,r.g)(e)}content/groups/${t.id}`))(e,t)}search`,a=e=>{var t;return null===(t=null==e?void 0:e.capabilities)||void 0===t?void 0:t.includes("distributed")}},26854:(e,t,i)=>{i.d(t,{a:()=>s,c:()=>c,g:()=>o,h:()=>n,i:()=>a,r:()=>l});var r=i(15332);function n(e){const t=document.createElement("textarea");return t.innerHTML=e,t.innerText}function o(e){return function(e){return null==e?void 0:e.replace(/&#10;&#13;|&#10;|&#13;|\r\n|\r|\n/g,"<br>")}(function(e){return null==e?void 0:e.replace(/(?:\r)/g,"&#10;").replace(/(?:\n)/g,"&#13;")}(function(e){return null==e?void 0:e.replace(/(https?:\/\/[^\s]+)/g,e=>`<a href="${e}" target="_blank">${e}</a>`)}(function(e){return null==e?void 0:e.replace(/(?:&#10;)/g,"\r").replace(/(?:&#13;)/g,"\n")}(e))))}function a(e){return e.replace(/\$\{startSup\}/g,"<sup>").replace(/\$\{endSup\}/g,"</sup>")}function l(e,t,i){return e.replace(/\$\{startLink\}/g,`<calcite-link label="${i}" href="${t}" target="_blank">`).replace(/\$\{endLink\}/g,"</calcite-link>")}function s(e){return e.replace(/\$\{startStrong\}/g,"<strong>").replace(/\$\{endStrong\}/g,"</strong>")}function c(e){return(0,r.s)((null==e?void 0:e.trim())||"").replace(/[!*+\-&|()[\]{}^~?:"\\]/g,"\\$&")}},31581:(e,t,i)=>{i.d(t,{f:()=>o});var r=i(83692),n=i(15332);async function o(e,t,i,o){var a,l,s,c,d;const u=null!==(d=null!==(s=null!==(a=e.orgId)&&void 0!==a?a:null===(l=e.sourceJSON)||void 0===l?void 0:l.orgId)&&void 0!==s?s:null===(c=e.portal)||void 0===c?void 0:c.id)&&void 0!==d?d:null==i?void 0:i.id;return(0,r.f)(()=>async function(e,t,i,o,a){var l,s;const c=(null===(l=e.portal)||void 0===l?void 0:l.portalHostname)||(null==o?void 0:o.portalHostname)||(null===(s=null==o?void 0:o.restUrl)||void 0===s?void 0:s.replace("/sharing/rest","")),d=a?`https://www.arcgis.com/sharing/rest/portals/${t}`:`https://${c}/sharing/rest/portals/${t}`;if(!c&&!a)return null;const u=a?{disableIdentityLookup:!0,addTokenManually:!1}:{},p=await(0,r.r)(d,{},u),{urlKey:g,thumbnail:m,customBaseUrl:v}=p,h=`https://${g}.${v}/`,f=m?`${h}sharing/rest/portals/self/resources/${m}`:null;let y,b;try{const e=await(0,r.r)(`${d}/resources/localizedOrgProperties`,{start:1,num:100},u);if(e){const t=e[i]||e.default;y=t.name,b=t.description||e.description}}catch(e){}return{name:y||p.name,description:(0,n.a)(b||p.description),url:`${h}home/`,thumbnail:f}}(e,u,t,i,o),"verified",u)}},34613:(e,t,i)=>{i.d(t,{r:()=>n});const r={fileName:/\$\{fileName\}/g,fileType:/\$\{type\}/g,typeList:/\$\{typeList\}/g,missingFields:/\$\{\missingFields\}/g,layerType:/\$\{layerType\}/g},n=(e,t,i)=>{const n=new RegExp(r[i]);return null==e?void 0:e.replace(n,t)}},35838:(e,t,i)=>{i.r(t),i.d(t,{arcgis_new_item_pages_developer_credentials_summary:()=>P});var r=i(87849),n=i(50315),o=i(59317),a=i(4429),l=i(931),s=i(41473),c=i(1654),d=i(26854),u=i(51867),p=i(72257),g=i(74695),m=i(1536),v=i(83692),h=i(3826),f=i(95878),y=i(13446),b=i(66381),w=i(34613),k=i(20699);i(26262),i(37762),i(93814),i(46904),i(15332),i(15912),i(31581),i(86562),i(88878),i(24869),i(54251),i(27137),i(76246),i(58573),i(29599),i(60958),i(32478);const P=class{constructor(e){(0,r.r)(this,e),this.newItemUpdatePage=(0,r.c)(this,"newItemUpdatePage",7),this.newItemToggleNavigationEnabled=(0,r.c)(this,"newItemToggleNavigationEnabled",7),this.workflowComplete=(0,r.c)(this,"workflowComplete",7),this.workflowCancel=(0,r.c)(this,"workflowCancel",7),this.newItemSetButtonState=(0,r.c)(this,"newItemSetButtonState",7),this.generateToken=!0,this.isOAuthType=!1,this.workflowCancelled=!1,this.selectedItems=[],this.handleRequest=async()=>{const{newItemMode:e,developerCredentialsType:t}=h.a,{categories:i}=p.i,{portal:r}=o.c,{generateToken:l}=this;let s,c;this.isLoading=!0;try{(0,k.a)(),({addResponse:s,publishResponse:c}=await this.handleAddItem());const d=[null==s?void 0:s.id,null==c?void 0:c.id].filter(e=>e);if(i&&await(0,n.u)({portal:r,itemIds:d,categories:i}),this.workflowCancelled)(null==c?void 0:c.id)&&await(0,m.d)(c.id,{permanentDelete:!0}),s.id&&await(0,m.d)(s.id,{permanentDelete:!0}),this.workflowCancel.emit();else{let i;(0,k.c)(),o.c.telemetry&&await(0,a.t)(750),i=Object.assign({id:null==s?void 0:s.id,item:Object.assign({},h.a),response:s,newItemMode:e,generateToken:l,developerCredentialsType:t},c),this.workflowComplete.emit(i)}(0,y.r)()}catch(e){console.error(e),this.isLoading=!1,this.error=e,this.showLoader(!1)}},this.error=void 0,this.loading=!1,this.loaderType="indeterminate",this.loaderMessage=void 0,this.alertInfo=void 0,this.isLoading=!1,this.privilegesAcknowledged=!0}async componentWillLoad(){const{developerCredentialsType:e,selectedAppPrivileges:t,formattedItemPrivileges:i,apiToken1ExpirationDate:r}=h.a;this.isOAuthType="oauth"===e,this.title=p.i.title||h.a.initialTitle,this.i18n=f.u.i18n.developerCredentialsSummary,this.isOAuthType?(f.u.nextText="create",f.u.cancelText="cancel"):this.expirationDateDisplay=await this.formatExpirationDate(r),(i||[]).length>0&&b.i.some(e=>t.includes(e))?this.appPrivileges=t.filter(e=>b.i.every(t=>e!==t)):this.appPrivileges=t;const n=(this.appPrivileges||[]).concat(i||[]);if(h.a.developerPrivileges=n,this.personalPrivilegesExist=!o.c.portal.isPortal&&this.appPrivileges.some(e=>!e.includes("premium")||b.p.includes(e)),this.privilegesAcknowledged=!1,h.a.formattedItemPrivileges.length>0){const e=await Promise.all(h.a.formattedItemPrivileges.map(async e=>{const t="portal:app:access:item:",i=e.slice(e.indexOf(t)+23),r=`${(0,s.g)(o.c.portal)}content/items/${i}`;return await(0,v.r)(r)}));this.selectedItems=e.sort(function(e,t){const i=e.title.toLowerCase(),r=t.title.toLowerCase();return i<r?-1:i>r?1:0})}}handlePrivilegesAcknowledged(){this.privilegesAcknowledged||!this.personalPrivilegesExist?this.newItemSetButtonState.emit({targetButton:"primary",state:{loading:!1,disabled:!1}}):this.newItemSetButtonState.emit({targetButton:"primary",state:{loading:!1,disabled:!0}})}async handleNext(){h.a.isPersonalAPIToken=!o.c.portal.isPortal&&((0,c.r)(o.c.subscriptionInfo)||this.privilegesAcknowledged),this.isOAuthType?this.handleRequest():this.newItemUpdatePage.emit("developerCredentialsGenerateTokenCheck")}async handleAddItem(){let e;return this.showLoader(!0,{loaderType:"indeterminate",loaderMessage:(0,w.r)(this.i18n.creating,h.a.type,"fileType")}),e=await this.addDeveloperCredentialApplication(),{addResponse:e,publishResponse:undefined}}async addDeveloperCredentialApplication(){const{developerCredentialsRedirectUrls:e,applicationEnvironment:t,apiKeyReferrerUrls:i,developerPrivileges:r,isPersonalAPIToken:n}=h.a;try{return(0,g.d)(h.a,(0,s.g)(o.c.portal),this.isOAuthType?Object.assign({appType:t,httpReferrers:i,redirect_uris:e,privileges:r},n&&{isPersonalAPIToken:n}):{httpReferrers:i,privileges:r})}catch(e){return console.error(e),this.isLoading=!1,void(this.error=e)}}showLoader(e,t){t&&this.updateLoader(t.loaderType,t.loaderMessage),e?(this.newItemToggleNavigationEnabled.emit(!1),this.loading=!0):(this.newItemToggleNavigationEnabled.emit(!0),this.loading=!1)}updateLoader(e,t){this.loaderType=e,this.loaderMessage=t}renderRedirectUrlsList(){const{developerCredentialsRedirectUrls:e}=h.a;return(0,r.h)("div",{class:"content"},(e||[]).map((t,i)=>{const n=1===e.length||i===e.length-1;return(0,r.h)("p",{key:i}," ",`${t}${n?"":", "}`," ")}))}renderNewItemPrivilegeList(e){const t=(0,u.a)(e,o.c.portal,o.c.user),i=(null==t?void 0:t.length)>0;return(0,r.h)("div",{class:"item-access-list item-access-list--grid-columns"},(0,r.h)("p",{class:"item-access-title"},e.title),(0,r.h)("arcgis-item-type",{item:e,portal:o.c.portal,showHosted:!0,user:o.c.user,class:"item-type",scale:"m",showText:!0}),i&&(0,r.h)("arcgis-item-badges",{class:"badges",item:e,portal:o.c.portal,user:o.c.user,scale:"s",width:"narrow",showTooltips:!0}))}renderAppPrivilegesSummary(){const{appPrivileges:e}=this,{user:t,portal:i,config:n}=o.c,{subscriptionType:a}=h.a;return(0,r.h)("arcgis-privileges-picker",{readonly:!0,privilegesToShow:e,portal:i,mode:a,user:t,portalConfig:n,value:e,limitToUserPrivileges:!0,isPersonalAPIToken:!0})}renderPrivilegeNotice(){const{i18n:e}=this;return(0,r.h)("div",{class:"privilege-notice"},(0,r.h)("calcite-icon",{scale:"s",class:"notice-icon",icon:"exclamation-mark-triangle"}),(0,r.h)("div",{innerHTML:(0,d.r)(e.privilegeDependencyNoticeSingular,"https://developers.arcgis.com/documentation/security-and-authentication/reference/privileges/#privilege-scopes",e.privilegeDependencyNoticeSingular)}))}async formatExpirationDate(e){if(!e)return null;const[t]=await(0,l.l)(["esri/intl"]);return t.formatDate(e,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",timeZoneName:"short"})}render(){const{developerCredentialsRedirectUrls:e,formattedItemPrivileges:t,developerCredentialsType:i,breadcrumbs:n}=h.a,{title:a,i18n:l,isLoading:s,appPrivileges:d,privilegesAcknowledged:u,personalPrivilegesExist:p,expirationDateDisplay:g}=this,m=(t||[]).length,v=(d||[]).length,f=(d||[]).filter(e=>e.includes("admin")).length,y=v-f,b=(d||[]).filter(e=>!e.includes("premium:user:")).length,w=l.appPrivilegesSummary.replace("${generalPrivilegesLength}",String(y)).replace("${adminPrivilegesLength}",String(f)),k=l.itemPrivilegesSummary.replace("${selectedItemPrivilegesLength}",String(m));return(0,r.h)(r.H,{key:"1e230dcb969dbba5cb1ce9b970dff1717b51137a"},(0,r.h)("div",{key:"379ce830e8786268e1caf22f94708fc3733ba17d",class:"main-wrapper"},(0,r.h)("arcgis-new-item-breadcrumbs",{key:"5adeb112190483daf1335e3dcc72ad04195057c5",breadcrumbs:n}),(0,r.h)("arcgis-new-item-loader",{key:"d68b08a54b233d64e237bcc957d824fa32f39876",active:s,text:l.registering}),(0,r.h)("div",{key:"3e929c02fbb9b9d118af5ba20aed821d2ad7f355",class:"section"},(0,r.h)("arcgis-new-item-description",{key:"51a6ca9ad92c8f54e13b346542c0dbd07527f970",class:"section",header:l.summary,content:l.reviewSettings})),(0,r.h)("div",{key:"8751418460913fa028419cf2710abf1bcc810012",class:"title-summary section"},(0,r.h)("arcgis-new-item-description",{key:"42416b670c2a2b5326f2b241e9ce3d5f4b3dcec0",header:l.title,content:a})),"apiToken"===i&&(0,r.h)("div",{key:"7f0995310ff689e78d52d8337c83cc45946c9d1b",class:"expiration-summary section"},(0,r.h)("arcgis-new-item-description",{key:"72c206b0c0c91418804aceb91b44ed4825bff9ae",header:l.expiration,content:g})),(null==e?void 0:e.length)>0&&(0,r.h)("div",{key:"db56f307634322823d52074081be68fa33a23a21",class:"redirect-url-summary section"},(0,r.h)("p",{key:"981e3869d92af3af0954b890815111b48698d8d1",class:"header"},l.redirectUrl),(0,r.h)("div",{key:"2bd86cc6f4b93de109db40ae459e9270f05f87b8",class:"content"},(0,r.h)("p",{key:"66ba1f517f9860d08a50e8d3b9e2bba8ae12f688"},this.renderRedirectUrlsList()))),v>0&&!(0,c.r)(o.c.subscriptionInfo)&&(0,r.h)("div",{key:"57636c18a09d8dbefbec2b539c809f2539c9e2fc",class:"app-privileges-summary section"},(0,r.h)("p",{key:"a56113f9d4bf343c42e49dd30f4f2974cc674d23",class:"header"},l.privileges),(0,r.h)("div",{key:"4e852002de1e1fa531065ca39699e6d0b6a8b1ad",class:"content"},w),"apiToken"===i&&b>0&&!o.c.portal.isPortal&&this.renderPrivilegeNotice(),(0,r.h)("p",{key:"b73ff9f361549245875ca017429f2326ef4e70e5"},this.renderAppPrivilegesSummary())),m>0&&(0,r.h)("div",{key:"4aedafa7203f92ac022b4da93cdbcd0868ca5075",class:"item-access-summary section"},(0,r.h)("p",{key:"6d9de1e6c0706a8355faa71aa056616e291d976b",class:"header"},l.itemAccess),(0,r.h)("div",{key:"0e679d6c197c38888568abfa2c0376db23b31d55",class:"content"},(0,r.h)("p",{key:"9db756ad5067f988214698174ef57892c799e5eb"},k,(0,r.h)("div",{key:"f29fdf2eddf047963d6c42f9183ce41c28e462f5",class:"section"},this.selectedItems.map(e=>this.renderNewItemPrivilegeList(e))))))),p&&(0,r.h)("footer",{key:"0c7ae4bbec44b3ff123f6ce5d1bbbf8426644a5a",class:"sticky-footer"},(0,r.h)("calcite-label",{key:"104bae9671dcfbc5bd68cebe15ee406814387fe5",class:"acknowledge-statement",layout:"inline"},(0,r.h)("calcite-checkbox",{key:"f504b96f3806f05711a983f9f8ea125eabe42b94",checked:u,onCalciteCheckboxChange:()=>{this.privilegesAcknowledged=!u}}),l.acknowledgePrivileges)),(0,r.h)("arcgis-new-item-alert",{key:"8530b770211a5ba2c03cabae5c53cb69b068c4d0",heading:l.errorTitle,description:l.errorDescription,active:!!this.error,onAlertDismiss:()=>this.error=null}))}get el(){return(0,r.a)(this)}static get watchers(){return{privilegesAcknowledged:["handlePrivilegesAcknowledged"]}}};P.style=":host{height:100%;overflow:hidden;background-color:var(--calcite-color-foreground-1)}@media (forced-colors: active){calcite-checkbox{border:1px solid var(--calcite-color-border-1)}}.main-wrapper{padding:0.75rem}.privilege-notice{margin-top:0.75rem;margin-bottom:0.75rem;display:flex;width:75%;flex-direction:row;align-items:center;background-color:var(--calcite-color-foreground-2);padding:1.25rem;font-size:0.875rem}.notice-icon{margin-inline-end:1rem;color:var(--calcite-color-status-danger)}.header{padding:0px;font-size:1rem;font-weight:500;color:var(--calcite-color-text-1);min-width:0px;margin-top:0px;margin-bottom:0px;overflow-wrap:anywhere;line-height:1.5}.content{font-size:0.875rem;margin-top:0.25rem;line-height:1.5}.content>p{margin-top:0px;margin-bottom:0px}.section{margin-bottom:1.5rem}.personal-credential-badge{margin-bottom:0.75rem}.sticky-footer{position:sticky;bottom:0px;display:flex;height:10%;width:100%;align-items:center;background-color:var(--calcite-color-foreground-1);border-top:1px solid var(--calcite-color-border-3)}.acknowledge-statement{margin-inline-start:auto;margin-inline-end:0.75rem;padding-top:1rem}.item-access-title{font-size:0.875rem;font-weight:500;color:var(--calcite-color-text-1)}.item-access-list{padding-inline-start:0.75rem}.item-access-list--grid-columns{display:grid;grid-template-columns:2fr 1fr 1fr}"},37362:(e,t,i)=>{i.d(t,{U:()=>r,a:()=>o,b:()=>n,g:()=>a});const r="/Categories",n=(e,t,i=!0)=>{const r=null!=e?e:"";return`${r}${r.endsWith("/")?"":"/"}${i?t.title.toLocaleLowerCase():t.title}`};function o(e){var t;let i=null===(t=null==e?void 0:e[0])||void 0===t?void 0:t.title;return i&&"/"!==i.charAt(0)&&(i=`/${i}`),i||r}const a=(e,t)=>`${e.replace(/\/([^\/]+)$/,`/${t}`)}`},50315:(e,t,i)=>{i.d(t,{a:()=>m,b:()=>u,c:()=>g,d:()=>h,e:()=>p,f:()=>d,g:()=>c,u:()=>v});var r=i(83692),n=i(37362),o=i(59317),a=i(26262),l=i(41473),s=i(1654);const c=async({portal:e,user:t,group:i,useCache:r=!1})=>{var n;try{const o=await(i?u(i.id,e,r):d(e,t,r));return{result:null!==(n=null==o?void 0:o.categorySchema)&&void 0!==n?n:null}}catch(e){return console.error(e),{error:{code:"unhandledError"}}}};async function d(e,t,i=!0){if(null!=e||(e=o.c.portal),null!=t||(t=o.c.user),!(null==e?void 0:e.id)||t&&(0,s.b)(t))return null;const n=()=>(0,r.r)(`${(0,l.g)(e)}portals/${e.id}/categorySchema`);return i?(0,r.f)(n,"categorySchema",e.id):n()}async function u(e,t,i=!0){if(null!=t||(t=null===o.c||void 0===o.c?void 0:o.c.portal),!e||!t)return null;const n=()=>(0,r.r)(`${(0,a.a)(t,{id:e})}categorySchema`);return i?(0,r.f)(n,"categorySchema",e):n()}const p=async({user:e,portal:t,useCache:i=!1})=>{var r;const n=await g(t,e,i);return{result:null!==(r=null==n?void 0:n.memberCategorySchema)&&void 0!==r?r:null}};async function g(e,t,i=!0){if(null!=e||(e=o.c.portal),null!=t||(t=o.c.user),!(null==e?void 0:e.id)||t&&(0,s.b)(t))return null;const n=()=>(0,r.r)(`${(0,l.g)(e)}portals/${e.id}/memberCategorySchema`);return i?(0,r.f)(n,"memberCategorySchema",e.id):n()}async function m(e,t,i=!0){const n=()=>async function(e,t){var i;const n=(0,l.g)(e),o=(0,l.b)(e),s=await(0,r.r)(`${n}portals/self?culture=${o}`),c=await(0,r.r)(`${n}community/groups?q=${s.contentCategorySetsGroupQuery}`),d=null===(i=null==c?void 0:c.results)||void 0===i?void 0:i[0],u=(await(0,r.r)((0,a.g)(e,d),{q:`typekeywords: ${t}`})).results[0];return(0,r.r)(`${n}content/items/${u.id}/data`)}(e,t);return i?(0,r.f)(n,"categorySchema",t):n()}async function v({categories:e,itemIds:t,portal:i,group:n}){try{const o=`${(0,l.g)(i)}/content/${n?`groups/${n.id}/updateCategories`:"updateItems"}`,a=JSON.stringify(t.map(t=>{const i=Array.isArray(e)?e:e[t];return{[t]:n?i:{categories:i}}}));return{result:await(0,r.r)(o,{items:a},{},"post")}}catch(e){return console.error(e),{error:{code:"unhandledError"}}}}const h=async({path:e,portal:t,group:i,updateInfo:r})=>{try{const o=(await f({category:e,portal:t,group:i,num:1})).total;if(0===o)return console.warn(`No items found with category ${e} when updating schema`),{};const a=100,l=Math.ceil(o/a),s=[];for(let o=0;o<l;o++)s.push(f({category:e,portal:t,group:i,start:o*a,num:a}).then(({results:t})=>{const o={};return t.forEach(t=>{var a;const l=null!==(a=i?t.groupCategories:t.categories)&&void 0!==a?a:[],s="change-title"===r.type?l.map(t=>{const i=(0,n.g)(e,r.newTitle);return t===e?i:t.replace(`${e}/`,`${i}/`)}):l.filter(t=>!t.startsWith(e));o[t.id]=s}),o}));const c=await Promise.all(s);return await Promise.all(c.map(e=>v({categories:e,itemIds:Object.keys(e),portal:t,group:i}))),{}}catch(t){return console.error(`Error ${r.type} items schema from path ${e}:`,t),{error:{code:"unhandledError"}}}},f=({category:e,num:t=100,start:i=0,portal:n,group:o})=>{const s={start:i,num:t,categories:JSON.stringify([e])},c=o?(0,a.g)(n,o):`${(0,l.g)(n)}search`;return(0,r.r)(c,Object.assign(Object.assign({},s),{q:o?void 0:`orgid: ${n.id}`}))}},51867:(e,t,i)=>{i.d(t,{a:()=>y,b:()=>b,c:()=>w,g:()=>v,i:()=>h});var r=i(46904),n=i(1654),o=i(15912),a=i(31581);const l=["3DInsetMap","3DScene","3DViz","AttachmentViewer","CapacityAnalysis","Compare/storytelling_compare","Compare/storytelling_tabbed","Compare/storytelling_sidepanel","Compare/Multiviewer","Compare/Search","Compare/Configure","Compare/SideBySideViewer_Configure","Compare3d","CompareAnalysis","CompareMaps","Directions","Edit","Editor","Elevations","ElevationsProfile","Filter","FilterGallery","GeoList","GeoTour","HeaderFooter","Identify","ImageInterpretation","ImageryViewer","ImpactSummary","InformationLookup","InteractiveFilter","InteractiveLegend","LayerShowcase","Legend","LiveMaps","LocalPerspective","MapAndAppGallery","MapCarousel","MapTools","Media","MinimalGallery","Minimalist","Nearby","OnePane","Panels","PanelsLegend","Profile","PublicGallery","PublicInformation","ServiceLookup","SimpleMapViewer","SimpleViewer","SocialMedia","Solutions/s2.html?app=apps2/FindEditFilter","Solutions/s2.html?app=apps2/Finder","StorytellingTextLegend","StoryMapBasic","Styler","SummaryViewer","Time","TimeAware","TwoPane","Viewer","ZoneLookup","Compare","CrowdsourceManager","CrowdsourcePolling","CrowdsourceReporter","Embed","GeoForm","ImageMask","ImageVisit","MobileViewer","View"];function s(e,t){var i;return(null==t?void 0:t.isPortal)&&"Web Mapping Application"===e.type&&(null===(i=e.typeKeywords)||void 0===i?void 0:i.includes("Story Map"))}function c(e){var t;return"Data Store"===e.type&&(null===(t=e.typeKeywords)||void 0===t?void 0:t.includes("bigDataFileShare"))}function d(e,t){var i;return(null==t?void 0:t.isPortal)&&"Web Mapping Application"===e.type&&(null===(i=e.typeKeywords)||void 0===i?void 0:i.includes("Web AppBuilder"))}function u(e,t){return(null==t?void 0:t.isPortal)&&"AppBuilder Extension"===e.type}function p(e,t){const i=l.some(t=>{var i;const r=t.includes(".html"),n=`/apps/${t}${r?"":"/"}`;return null===(i=e.url)||void 0===i?void 0:i.includes(n)});return(null==t?void 0:t.isPortal)&&"Web Mapping Application"===e.type&&e.url&&i}function g(e,t){return(null==t?void 0:t.isPortal)&&["Insights Workbook","Insights Page","Insights Model","Insights Theme","Insights Workbook Package","Kernel Gateway Connection","Insights Script","Insights Data Engineering Workbook","Insights Data Engineering Model","Relational Database Connection"].includes(e.type)}const m=(e,t)=>d(e,t)||u(e,t)||p(e,t)||g(e,t);function v(e){var t;return(null==e?void 0:e.contentStatus)||(null===(t=null==e?void 0:e.sourceJSON)||void 0===t?void 0:t.contentStatus)}function h(e){return"public_authoritative"===v(e)}function f(e,t){return!(null==t?void 0:t.isPortal)&&["Insights Workbook","Insights Page","Insights Model","Insights Theme","Insights Workbook Package"].includes(null==e?void 0:e.type)}function y(e,t,i){var n,a,l,d,u,p,g,y;const b=[],w=null===(a=e.groupDesignations||(null===(n=e.sourceJSON)||void 0===n?void 0:n.groupDesignations))||void 0===a?void 0:a.split(", "),k=(P=e.type,o.r.includes(P)||s(e,t)||c(e)||m(e,t));var P;if((function(e){return"org_authoritative"===v(e)}(e)||h(e))&&b.push("Authoritative"),("deprecated"===v(e)||f(e,t))&&b.push("Deprecated"),"Solution"===e.type&&(null===(l=e.typeKeywords)||void 0===l?void 0:l.includes("ArcGIS Solution"))&&b.push("Solution"),(null===(d=e.typeKeywords)||void 0===d?void 0:d.includes("Public Data Collection"))&&i&&b.push("Public Data Collection"),k&&b.push("Retired"),(null==w?void 0:w.includes("livingatlas"))&&b.push("Living Atlas"),w&&w.includes("opendata")&&b.push("Open Data"),(0,r.b)(e)&&b.push("Premium"),(0,r.a)(e)&&b.push("Subscriber"),(e.origin||(null===(u=e.sourceJSON)||void 0===u?void 0:u.origin))&&b.push("Collaboration"),"esri_apps"===e.owner||!e.listed&&!(null===(p=e.sourceJSON)||void 0===p?void 0:p.listed)||(null==t?void 0:t.isPortal)||b.push("Marketplace"),null===(g=e.typeKeywords)||void 0===g?void 0:g.includes("Registered App")){const i=null==t?void 0:t.isPortal;if("API Key"!==e.type&&(!i||"esri_apps"!==e.owner)){const t=e.typeKeywords;(null==t?void 0:t.includes("APIToken"))?b.push((null==t?void 0:t.includes("Personal API Token"))&&!i?"Registered API Key Credentials (Personal)":"Registered API Key Credentials (Standard)"):b.push((null==t?void 0:t.includes("Personal API Token"))&&!i?"Registered OAuth 2.0 Credentials (Personal)":"Registered OAuth 2.0 Credentials (Standard)")}}return(null===(y=e.typeKeywords)||void 0===y?void 0:y.includes("hasReplacementItem"))&&b.push("Has Replacement"),b}function b({badgeType:e,i18n:t,item:i,portal:r}){const n=null==r?void 0:r.isPortal,o=t["Registered API Key Credentials (Standard)"].title,a=t["Registered OAuth 2.0 Credentials (Standard)"].title;switch(e){case"Registered API Key Credentials (Standard)":return n?o.enterprise:o.online;case"Registered OAuth 2.0 Credentials (Standard)":return n?a.enterprise:a.online;case"Deprecated":return f(i,r)?t.DeprecatedItem.title:t.Deprecated.title;default:return t[e].title}}async function w({badgeType:e,i18n:t,item:i,locale:r,portal:o,user:l,useProduction:m}){const h=!l||(0,n.b)(l);switch(e){case"Authoritative":if(i&&"public_authoritative"===v(i)){const e=await(0,a.f)(i,r,o),n=(null==o?void 0:o.isPortal)&&!m?null==o?void 0:o.name:null==e?void 0:e.name;return t.Authoritative.tooltip.public.replace("${name}",n)}return t.Authoritative.tooltip.org;case"Retired":const n=t.Retired.tooltip;return i?s(i,o)?n.storyMap:function(e){return"CityEngine Web Scene"===e.type}(i)?n.cityEngine:d(i,o)||u(i,o)?n.webAppBuilder:p(i,o)?n.app:g(i,o)?n.insights:function(e){return"Big Data File Share"===e.type||c(e)}(i)?n.bdfs:n.general:n.general;case"Subscriber":return h?t.Subscriber.tooltip.public:t.Subscriber.tooltip.org;case"Premium":return h?t.Premium.tooltip.public:t.Premium.tooltip.org;case"Registered":return(null==o?void 0:o.isPortal)?t.Registered.tooltip.enterprise:t.Registered.tooltip.online;case"Personal credential":return t["Personal credential"].tooltip;case"Has Replacement":return t["Has Replacement"][window.location.href.includes("item.html")?"itemPageTooltip":"tooltip"];default:return t[e].tooltip}}},66381:(e,t,i)=>{i.d(t,{a:()=>r,d:()=>o,i:()=>l,o:()=>n,p:()=>s,s:()=>a});const r=["basemap","geocodingNotStored","routing","serviceArea","geocodingStored","optimizedRouting","closestFacility","locationAllocation","multiVehicleRouting","costMatrix","places","geoEnrichment"],n=["geocodingNotStored"],o=["geocodingNotStored","routing","serviceArea"],a={basemap:"premium:user:basemaps",geocodingNotStored:"premium:user:geocode:temporary",routing:"premium:user:networkanalysis:routing",serviceArea:"premium:user:networkanalysis:servicearea",places:"premium:user:places",geocodingStored:"premium:user:geocode:stored",optimizedRouting:"premium:user:networkanalysis:optimizedrouting",closestFacility:"premium:user:networkanalysis:closestfacility",locationAllocation:"premium:user:networkanalysis:locationallocation",multiVehicleRouting:"premium:user:networkanalysis:vehiclerouting",costMatrix:"premium:user:networkanalysis:origindestinationcostmatrix",geoEnrichment:"premium:user:geoenrichment"},l=["features:user:edit","features:user:fullEdit","features:user:manageVersions","portal:admin:viewItems","portal:admin:updateItems","portal:admin:deleteItems","portal:admin:categorizeItems","portal:admin:reassignItems","portal:admin:updateItemCategorySchema","portal:admin:updateItemClassificationSchema","portal:admin:viewUsers","portal:user:categorizeItems","portal:user:reassignItems","portal:user:receiveItems","portal:user:viewTracks","portal:user:viewOrgItems","portal:user:viewHostedFeatureServices","portal:user:viewHostedTileServices","portal:user:viewOrgUsers"],s=["premium:publisher:createNotebooks","premium:publisher:scheduleNotebooks"]}}]);