/*! For license information please see arcgis_analysis_node_modules_arcgis_map-config-components_dist_components_-6c2a5e.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["extensions_widgets_arcgis_analysis_node_modules_arcgis_map-config-components_dist_components_-6c2a5e"],{4265:(e,t,a)=>{a.d(t,{a:()=>s,d:()=>i,t:()=>l});const i=(e,t)=>{let a,i="idle";const s=async(...s)=>await new Promise(l=>{switch(i){case"flushed":i="idle",a?(clearTimeout(a),l(e(...s))):l(null);break;case"invoked":clearTimeout(a),i="idle",l(e(...s));break;case"cancelled":clearTimeout(a),i="idle",l(null);break;default:a&&clearTimeout(a),i="pending",a=setTimeout(()=>{i="idle",l(e(...s))},t)}});return s.flush=async function(...e){return i="flushed",await s(...e)},s.invoke=async function(...e){return i="invoked",await s(...e)},s.cancel=async function(...e){return i="cancelled",await s(...e)},s.getStatus=function(){return i},s},s=(e,t)=>{let a;return async(...i)=>await new Promise(s=>{a||(a=setTimeout(()=>{clearTimeout(a),a=void 0,s(e(...i))},t))})};function l(e){return new Promise(t=>setTimeout(t,e))}},27155:(e,t,a)=>{a.d(t,{i:()=>s});var i=a(12762);function s(e){if(!e)return;let t=i.default.assetsPath;t.endsWith("/")||(t+="/"),e?.firstElementChild?.insertAdjacentHTML("beforebegin",`<link rel="stylesheet" href="${t}esri/themes/light/main.css" />`)}},58978:(e,t,a)=>{a.r(t),a.d(t,{ArcgisMapConfigSmartMappingGammaSlider:()=>g});var i=a(73679),s=a(85643),l=a(4395),n=a(52797),r=a(54312),o=a(86421),d=(a(44345),a(55448),a(34031),a(63438),a(5933),a(28927),a(83368),a(89704),a(5294),a(18423),a(96086),a(91813),a(21255),a(13078),a(21303),a(12627),a(1225)),c=(a(56451),a(23054),a(5077),a(23795),a(17902),a(87420),a(30161),a(81734),a(75698),a(10628),a(59640),a(64451),a(6176),a(65595)),u=(a(77462),a(49403),a(10281),a(83930),a(66617),a(10454),a(29614),a(94916),a(52554),a(2156),a(4038),a(49851),a(75054),a(15223),a(70169),a(47207),a(70852),a(48103),a(39423),a(85681),a(18444),a(42411),a(9767),a(38218),a(91914),a(31521),a(86605),a(68196),a(440),a(46547),a(6238),a(7299),a(4265)),m=a(27155),h=a(73801);const p=l.AH`.slider{height:60px;background-color:transparent;position:relative;width:90%;margin:0 auto}.esri-slider__content{margin-bottom:30px}.slider-bottom-label .esri-slider__max,.slider-bottom-label .esri-slider__min{width:fit-content;position:absolute;bottom:0}.slider-bottom-label .esri-slider__max{right:-9px;text-align:right}.slider-bottom-label .esri-slider__min{left:-9px;text-align:left}`;class g extends h.WF{constructor(){super(...arguments),this.smartMappingState=(0,c.u)()}static{this.properties={gamma:9,rendererType:1}}static{this.styles=p}loaded(){(0,m.i)(this.el.shadowRoot)}disconnectedCallback(){super.disconnectedCallback(),this.sliderValuesHandle?.remove()}divRefHandler(e){if(e){if(this.slider.container)e.append(this.slider.container);else{const t=document.createElement("div");e.append(t),this.slider.container=t}this.createGammaSliderChangeEvents()}}createGammaSliderChangeEvents(){this.sliderValuesHandle?.remove(),this.sliderValuesHandle=r.watch(()=>this.slider.values,(0,u.d)(e=>{e?.length&&this.handleGammaSliderValueChange()},300))}handleGammaSliderValueChange(){const{smartMappingState:e}=this,t=(0,d.T)(e),a=this.formatGammaValue(this.slider.values[0]);t.gamma="raster-stretch"===this.rendererType?[a]:new Array(3).fill(a),t.useGamma=!0,(0,d.ag)(e)}formatGammaValue(e){return Number.parseFloat(Math.exp(e/1e3*Math.log(10)).toFixed(2))}parseGammaValue(e){e=e.replace(",",".");const t=Number.parseFloat(e);return Number.isNaN(t)?this.slider.values[0]:Math.log(t)/Math.log(10)*1e3}render(){if(!this.slider){const e={min:-1e3,max:1e3,values:[this.parseGammaValue(this.gamma.toString())],visibleElements:{labels:!0,rangeLabels:!0},rangeLabelInputsEnabled:!1,precision:3,labelInputsEnabled:!0};e.labelFormatFunction=e=>this.formatGammaValue(e).toLocaleString(n.getLocale()),e.inputFormatFunction=e=>this.formatGammaValue(e).toLocaleString(n.getLocale()),e.inputParseFunction=e=>this.parseGammaValue(e),this.slider=new o.default(e)}return l.qy`<div class="slider slider-bottom-label" ${(0,s.K)(this.divRefHandler)}></div>`}}(0,i.c)("arcgis-map-config-smart-mapping-gamma-slider",g)},65595:(e,t,a)=>{a.d(t,{c:()=>n,u:()=>r});var i=a(20936),s=a(1225),l=(a(54312),a(44345),a(55448),a(52797),a(34031),a(63438),a(5933),a(28927),a(83368),a(89704),a(5294),a(18423),a(96086),a(91813),a(21255),a(13078),a(21303),a(12627),a(56451),a(31521),a(23054),a(5077),a(23795),a(17902),a(87420),a(30161),a(81734),a(75698),a(10628),a(59640),a(64451),a(6176),a(83552));a(77462),a(49403),a(10281),a(83930),a(66617),a(10454),a(29614),a(94916),a(52554),a(2156),a(4038),a(49851),a(75054),a(15223),a(70169),a(47207),a(70852),a(48103),a(39423),a(85681),a(18444),a(42411),a(9767),a(38218),a(91914),a(86605),a(68196),a(440),a(46547),a(6238),a(7299);function n(e){e.selectedFields=[],e.layerFields=void 0,e.fields=void 0,e.hideLayerTitle=!1,e.supportsArcade=!1,e.stringFieldsCount=-1,e.dateFieldsCount=-1,e.numberFieldsCount=-1,e.containsFlow=!0,e.oneFeatureResponseStatus=s.s.MISSING,e.selectedAttribute=void 0,e.selectedAttributeText=void 0,e.selectedTypeValue=void 0,e.selectedValue=void 0,e.lastDefault=void 0,e.lastDefaults=void 0,e.dotColorSelected=void 0,e.backgroundStyleSelected=void 0,e.lastSettings=void 0,e.classedSymbolSelectedIdx=void 0,e.allUniqueValues=void 0,e.useFeatureReduction=void 0,e.symbolStylerConfig={},e.allowTimeSeriesConfiguration=!1,e.rasterInfo=void 0}function r(){const e=(0,l.Gk)(),t=e;e.manager.onLoad(()=>{t.smartMappingState=function(e,t){const a=o.get(e);if(a)return a;const s=(0,i.el)(e,t);return s&&"store"in s?(o.set(e,s.store),s.store):null}(e.el,"arcgis-map-config-smart-mapping")})}const o=new WeakMap}}]);