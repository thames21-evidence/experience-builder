/*! For license information please see arcgis_analysis_node_modules_arcgis_map-config-components_dist_components_-486a8c.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["extensions_widgets_arcgis_analysis_node_modules_arcgis_map-config-components_dist_components_-486a8c"],{92974:(e,t,o)=>{o.r(t),o.d(t,{ArcgisMapConfigSmartMappingDropdown:()=>p});var i=o(73679),s=o(4395),n=o(73801),d=o(85643);const r=s.AH`.dropdown{overflow-y:auto;padding:6px}.dropdown-item{border-top:1px solid #ddd;padding:5px;border-left:4px solid #ffffff;display:flex;cursor:pointer}.dropdown-item:focus{outline:1px solid var(--calcite-ui-focus-color, var(--calcite-color-brand));padding:5px;display:flex}.dropdown-item:hover{background-color:#00000009}.selected{border-left:4px solid var(--calcite-color-brand)}:dir(rtl){.dropdown-item{border-left:0;border-right:4px solid #ffffff}.selected{border-left:0;border-right:4px solid var(--calcite-color-brand)}}.dropdown-item-icon{min-width:16px;background-repeat:no-repeat;height:48px;padding:0;display:inline-block}.dropdown-item-text{display:inline;padding:0 10px}.dropdown-item-title{font-weight:700;padding:6px 0;line-height:18px}.dropdown-item-msg{font-size:80%;line-height:16px}`;class p extends n.WF{constructor(){super(...arguments),this.popoverNode=(0,d._)(),this.dropdownItems=[],this.resizeObserver=new ResizeObserver(()=>this.requestUpdate()),this.arcgisSmartMappingDropdownChange=(0,n.lh)(),this.arcgisSmartMappingDropdownClose=(0,n.lh)(),this.arcgisSmartMappingDropdownDisconnected=(0,n.lh)()}static{this.properties={buttonNode:0,infos:0,smartMappingState:0}}static{this.styles=r}loaded(){const e=this.dropdownItems.find(e=>e.classList.contains("selected"));setTimeout(()=>requestAnimationFrame(()=>e?.focus()),300),this.resizeObserver.observe(this.buttonNode)}disconnectedCallback(){super.disconnectedCallback(),this.arcgisSmartMappingDropdownDisconnected.emit(),this.resizeObserver.disconnect()}divRefHandler(e){this.dropdownItems.length>this.infos.length||e&&this.dropdownItems.push(e)}render(){const{_messages:e}=this.smartMappingState,t=this.buttonNode.getBoundingClientRect(),o=t.top,i=window.innerHeight-t.bottom,r=i<o?o:i,p=i<o?"top":"bottom";return s.qy`<calcite-popover class="js-app-flyout" .label=${e.dropdown.dropdownOptions} .referenceElement=${this.buttonNode} offset-distance=3 offset-skidding=0 pointer-disabled auto-close open @calcitePopoverClose=${()=>{this.arcgisSmartMappingDropdownClose.emit(this.key),this.key=void 0}} .placement=${p} ${(0,d.K)(this.popoverNode)}><div class="dropdown" style=${(0,n.zl)({width:.95*this.buttonNode.clientWidth+"px",maxHeight:.9*r+"px"})}>${this.infos.map((e,t)=>this.renderDropdownItem(e,t,this.infos.length))}</div></calcite-popover>`}renderDropdownItem(e,t,o){const r=e.selected?"selected":"";return s.qy`<div role=menuitem @click=${()=>!this.infos[t].selected&&this.arcgisSmartMappingDropdownChange.emit(this.infos[t])} tabindex=0 @keydown=${e=>{if(" "===e.key||"Enter"===e.key)e.preventDefault(),e.stopPropagation(),this.infos[t].selected||this.arcgisSmartMappingDropdownChange.emit(this.infos[t]);else if("ArrowUp"===e.key){const e=0===t?o-1:t-1;this.dropdownItems[e%o].focus()}else"ArrowDown"===e.key?this.dropdownItems[(t+1)%o].focus():"Escape"===e.key&&(this.key="Escape")}} class=${`dropdown-item ${r}`} ${(0,d.K)(this.divRefHandler)}>${e.iconPath&&s.qy`<div class="dropdown-item-icon" style=${(0,n.zl)({backgroundImage:`url(${(0,i.g)("./assets/map-config-smart-mapping/map-config-smart-mapping-dropdown-images/")}${e.iconPath})`})}></div>`||""}<div class="dropdown-item-text"><div class="dropdown-item-title">${e.title}</div><div class="dropdown-item-msg">${e.msg}</div></div></div>`}}(0,i.c)("arcgis-map-config-smart-mapping-dropdown",p)}}]);