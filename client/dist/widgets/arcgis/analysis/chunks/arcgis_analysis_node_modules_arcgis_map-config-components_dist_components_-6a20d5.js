/*! For license information please see arcgis_analysis_node_modules_arcgis_map-config-components_dist_components_-6a20d5.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["extensions_widgets_arcgis_analysis_node_modules_arcgis_map-config-components_dist_components_-6a20d5"],{79198:(e,t,o)=>{o.d(t,{r:()=>s});var i=o(40519);function s(e){const{layer:t}=e;e.layerOriginInfo=i.getLayerOriginInfo(t,"web-map")}},96150:(e,t,o)=>{o.r(t),o.d(t,{ArcgisMapConfigLayerOverrideProperties:()=>m});var i=o(73679),s=o(85643),r=o(4395),n=o(79198),a=o(73801),c=o(40519);const l="popover",p="content",d="notice",h="tile",u="tooltip",g=r.AH`.popover{--calcite-popover-z-index: 100}.content{padding:.5rem .75rem;background-color:#fff;max-height:80vh}.notice{margin-bottom:16px}.tile{cursor:pointer}.tooltip{max-width:80%}`;class m extends a.WF{constructor(){super(...arguments),this.reRender=!1,this.isOpen=!1,this.arcgisAttributeTableTemplateSourceChange=(0,a.lh)(),this.arcgisPropertiesChange=(0,a.lh)(),this.closeAllPopovers=(0,a.lh)()}static{this.properties={reRender:16,isOpen:16,props:0,popoverReferenceElement:0,_messages:0}}static{this.styles=g}async getPopoverRect(){return this.popoverNode?.getBoundingClientRect()}async reposition(){this.popoverNode?.reposition()}loaded(){this.popoverNode?.reposition(),this.isOpen=!0,setTimeout(()=>requestAnimationFrame(()=>this.closeButtonNode?.setFocus()),100)}afterCreatePopover(e){this.popoverNode=e}afterCreateCloseButton(e){this.closeButtonNode=e}handleCloseClick(){this.closeAllPopovers.emit()}handlePropertyOverrideAction(e){const{props:t}=this,{layer:o}=t,i=t.layerOriginInfo.propertyGroupOriginInfos?.find(e=>"attribute-table-template"===e.id)?.status;"resetToSource"===e?c.clearOverrides(o,"web-map"):c.disconnectFromSource(o,"web-map"),(0,n.r)(t);const s=t.layerOriginInfo.propertyGroupOriginInfos?.find(e=>"attribute-table-template"===e.id)?.status;this.reRender=!this.reRender,this.arcgisPropertiesChange.emit(i!==s?{layer:t.layer,attributeTableTemplate:!0}:{})}render(){const{popoverReferenceElement:e,_messages:t,props:o}=this,{layer:i}=o,n=e.clientWidth,c=e.clientHeight||e.getBoundingClientRect()?.height||96;return this.el.classList.add("js-app-flyout"),r.qy`<calcite-popover placement=bottom .open=${this.isOpen} pointer-disabled .referenceElement=${e} .offsetDistance=${-1*c} offset-skidding=0 class=${(0,a.CP)(l)} style=${(0,a.zl)(n?{width:`${n+60}px`}:void 0)} .label=${i.isTable?t.manageTableProps:t.manageLayerProps} @calcitePopoverBeforeClose=${()=>this.closeAllPopovers.emit()} ${(0,s.K)(this.afterCreatePopover)}><calcite-flow style=${(0,a.zl)(n?{width:`${n+58}px`}:void 0)}><calcite-flow-item .heading=${i.isTable?t.manageTableProps:t.manageLayerProps}>${this.renderCloseButton()}${this.renderContent()}</calcite-flow-item></calcite-flow></calcite-popover>`}renderCloseButton(){const{_messages:e}=this;return r.qy`<calcite-action .text=${e.close} scale=s slot=header-actions-end @click=${this.handleCloseClick} icon=x ${(0,s.K)(this.afterCreateCloseButton)}></calcite-action>`}renderContent(){const{_messages:e,props:t}=this,{layer:o}=t,{layerOriginInfo:i}=t,s="source"===i.status,n="overridden"===i.status;return r.qy`<div class=${(0,a.CP)(p)}><calcite-notice class=${(0,a.CP)(d)} width=full scale=s open><div slot=title>${"source"===i.status?e.propsFromSource:"overridden"===i.status?e.propsSetInWebmap:e.somePropsSetInWebmap}</div></calcite-notice><div id=layer-override-reset><calcite-tile .heading=${e.resetToSource} .description=${e.discardProps} class=${(0,a.CP)(h)} .disabled=${s} @click=${e=>{e.stopPropagation(),s||this.handlePropertyOverrideAction("resetToSource")}}>${s?r.qy`<calcite-icon scale=s slot=content-start icon=reset></calcite-icon>`:r.qy`<calcite-button scale=s appearance=transparent kind=neutral slot=content-start icon-start=reset .label=${e.resetToSource} @click=${e=>{e.stopPropagation(),s||this.handlePropertyOverrideAction("resetToSource")}}></calcite-button>`}</calcite-tile></div><div id=layer-override-disconnect><calcite-tile .heading=${o.isTable?e.disconnectPropsTable:e.disconnectProps} .description=${e.setPropsInWebmap} class=${(0,a.CP)(h)} .disabled=${n} @click=${e=>{e.stopPropagation(),n||this.handlePropertyOverrideAction("disconnectProps")}}>${n?r.qy`<calcite-icon scale=s slot=content-start icon=unlink></calcite-icon>`:r.qy`<calcite-button scale=s appearance=transparent kind=neutral slot=content-start icon-start=unlink .label=${e.disconnectProps} @click=${e=>{e.stopPropagation(),n||this.handlePropertyOverrideAction("disconnectProps")}}></calcite-button>`}</calcite-tile></div>${s&&r.qy`<calcite-tooltip class=${(0,a.CP)(u)} placement=top offset-distance=-50 overlay-positioning=fixed reference-element=layer-override-reset>${e.propsCannotBeReset}</calcite-tooltip>`||""}${n&&r.qy`<calcite-tooltip class=${(0,a.CP)(u)} placement=top offset-distance=-50 overlay-positioning=fixed reference-element=layer-override-disconnect>${e.propsCannotBeDisconnected}</calcite-tooltip>`||""}</div>`}}(0,i.c)("arcgis-map-config-layer-override-properties",m)}}]);