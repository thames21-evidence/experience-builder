/*! For license information please see arcgis_analysis_node_modules_arcgis_common-components_dist_components_arcg-5460e6.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["extensions_widgets_arcgis_analysis_node_modules_arcgis_common-components_dist_components_arcg-5460e6"],{8725:(t,e,i)=>{i.r(e),i.d(e,{ArcgisLabelInput:()=>c});var n=i(22229),a=i(4395),s=i(52797),l=i(73801),o=i(85643);const r=a.AH`:host{display:block}:host([hidden]){display:none}.readOnlyLabel{display:block;font-size:var(--calcite-font-size-sm);font-variant-numeric:tabular-nums;line-height:1rem;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;padding-inline:.5rem;padding-block:3px;border-color:var(--calcite-color-transparent);border-style:solid;border-width:var(--calcite-button-border-size, 1px);color:var(--calcite-color-text-1)}:host(:not([read-only])) .readOnlyLabel{position:absolute;opacity:0}:host([alignment="start"]){.readOnlyLabel{text-align:start}}:host([alignment="end"]){.readOnlyLabel{text-align:end}}:host([alignment="center"]){.readOnlyLabel{text-align:center}}calcite-button{inline-size:100%;--calcite-offset-invert-focus: 1;--calcite-internal-animation-timing-fast: 0}calcite-input-number{inline-size:100%;--calcite-internal-animation-timing-fast: 0}`;class c extends l.WF{constructor(){super(...arguments),this._buttonRef=(0,o._)(),this._inputRef=(0,o._)(),this._labelRef=(0,o._)(),this._formatOptions={style:"decimal",useGrouping:!0,minimumFractionDigits:0,maximumFractionDigits:2},this._formatValue=t=>(0,s.formatNumber)(t,this._formatOptions),this._pointerDownPosition=null,this._editing=!1,this.alignment="center",this.readOnly=!1,this.value=0,this.arcgisChange=(0,l.lh)({cancelable:!1})}static{this.properties={_editing:16,alignment:3,editing:39,labelFormatter:0,readOnly:7,value:11}}static{this.styles=r}static{this.shadowRootOptions={mode:"open",delegatesFocus:!0}}get editing(){return this._editing}async edit(){this._enterEdit()}getLabelBoundingClientRect(){return this._labelRef.value?this._labelRef.value.getBoundingClientRect():this.el.getBoundingClientRect()}_enterEdit(){this._editing||this.readOnly||(this._editing=!0,this.requestUpdate("editing",!1),this.updateComplete.then(async()=>{const t=this._inputRef.value;await(t?.setFocus()),await(t?.selectText())}))}_exitEdit(t,e=!1){this._editing&&(t&&this._commitValue(this._inputRef.value),this._editing=!1,this.requestUpdate("editing",!0),e||this.updateComplete.then(async()=>{await(this._buttonRef.value?.setFocus())}))}_commitValue(t){const e=this._parseNumber(t?.value??"");null!==e&&this.value!==e&&(this.value=e,this.arcgisChange.emit())}_parseNumber(t){if(""===t.trim())return null;const e=Number(t);return Number.isFinite(e)?e:this.value??null}_internalLabelFormatter(t){const e=this.labelFormatter;if(!e)return this._formatValue(t);return e(t,this._formatValue)??this._formatValue(t)}_onBlur(){this._exitEdit(!0,!0)}_onValueChange(t){this._commitValue(t.currentTarget)}_onKeyDown(t){"Enter"===t.key?(this._exitEdit(!0),t.stopPropagation(),t.preventDefault()):"Escape"===t.key&&this._exitEdit(!1)}_onPointerDown(t){this._pointerDownPosition={x:t.clientX,y:t.clientY}}_onClick(t){if(this._pointerDownPosition){const e=t.clientX-this._pointerDownPosition.x,i=t.clientY-this._pointerDownPosition.y;if(Math.sqrt(e*e+i*i)>2)return}this._enterEdit(),this._pointerDownPosition=null}render(){const{alignment:t}=this,e=this._internalLabelFormatter(this.value),i=[a.qy`<span class="readOnlyLabel"><span ${(0,o.K)(this._labelRef)}>${e}</span></span>`];return this.readOnly||i.push(a.qy`<calcite-button .alignment=${t} appearance=transparent .hidden=${this._editing} @pointerdown=${this._onPointerDown} @click=${this._onClick} scale=s width=full ${(0,o.K)(this._buttonRef)}>${e}</calcite-button>`,a.qy`<calcite-input-number .alignment=${t} group-separator .hidden=${!this._editing} number-button-type=none @calciteInputNumberChange=${this._onValueChange} @keydown=${this._onKeyDown} @blur=${this._onBlur} scale=s status=idle .value=${`${this.value}`} ${(0,o.K)(this._inputRef)}></calcite-input-number>`),i}}(0,n.c)("arcgis-label-input",c)}}]);