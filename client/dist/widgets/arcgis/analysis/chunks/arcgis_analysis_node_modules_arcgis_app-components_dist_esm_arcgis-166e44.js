/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-166e44.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-166e44"],{1284:(e,i,n)=>{n.r(i),n.d(i,{arcgis_new_item_pages_developer_credentials_privilege_picker:()=>u});var r=n(87849),l=n(59317),t=n(1654),o=n(3826),s=n(95878);n(37762),n(46904),n(93814),n(41473);const u=class{constructor(e){(0,r.r)(this,e),this.newItemUpdatePage=(0,r.c)(this,"newItemUpdatePage",7),this.workflowComplete=(0,r.c)(this,"workflowComplete",7),this.privileges=[],this.selectedOption=null}handlePrivileges(e){this.privileges=[...e.detail]}componentWillLoad(){const{portal:e,user:i}=l.c,{selectedAppPrivileges:n}=o.a;this.portal=e,this.user=i,this.privileges=n||[],this.i18n=s.u.i18n.developerCredentialsPrivilegePicker,o.a.subscriptionType=(0,t.d)(l.c.subscriptionInfo)?"locationPlatform":"app"}componentDidRender(){const{selectedAppPrivileges:e}=o.a;e||(this.privileges=this.privilegesPicker.value||[])}async handleNext(){o.a.selectedAppPrivileges=[...this.privileges],this.newItemUpdatePage.emit("developerCredentialsItemAccess")}render(){const{portal:e,user:i,privileges:n,i18n:l}=this,{subscriptionType:t,breadcrumbs:s,developerCredentialsType:u}=o.a;return(0,r.h)(r.H,{key:"fcb83e0de7860973765a93684ec205c884a6af09"},(0,r.h)("arcgis-new-item-breadcrumbs",{key:"e142268fb98709b35700483ee6d3c9c935b00864",breadcrumbs:s}),(0,r.h)("div",{key:"0ee0232807c9daf0f2249cfeade400c380347f4e",class:"privileges-header"},(0,r.h)("arcgis-new-item-description",{key:"e087b0bdaea7cd09113789a1f7ce0b02d99916be",header:l.privileges,content:l.privilegesDescription}),"oauth"===u&&(0,r.h)("p",{key:"8cf0c6a0877a31a90040a3b4cb40919d9a53aa8f",class:"credentials-type-notice"},l.credentialsTypeNotice)),(0,r.h)("arcgis-privileges-picker",{key:"1ea7ca317a00fc06cfad81ca0016120a01331ff6",ref:e=>this.privilegesPicker=e,mode:t,portal:e,user:i,portalConfig:{locationTrackingUIEnabled:!0,sceneViewerEnabled:!0,bulkPublishingEnabled:!0,notebookServerEnabled:!0},value:n,limitToUserPrivileges:!0,isPersonalAPIToken:!0}))}};u.style=".privileges-header{margin-bottom:0.75rem}.credentials-type-notice{margin-top:0.25rem;font-size:0.875rem;line-height:1.5}"},1654:(e,i,n)=>{n.d(i,{A:()=>y,B:()=>A,C:()=>E,D:()=>$,E:()=>g,F:()=>O,a:()=>s,b:()=>t,c:()=>o,d:()=>h,e:()=>_,f:()=>w,g:()=>P,h:()=>I,i:()=>m,j:()=>k,k:()=>G,l:()=>a,m:()=>d,n:()=>u,o:()=>T,p:()=>v,q:()=>p,r:()=>f,s:()=>N,t:()=>L,u:()=>c,v:()=>S,w:()=>D,x:()=>U,y:()=>x,z:()=>b});var r=n(46904);const l=e=>{var i,n,r;return"string"==typeof(null==e?void 0:e.role)&&(null==e?void 0:e.role)?null==e?void 0:e.role:null!==(n=null!==(i=null==e?void 0:e.roleId)&&void 0!==i?i:null==e?void 0:e.id)&&void 0!==n?n:null===(r=null==e?void 0:e.sourceJSON)||void 0===r?void 0:r.id};function t(e){return e&&!e.orgId}function o(e,i){return(0,r.u)(e,i)||"update"===e.itemControl||(0,r.c)([e],i)&&w(i)}function s(e,i){const n=(0,r.c)([e],i),l=(0,r.u)(e,i)||w(i)&&n,t=P(i)&&C(i);return!!(l||n&&t)}const u=e=>{var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:manageLicenses"))},a=e=>{var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:inviteUsers"))},d=e=>{var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:manageRoles"))},c=e=>{var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:changeUserRoles"))},v=e=>{var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:viewGroups"))},p=e=>{var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:viewUsers"))};function m(e){return["Trial Developer","Developer","Developer Subscription"].includes(null==e?void 0:e.type)}function g(e){return["Developer Subscription"].includes(null==e?void 0:e.type)}function f(e){return["Geoanalytics Engine","GeoAnalytics MS Fabric"].includes(null==e?void 0:e.type)}const h=e=>{var i;return null===(i=null==e?void 0:e.options)||void 0===i?void 0:i.includes("Developer")},b=e=>{var i;return null===(i=null==e?void 0:e.options)||void 0===i?void 0:i.includes("PublicSharingDisabled")},y=e=>{var i;return null===(i=null==e?void 0:e.options)||void 0===i?void 0:i.includes("HostedServicesPublicSharingDisabled")};function w(e){return"org_admin"===l(e)||"account_admin"===l(e)}function _(e){return["org_admin","account_admin"].includes(l(e))&&!(null==e?void 0:e.roleId)}function P(e){return!!(null==e?void 0:e.roleId)&&e.roleId.length>0}function k(e){var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:updateItemCategorySchema"))}function I(e){var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:updateGroups"))}function T(e){var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:assignToGroups"))}const C=e=>{var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:deleteItems"))};function S(e){return((null==e?void 0:e.privileges)||[]).includes("portal:user:shareToGroup")}function D(e){return((null==e?void 0:e.privileges)||[]).includes("portal:user:shareToOrg")}function A(e){return((null==e?void 0:e.privileges)||[]).includes("portal:user:shareToPublic")}function x(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:shareToOrg")}function E(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:shareToPublic")}function U(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:shareToGroup")}function G(e,i,n,r){const l=r&&!["Trial","Trial Press","Trial Developer","Developer Subscription","Evaluation"].includes(r.type),t=((null==i?void 0:i.privileges)||[]).includes("portal:admin:manageCollaborations");return!(!(null==e?void 0:e.collaborationsEnabled)||!i||!w(i)&&!t||!(null==n?void 0:n.isPortal)&&!l)}function O(e){return!!e&&(!P(e)||P(e)&&function(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:viewItems")}(e))}const $=({items:e,user:i,portal:n})=>{const l=e[0],t=l.owner;if(n.isPortal&&t!==i.username&&t.includes("esri_")&&!["esri_livingatlas"].includes(t))return!1;const s=(0,r.u)(l,i),u=P(i),a=R(i),d=o(l,i)&&function(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:updateItems")}(i)&&!u&&(function(e,i){return!function(e){return!(!e.urlKey||!e.customBaseUrl)||!!e.isPortal}(i)||S(e)||D(e)||!!i.canSharePublic&&A(e)}(i,n)||R(i));return s||d||(0,r.c)(e,i)&&a};function R(e){return U(e)||x(e)||E(e)}const K=["portal:user:createItem","portal:user:viewOrgItems","premium:publisher:createNotebooks","portal:publisher:createDataPipelines","features:user:edit","features:user:fullEdit","portal:admin:viewItems","portal:admin:updateItems","portal:admin:deleteItems"];function L(e){return e.some(e=>K.includes(e))}function N(e){return e.filter(e=>K.includes(e))}},3826:(e,i,n)=>{n.d(i,{a:()=>l,b:()=>t,c:()=>o,d:()=>r});const r=(0,n(37762).c)({typeKeywords:[],customParameters:[],analyzedLocationTypes:[],allowStoredAuth:!0,isSecured:null,checkAuth:!1}),l=r.state,t=r.state,o=r.state},46904:(e,i,n)=>{n.d(i,{a:()=>o,b:()=>t,c:()=>a,d:()=>d,e:()=>c,f:()=>v,g:()=>p,i:()=>s,u:()=>u});n(93814);var r=n(41473);function l(e){var i;return!!(null===(i=e.owner)||void 0===i?void 0:i.toLowerCase().includes("esri"))}function t(e){var i;return l(e)&&!!(null===(i=e.typeKeywords)||void 0===i?void 0:i.includes("Requires Credits"))}function o(e){var i;return l(e)&&!!(null===(i=e.typeKeywords)||void 0===i?void 0:i.includes("Requires Subscription"))}function s(e,i){return e.owner===i.username}function u(e,i){return s(e,i)||function(e,i){var n;if(null!=e.isAdmin)return!!e.isAdmin;const r=e.owner,l="admin"===e.itemControl,t=["esri_livingatlas","esri_demographics","esri_boundaries"];if((null===(n=e.portal)||void 0===n?void 0:n.isPortal)&&!s(e,i)&&l&&r.includes("esri_")&&!t.includes(r))return!1;return l}(e,i)}const a=(e,i)=>!!i.orgId&&e.every(e=>e.isOrgItem),d=(e,i)=>`${(0,r.a)(i)}item.html?id=${e}`,c=(e,i)=>`${(0,r.g)(i)}/content/users/${e}`,v=e=>e.reduce((e,i)=>(e[i.owner]=e[i.owner]?[...e[i.owner],i.id]:[i.id],e),{}),p=(e,i)=>`${(0,r.a)(i)}content/items/${e}`},95878:(e,i,n)=>{n.d(i,{a:()=>r,u:()=>l});const r=(0,n(37762).c)({nextText:"next",cancelText:"cancel",workflow:"content",scale:"m",disableScroll:!1,onlyHosted:!1,featureFlags:{}}),l=r.state}}]);