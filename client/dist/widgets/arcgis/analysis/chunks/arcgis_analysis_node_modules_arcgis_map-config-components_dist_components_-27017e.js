/*! For license information please see arcgis_analysis_node_modules_arcgis_map-config-components_dist_components_-27017e.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["extensions_widgets_arcgis_analysis_node_modules_arcgis_map-config-components_dist_components_-27017e"],{60051:(t,e,o)=>{o.r(e),o.d(e,{ArcgisMapConfigSmartMappingMethodButton:()=>c});var s=o(73679),i=o(4395),n=o(85643),a=(o(52797),o(54312),o(44345),o(55448),o(34031),o(63438),o(5933),o(28927),o(83368),o(89704),o(5294),o(18423),o(96086),o(91813),o(21255),o(13078),o(21303),o(12627),o(56451),o(31521),o(23054),o(5077),o(23795),o(17902),o(87420),o(30161),o(81734),o(1225)),d=o(65595),l=(o(77462),o(49403),o(10281),o(83930),o(66617),o(10628),o(59640),o(64451),o(6176),o(10454),o(29614),o(94916),o(52554),o(2156),o(4038),o(49851),o(75054),o(15223),o(70169),o(47207),o(70852),o(48103),o(39423),o(85681),o(18444),o(42411),o(9767),o(38218),o(91914),o(86605),o(68196),o(440),o(46547),o(6238),o(7299),o(73801));const r=i.AH`.method-button{display:flex;padding:6px;justify-content:space-between;align-items:center;border-radius:0;cursor:pointer;background-color:var(--calcite-color-foreground-1);color:var(--calcite-color-text-1);border-color:var(--calcite-color-foreground-3);border-width:2px;border-style:solid;box-shadow:transparent 0 0 0 1px inset}.method-button:active{box-shadow:inset 0 0 0 1px var(--calcite-color-foreground-3)}.method-button:focus{box-shadow:inset 0 0 0 1px var(--calcite-color-foreground-3);outline:2px solid var(--calcite-color-brand);outline-offset:2px}.method-button.active{outline:1px solid var(--calcite-ui-focus-color, var(--calcite-color-brand))}.method-content{justify-content:space-between;display:flex;align-items:center;width:100%}.method-button-text{display:inline-block;padding:0 10px}.method-button-title{font-weight:700}.method-button-msg{font-size:80%;line-height:16px}`;class c extends l.WF{constructor(){super(...arguments),this.methodInfos=[],this.smartMappingState=(0,d.u)(),this.open=!1,this.showStdDev=!1,this.showDefinedInterval=!1,this.arcgisSmartMappingMethodButtonBeforeOpen=(0,l.lh)(),this.arcgisSmartMappingMethodButtonChange=(0,l.lh)()}static{this.properties={open:5,showStdDev:5,showDefinedInterval:5}}static{this.styles=r}async setFocus(){this.buttonNode?.focus()}load(){this.populateMethodInfo(),this.setSelection()}divRefHandler(t){t&&(this.buttonNode=t)}setSelection(){const{smartMappingState:t}=this,e=(0,a.g)(t).authoringInfo.classificationMethod;this.selectedMethodInfo=this.methodInfos.find(t=>t.value===e),this.methodInfos.forEach(t=>t.selected=t.value===this.selectedMethodInfo.value)}populateMethodInfo(){const{_messages:t}=this.smartMappingState;this.methodInfos.push({value:"natural-breaks",title:t.methodButton.naturalBreaks,msg:t.methodButton.naturalBreaksMsg,iconPath:void 0,selected:!1},{value:"equal-interval",title:t.methodButton.equalInterval,msg:t.methodButton.equalIntervalMsg,iconPath:void 0,selected:!1}),this.showStdDev&&this.methodInfos.push({value:"standard-deviation",title:t.methodButton.standardDeviation,msg:t.methodButton.standardDeviationMsg,iconPath:void 0,selected:!1}),this.methodInfos.push({value:"quantile",title:t.methodButton.quantile,msg:t.methodButton.quantileMsg,iconPath:void 0,selected:!1}),this.showDefinedInterval&&this.methodInfos.push({value:"defined-interval",title:t.methodButton.definedInterval,msg:t.methodButton.definedIntervalMsg,iconPath:void 0,selected:!1}),this.methodInfos.push({value:"manual",title:t.methodButton.manualBreaks,msg:t.methodButton.manualBreaksMsg,iconPath:void 0,selected:!1})}closeDropdown(){this.open=!1,this.dropdownNode&&(this.dropdownNode.remove(),this.dropdownNode=void 0,this.buttonNode?.classList?.remove("active"))}openMethodDropdown(){const{smartMappingState:t}=this;if(this.open)this.closeDropdown();else{this.arcgisSmartMappingMethodButtonBeforeOpen.emit();const e=(0,l.dN)(i.qy`<arcgis-map-config-smart-mapping-dropdown .smartMappingState=${t} .buttonNode=${this.buttonNode} .infos=${this.methodInfos} @arcgisSmartMappingDropdownChange=${t=>this.setMethod(t.detail)} @arcgisSmartMappingDropdownClose=${t=>{this.closeDropdown(),"Escape"===t.detail&&this.setFocus()}} @arcgisSmartMappingDropdownDisconnected=${()=>this.closeDropdown()}></arcgis-map-config-smart-mapping-dropdown>`);this.dropdownNode=e,this.buttonNode.classList.add("active"),document.body.appendChild(e),this.open=!0}}setMethod(t){const{smartMappingState:e}=this,o=(0,a.g)(e).authoringInfo.classificationMethod;if(t.value===o)return this.closeDropdown(),void setTimeout(()=>{this.setFocus()},300);this.selectedMethodInfo=t,this.methodInfos.forEach(t=>t.selected=t.value===this.selectedMethodInfo.value),this.arcgisSmartMappingMethodButtonChange.emit(this.selectedMethodInfo.value),this.closeDropdown(),setTimeout(()=>{this.setFocus()},300)}render(){const{_messages:t}=this.smartMappingState;return i.qy`<calcite-label>${t.methodButton.method}<div class="method-button" role=button tabindex=0 aria-haspopup=true .ariaLabel=${t.methodButton.selectMethod} @keydown=${t=>{(" "===t.key||"Enter"===t.key)&&(t.preventDefault(),t.stopPropagation(),this.openMethodDropdown())}} @click=${t=>{t.stopPropagation(),this.openMethodDropdown()}} ${(0,n.K)(this.divRefHandler)}><div class="method-content"><div class="method-button-text"><div class="method-button-title">${this.selectedMethodInfo.title}</div><div class="method-button-msg">${this.selectedMethodInfo.msg}</div></div><div><calcite-icon scale=s icon=chevron-down></calcite-icon></div></div></div></calcite-label>`}}(0,s.c)("arcgis-map-config-smart-mapping-method-button",c)},65595:(t,e,o)=>{o.d(e,{c:()=>a,u:()=>d});var s=o(20936),i=o(1225),n=(o(54312),o(44345),o(55448),o(52797),o(34031),o(63438),o(5933),o(28927),o(83368),o(89704),o(5294),o(18423),o(96086),o(91813),o(21255),o(13078),o(21303),o(12627),o(56451),o(31521),o(23054),o(5077),o(23795),o(17902),o(87420),o(30161),o(81734),o(75698),o(10628),o(59640),o(64451),o(6176),o(83552));o(77462),o(49403),o(10281),o(83930),o(66617),o(10454),o(29614),o(94916),o(52554),o(2156),o(4038),o(49851),o(75054),o(15223),o(70169),o(47207),o(70852),o(48103),o(39423),o(85681),o(18444),o(42411),o(9767),o(38218),o(91914),o(86605),o(68196),o(440),o(46547),o(6238),o(7299);function a(t){t.selectedFields=[],t.layerFields=void 0,t.fields=void 0,t.hideLayerTitle=!1,t.supportsArcade=!1,t.stringFieldsCount=-1,t.dateFieldsCount=-1,t.numberFieldsCount=-1,t.containsFlow=!0,t.oneFeatureResponseStatus=i.s.MISSING,t.selectedAttribute=void 0,t.selectedAttributeText=void 0,t.selectedTypeValue=void 0,t.selectedValue=void 0,t.lastDefault=void 0,t.lastDefaults=void 0,t.dotColorSelected=void 0,t.backgroundStyleSelected=void 0,t.lastSettings=void 0,t.classedSymbolSelectedIdx=void 0,t.allUniqueValues=void 0,t.useFeatureReduction=void 0,t.symbolStylerConfig={},t.allowTimeSeriesConfiguration=!1,t.rasterInfo=void 0}function d(){const t=(0,n.Gk)(),e=t;t.manager.onLoad(()=>{e.smartMappingState=function(t,e){const o=l.get(t);if(o)return o;const i=(0,s.el)(t,e);return i&&"store"in i?(l.set(t,i.store),i.store):null}(t.el,"arcgis-map-config-smart-mapping")})}const l=new WeakMap}}]);