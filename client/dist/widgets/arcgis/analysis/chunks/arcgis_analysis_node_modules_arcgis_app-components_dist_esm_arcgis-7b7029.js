/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-7b7029.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-7b7029"],{4429:(e,t,i)=>{i.d(t,{a:()=>l,b:()=>h,c:()=>a,d:()=>c,e:()=>s,f:()=>r,g:()=>p,i:()=>m,m:()=>o,t:()=>n,u:()=>d});const r=(e,t)=>{let i,r="idle";const s=(...s)=>new Promise(a=>{switch(r){case"flushed":r="idle",i?(clearTimeout(i),a(e(...s))):a(null);break;case"invoked":clearTimeout(i),r="idle",a(e(...s));break;case"cancelled":clearTimeout(i),r="idle",a(null);break;default:i&&clearTimeout(i),r="pending",i=setTimeout(()=>(r="idle",a(e(...s))),t)}});return s.flush=function(...e){return r="flushed",s(...e)},s.invoke=function(...e){return r="invoked",s(...e)},s.cancel=function(...e){return r="cancelled",s(...e)},s.getStatus=function(){return r},s};function s(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function a(e){return null!=e}async function o(e,t){return await Promise.all([e,n(t)]),e}function n(e){return new Promise(t=>setTimeout(t,e))}const l=(e,t)=>Object.fromEntries((e||[]).map(e=>{const{key:i,data:r}=t(e);return[i,r]})),c=(e,t)=>e.length===t.length&&e.reduce((e,i)=>e&&t.indexOf(i)>-1,!0);function d(e,t){const i=[],r={};return e.forEach(e=>{const s=t(e);null==r[s]&&(r[s]=e,i.push(e))}),i}function h(e){const t={boolean:{},number:{},string:{}},i=[];return e.filter(e=>{let r=typeof e;return r in t?!t[r].hasOwnProperty(e)&&(t[r][e]=!0):!(i.indexOf(e)>=0)&&i.push(e)})}const p=(e,t)=>[...Array(Math.ceil(e.length/t))].map((i,r)=>e.slice(t*r,t+t*r)),m=(e,t)=>e.includes(t)},5157:(e,t,i)=>{i.d(t,{D:()=>s,b:()=>r,s:()=>a});const r={xxs:320,xs:480,sm:640,md:768,lg:1024,xl:1280},s=960;function a(e){var t,i;return null!==(t=(i=e.state).resizeObserver)&&void 0!==t||(i.resizeObserver=new ResizeObserver(o)),e.state.resizeObserver}function o(e){e.forEach(e=>{if(e.contentRect.width>0){const t=new CustomEvent("arcgisBrowserResize",{detail:{width:e.contentRect.width,height:e.contentRect.height}});e.target.dispatchEvent(t)}})}},17748:(e,t,i)=>{i.r(t),i.d(t,{arcgis_browser:()=>g,arcgis_browser_actions:()=>u,arcgis_browser_filter:()=>f,arcgis_browser_filter_date:()=>v,arcgis_browser_filter_status:()=>b,arcgis_browser_filters:()=>w,arcgis_browser_pagination:()=>x,arcgis_browser_search:()=>y,arcgis_browser_sort:()=>k,arcgis_browser_top_bar:()=>_});var r=i(87849),s=i(94984),a=i(12192),o=i(80619),n=i(74174),l=i(15332),c=i(5157),d=i(4429),h=i(94514),p=i(28830),m=i(28890);i(931),i(93814);const g=class{constructor(e){(0,r.r)(this,e),this.ariaUpdate=(0,r.c)(this,"ariaUpdate",7),this.checkFlowItem=()=>{this.flowItem=(0,l.c)(this.el,"calcite-flow-item")},this.handleResize=()=>requestAnimationFrame(this.updatePreviewPosition),this.updatePreviewPosition=()=>{if("small"===this.formFactor||"auto"!==this.height||!this.previewContainer)return;this.checkFlowItem();const e=this.previewContainer.getBoundingClientRect(),{x:t,y:i,height:r,right:s,width:a}=e,o=r+i,n=window.innerWidth-document.body.offsetWidth,{outerWidth:l,innerWidth:c}=window,d=c<a||c<l&&c<=a+n;this.previewBoundingBox={top:Math.max(i,0),left:t,right:d?0:window.outerWidth-s-n,bottom:o>window.innerHeight?0:window.innerHeight-o}},this.panel=void 0,this.preview=void 0,this.loading=void 0,this.hideContentTop=void 0,this.selected=void 0,this.alwaysShowSelection=void 0,this.alwaysShowContent=void 0,this.response=void 0,this.store=void 0,this.api=void 0,this.formFactor=void 0,this.searchTerm=void 0,this.height="full",this.hideFilters=void 0,this.showPreSearch=void 0,this.rangeFormatter=void 0,this.alwaysShowPagination=void 0,this.pageRangeText=void 0,this.noResults=void 0,this.previewBoundingBox=void 0,this.initialHide=!0,this.scrimActive=void 0,this.flowItem=void 0}async scrollToTop(){var e;null===(e=this.el.shadowRoot.querySelector(".top-bar"))||void 0===e||e.scrollIntoView({behavior:"smooth",block:"nearest"})}async componentWillLoad(){const e=await(0,a.g)(this.el);this.i18n=e[0],(0,n.o)(this.store,this.updatePreviewPosition),window.addEventListener("scroll",this.handleResize),window.addEventListener("resize",this.handleResize),this.checkFlowItem()}disconnectedCallback(){window.removeEventListener("resize",this.handleResize),window.removeEventListener("scroll",this.handleResize)}async updatePage(e){const t=await this.updatePageRange(e);this.pageRangeText=t[0],this.ariaUpdate.emit(t[1]),this.noResults=(0,n.i)(this.store)&&this.store.state.recycleBin?0===e.results.length:0===(null==e?void 0:e.total),this.initialHide=!1}toggleScrim(e){this.scrimActive=e.detail}renderPopoverContents(e,t,i){const s=this.flowItem?this.flowItem.offsetHeight:this.store.state.height;return(0,r.h)("div",{style:{width:i?"100%":`${this.store.state.width||0}px`,height:i?"100%":`${s||0}px`},key:"level-4"},(0,r.h)("div",{class:{hide:!t,"preview-panel":!0},key:"level-5"},(0,r.h)("slot",{name:"preview",key:"preview-slot"})),(0,r.h)("div",{class:{hide:!e,"filter-panel":!0}},(0,r.h)("article",{class:"container"},(0,r.h)("header",{class:"container__header"},(0,r.h)("h2",{class:"container__header__text"},this.i18n.browser.refineContent),(0,r.h)("calcite-action",{text:this.i18n.browser.close,appearance:"solid",scale:"m",icon:"x",onClick:()=>{this.store.state.filtersExpanded=!1}})),(0,r.h)("div",{class:"container__content"},(0,r.h)("div",{class:"container__content__scroll"},(0,r.h)("slot",{name:"filters-top"}),(this.store.state.panel||i)&&(0,r.h)("div",{class:"filter-container__content",key:"filter-container-content"},(0,r.h)("slot",{name:"sort"})),(0,r.h)("div",{key:"filters-popover"},(0,r.h)("slot",{name:"filters"})))),"small"===this.formFactor&&this.hasActiveFilter(this.store)&&!this.hideFilters&&(0,r.h)("div",{class:"filter-status--mobile container__footer"},(0,r.h)("arcgis-browser-filter-status",{class:"filter-status",filters:this.store.state.filters,hiddenFilterIds:this.store.state.hiddenFilters})))))}async updatePageRange(e){var t;const{start:i,end:r,total:a}=function({start:e,num:t,total:i}){return e=Math.min(e,i),i=Math.min(i,1e4),{start:e,end:Math.min(i,Math.max(e+t-1,0)),total:i}}(e),o={api:this.api,places:0,type:"decimal"},[n,l,c,d,h]=await Promise.all([(0,s.f)(i,o),(0,s.f)(r,o),(0,s.f)(a,o),(0,s.f)(null===(t=e.results)||void 0===t?void 0:t.length,o),(0,s.f)(Math.ceil(i/e.num),o)]),p=c+(a>=1e4?"+":"");return this.rangeFormatter({start:n,end:l,total:p,results:{items:d,page:h}})}renderFlow(){const{formFactor:e,loading:t,noResults:i,alwaysShowContent:s}=this,a=this.store.state.panel,o=this.store.state.filtersExpanded&&(!this.store.state.filtersEmpty||!this.store.state.sortEmpty&&a),n=!!this.store.state.preview,l=!this.store.state.panel&&document.documentElement.clientWidth>this.store.state.width;return(0,r.h)("div",{class:{panel:!0,"panel--fixed":l},key:"level-1"},!this.hideContentTop&&(0,r.h)("div",{class:{"top-bar":!0,"top-bar--small":"small"===e}},(0,r.h)("slot",{name:"top-bar"})),(0,r.h)("div",{class:"scrolling scrolling--panel"},(0,r.h)("div",{class:{"two-up":!0,[e]:!0}},(0,r.h)("div",{class:"content"},(0,r.h)("div",null,(0,r.h)("slot",{name:"primary-filter"})),(0,r.h)("div",{class:"content__start"},(0,r.h)("slot",{name:"content-start"})),t&&!s&&(0,r.h)("div",{class:"content__view content__view--flex",key:"loader"},(0,r.h)("div",{class:"cover"},(0,r.h)("calcite-loader",{class:"loader",label:""}))),i&&!t&&(0,r.h)("div",{class:"content__view content__view--flex",key:"no-results"},(0,r.h)("div",{class:"cover"},this.renderNoResults())),(0,r.h)("div",{key:"content",class:{hide:t||i,content__view:!0,"content__view--panel":!!this.store.state.panel,"content__view--flex":!t&&!i}},!this.store.state.panel&&!this.hideContentTop&&(0,r.h)("div",{class:"content__top"},(0,r.h)("span",{class:{selection:!0,hide:!this.alwaysShowSelection}},(0,r.h)("slot",{name:"selection"})),!t&&(0,r.h)("span",{class:"range"},this.pageRangeText),(0,r.h)("span",{class:"actions"},(0,r.h)("slot",{name:"actions"})),(0,r.h)("div",{class:"content__top__end"},(0,r.h)("slot",{name:"view"}),!a&&(0,r.h)("slot",{name:"sort"}))),(0,r.h)("div",{class:"flow-content"},(0,r.h)("slot",{name:"content"})),(0,r.h)("slot",{name:"pagination"}),(0,r.h)("slot",{name:"content-end"})))),(0,r.h)("slot",{name:"scroll-end"})),!this.store.state.panel||window.innerWidth<2*this.store.state.width?(0,r.h)("div",{class:{sheet:!0,"sheet--active":o||n,"sheet--top-bar":l},key:"level-2"},(0,r.h)("div",{class:{sheet__background:!0,"sheet__background--hidden":l}}),(0,r.h)("div",{class:{sheet__contents:!0,"sheet__contents--full":l},key:"level-3"},this.renderPopoverContents(o,n,!0))):(0,r.h)("calcite-popover",{key:"level-2",overlayPositioning:"fixed",open:n||o,label:"filters",referenceElement:this.flowItem||this.el,offsetSkidding:0,offsetDistance:0,triggerDisabled:!0,pointerDisabled:!0,placement:this.store.state.panel?"trailing":"auto",onCalcitePopoverOpen:e=>{(!this.store.state.panel||window.innerWidth<2*this.store.state.width)&&(e.currentTarget.style.transform="none")}},(0,r.h)("div",{key:"level-3"},this.renderPopoverContents(o,n))))}hasActiveFilter(e){return Object.values((null==e?void 0:e.state.filters)||{}).filter(({id:e})=>!o.I.includes(e)).some(e=>e.value||"collaborations"===e.id)}renderNoResults(){const e=this.noResults&&!this.loading&&!this.showPreSearch,t=this.hasActiveFilter(this.store)||!!this.searchTerm;return e?(0,r.h)("div",{class:"cover",key:"no-results-inner"},(0,r.h)("div",{class:"no-results"},t?(0,r.h)("slot",{name:"no-results"}):(0,r.h)("slot",{name:"no-content"}))):null}render(){const{loading:e,noResults:t,formFactor:i,hideContentTop:s,alwaysShowContent:a,panel:o,initialHide:n,showPreSearch:l}=this,c="auto"===this.height,d=(this.store.state.height||window.innerHeight)-49+"px",h="auto"===this.height?{}:{maxHeight:d};return(0,r.h)(r.H,{key:"02b0385393109dc8fcf16a8e44878d68ef4afd45"},"small"===i?this.renderFlow():(0,r.h)("div",{class:{wrapper:!0,"wrapper--fixed":this.store.state.filtersExpanded,"wrapper--auto":c,"wrapper--full":"full"===this.height},key:"level-1"},!this.hideContentTop&&(0,r.h)("div",{class:"top-bar"},(0,r.h)("slot",{name:"top-bar"})),(0,r.h)("slot",{name:"top-bar-end"}),(0,r.h)("div",{class:{"preview-position":!0,"preview-position--with-top-bar":!this.store.state.topbarEmpty},ref:e=>this.previewContainer=e,key:"level-2"},(0,r.h)("div",{class:{preview:!0,"preview--active":!!this.store.state.preview,"preview--fixed":c},key:"level-3",style:c&&this.previewBoundingBox?Object.assign(Object.assign({top:`${this.previewBoundingBox.top||0}px`},"rtl"===document.dir?{right:`${this.previewBoundingBox.right||0}px`}:{left:`${this.previewBoundingBox.left||0}px`}),{bottom:`${this.previewBoundingBox.bottom||0}px`}):{}},(0,r.h)("div",{class:{pane:!0,"pane--open":!!this.store.state.preview},key:"level-4"},(0,r.h)("div",{key:"level-5",class:"preview-desktop"},(0,r.h)("slot",{name:"preview",key:"preview-slot"}))))),(0,r.h)("div",{class:{scrolling:!0,"scrolling--full":!c||o},key:"filters-level-2"},this.scrimActive&&(0,r.h)("calcite-scrim",{class:"scrim__find"}),(0,r.h)("div",{class:{"two-up":!0,[i]:!0},key:"filters-level-3"},(0,r.h)("div",{class:{filters:!0,"filters--sticky":!c,"filters--empty":this.store.state.filtersEmpty&&!this.store.state.preview,"filters--active":this.store.state.filtersExpanded},style:h,key:"filters-level-4"},(0,r.h)("div",{class:"filters__content",style:h,key:"filters-level-5"},(0,r.h)("slot",{name:"filters",key:"filters-slot"}))),(0,r.h)("div",{class:"content"},(0,r.h)("div",{class:"content__start"},(0,r.h)("slot",{name:"content-start"})),(0,r.h)("div",{class:{content__view:!0,"content__view--no-filters":this.store.state.filtersEmpty&&!this.store.state.preview,"content__view--flex":!0}},!s&&(0,r.h)("div",{class:"content__top"},!l&&(0,r.h)(r.F,null,(0,r.h)("span",{class:{selection:!0,hide:!this.alwaysShowSelection}},(0,r.h)("slot",{name:"selection"})),!e&&(0,r.h)("span",{class:"range"},this.pageRangeText)),(0,r.h)("span",{class:"actions"},(0,r.h)("slot",{name:"actions"})),(0,r.h)("div",{class:"content__top__end"},(0,r.h)("slot",{name:"view"}),(0,r.h)("slot",{name:"sort"}))),e&&(!a||n)&&(0,r.h)("div",{class:!e||a&&!n?"hide":"cover",key:"loader"},(0,r.h)("calcite-loader",{class:"loader",label:this.i18n.browser.loading})),this.renderNoResults(),!e&&l&&(0,r.h)("div",{class:"cover",key:"pre-search"},(0,r.h)("div",{class:"no-results"},(0,r.h)("slot",{name:"pre-search"}))),(0,r.h)("div",{class:{hide:l||e&&!a||!e&&t||n,"results-wrapper--spaced":s,"results-wrapper":!0}},(0,r.h)("slot",{name:"content"})),(0,r.h)("div",{class:{hide:e||t&&!this.alwaysShowPagination}},(0,r.h)("slot",{name:"pagination"}),(0,r.h)("slot",{name:"content-end"}))))),(0,r.h)("slot",{name:"scroll-end"}))))}get el(){return(0,r.a)(this)}static get watchers(){return{response:["updatePage"]}}};g.style=":host{position:relative;display:flex;height:100%;flex-direction:column;overflow-y:auto;overflow-x:hidden;background-color:var(--calcite-color-background);--arcgis-browser-max-width:100%;--arcgis-browser-pane-width:18.75rem;--arcgis-browser-pane-z-index:11}:host([height=auto]){height:auto;min-height:100%;flex:1 1 100%}.wrapper{display:flex;height:100%;flex-direction:column;overflow:hidden}.wrapper--fixed{overflow:hidden}.wrapper--auto{flex:1 1 100%}.wrapper--full{transform:translate(0, 0)}.panel{display:flex;height:100%;flex-direction:column;overflow:hidden}.panel--fixed{transform:translate3d(0, 0, 0)}.top-bar{position:sticky;top:0px;right:0px;left:0px;z-index:20;flex-shrink:0;flex-grow:0;border-bottom:1px solid var(--calcite-color-border-3)}.scrolling{position:relative;display:flex;min-height:0px;width:100%;flex:1 1 0%;flex-direction:column}.scrolling--panel{overflow-y:auto}.scrolling--full{overflow-y:scroll}@supports (scrollbar-gutter: stable){.scrolling--full{scrollbar-gutter:stable;overflow-y:auto}}.preview-position{position:absolute;inset:0px;margin-left:auto;margin-right:auto;width:100%;max-width:var(--arcgis-browser-max-width)}.preview-position--with-top-bar{top:3rem}.preview-desktop{width:100%}.two-up{margin-left:auto;margin-right:auto;display:flex;width:100%;flex:1 1 auto;flex-direction:row;max-width:var(--arcgis-browser-max-width)}.two-up.small{margin-top:-1px}.content__start{margin-inline-end:0.25rem;padding-inline-end:1rem;padding-inline-start:1rem}.content{position:relative;display:flex;min-width:0px;flex:1 1 0%;flex-direction:column;overflow:hidden}.content__top{position:relative;display:flex;height:1.5rem;flex-grow:0;align-items:center;justify-content:space-between;padding-top:1.25rem;padding-bottom:0.75rem;font-size:0.875rem;color:var(--calcite-color-text-1);z-index:2}.content__top__end{margin-inline-start:auto;display:grid;gap:0.5rem;grid-auto-flow:column}.actions{flex:1 1 0%}.filter-status{flex:1 1 0%}.content__view{min-width:0px;flex:1 1 0%;margin-inline-end:0.25rem;padding-inline-end:1rem;padding-inline-start:1rem}.content__view--padded-bottom{padding-bottom:1rem}.content__view--no-filters{margin-inline-start:0.25rem;padding-inline-start:1rem}.pane{pointer-events:none;visibility:hidden;display:flex;height:100%;background-color:var(--calcite-color-background);opacity:0;transition-duration:var(--calcite-internal-animation-timing-medium);transition-property:transform, visibility, opacity;border-left:1px solid var(--calcite-color-border-3);border-right:1px solid var(--calcite-color-border-3)}.pane--open{pointer-events:auto;visibility:visible;opacity:1;transform:translate(0);box-shadow:4px 0px 16px 0px rgba(0, 0, 0, 0.06)}.preview{width:0px;flex-shrink:0;flex-grow:0;position:absolute;top:0px;bottom:0px;inset-inline-start:0;transition-duration:var(--calcite-internal-animation-timing-medium);transition-property:width;z-index:var(--arcgis-browser-pane-z-index)}.preview--fixed{position:fixed}.preview--active{overflow:auto;width:var(--arcgis-browser-pane-width);box-shadow:rgba(0, 0, 0, 0.06) 4px 0px 16px 0px}.filter-panel,.preview-panel{position:relative;height:100%;background-color:var(--calcite-color-background)}.filter-panel__content{padding-left:1rem;padding-right:1rem;padding-top:0.75rem;padding-bottom:0px}.filter-status--mobile{width:100%}.filter-status--active{display:block}.sheet{pointer-events:none;position:fixed;inset:0px;z-index:110}.sheet--top-bar{top:3rem;overflow:hidden}.sheet__background{position:absolute;inset:0px;opacity:0;transition:all var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s;background-color:rgba(0, 0, 0, 0.2)}.sheet__background--hidden{display:none}.sheet--active .sheet__background{opacity:1}.sheet--active{pointer-events:auto;opacity:1}.sheet__contents{position:absolute;inset:0px;opacity:0;transition:all var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s;top:3rem;transform:translate3d(0, 24px, 0)}.sheet__contents--full{top:0px;--tw-shadow:0 2px 12px -4px rgba(0, 0, 0, 0.2), 0 2px 4px -2px rgba(0, 0, 0, 0.16);--tw-shadow-colored:0 2px 12px -4px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);inset-inline-end:auto;width:var(--arcgis-browser-pane-width);border:1px solid var(--calcite-color-border-3);border-inline-start:none;transform:translate3d(-24px, 0, 0)}.sheet--active .sheet__contents{opacity:1;transform:translate3d(0, 0, 0)}.hide{display:none}.aria-hidden{height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0;position:absolute;top:0px;bottom:0px;width:0px;inset-inline-end:0}.content__view--flex{display:flex;flex-direction:column}.cover{display:flex;flex:1 1 0%;align-items:flex-start;justify-content:center;overflow:auto;padding-bottom:1rem;padding-top:0.25rem}.no-results{height:100%;width:100%;flex:1 1 0%;text-align:center;font-size:0.875rem;color:var(--calcite-color-text-2)}::slotted([slot=no-results]){width:100%}::slotted([slot=no-content]){width:100%}.results-wrapper{flex:1 1 0%}.results-wrapper--spaced{padding-top:1.5rem}.loader{margin-top:min(8rem, 30vh);--calcite-loader-padding:0}.filters{box-sizing:border-box;width:16rem;flex-grow:0;padding-inline-start:1.5rem;padding-inline-end:0px;width:var(--arcgis-browser-pane-width)}.filters--sticky{position:sticky;top:0px;height:100%}.filters__content{overflow-y:auto;height:100%;padding-top:1.5rem;box-sizing:border-box;scrollbar-gutter:stable}.filters--empty{display:none}.filters--active{opacity:1;transform:translate3d(0, 0, 0)}.filters__title{margin-left:0px;margin-right:0px;margin-bottom:1rem;margin-top:0px;padding-bottom:1rem;padding-top:0px;font-size:0.875rem;font-weight:500;color:var(--calcite-color-text-1);padding-inline-start:0.75rem;border-bottom:1px solid var(--calcite-color-border-3)}.range{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:0.875rem;color:var(--calcite-color-text-1)}.container{display:flex;height:100%;width:100%;flex-direction:column;background-color:var(--calcite-color-background)}.container__header{display:flex;flex:0 1 auto;flex-direction:row;background-color:var(--calcite-color-foreground-1);border-bottom:1px solid var(--calcite-color-border-3)}.container__header__text{margin:0px;flex:1 1 0%;padding-left:0.75rem;padding-right:0.75rem;padding-top:.875rem;padding-bottom:.875rem;font-size:1rem;font-weight:500;color:var(--calcite-color-text-2)}.container__content{flex:1 1 0%;overflow:auto}.container__footer{box-sizing:border-box;width:100%;flex:0 1 auto;background-color:var(--calcite-color-foreground-1);padding:0.5rem}.small .filters{padding:0px}.small .filters__content{padding-left:1rem;padding-right:1rem}.small .content__view{padding-inline:0.5rem;margin-inline:0}.small .content__view--panel{padding-inline:0}.small .content__start{margin-left:0px;margin-right:0px;padding-left:0.5rem;padding-right:0.5rem}@media screen and (max-width: 640px){:host{--arcgis-browser-pane-width:100%}}.scrim__find{margin-top:3.5rem;opacity:0.6;transition-property:opacity;transition-duration:150ms;--calcite-scrim-background:rgba(0, 0, 0, 0.6)}";const u=class{constructor(e){(0,r.r)(this,e),this.actionWidths=[],this.buttonPadding=88,this.handleResizeEvent=e=>{e.stopPropagation(),this.resize(e.detail.width)},this.renderButton=({text:e,icon:t,onClick:i,id:s,tooltip:a})=>{const o=null!=s?s:`${e}-${t}`;return(0,r.h)(r.F,null,(0,r.h)("calcite-button",{key:o,class:"button","icon-start":t,onClick:e=>{this.lastExecutedAction=e.target,i()},appearance:"transparent",kind:"neutral",id:o},e),a&&(0,r.h)("calcite-tooltip",{referenceElement:o,label:a},(0,r.h)("span",{class:"tooltip-container"},a)))},this.actions=[],this.store=void 0,this.selection=void 0,this.visibleActions=[],this.overflowActions=[],this.calculating=void 0}async restoreFocus(){var e;null===(e=this.lastExecutedAction)||void 0===e||e.setFocus()}async componentWillLoad(){const e=await(0,a.g)(this.el,"arcgis-browser");this.i18n=e[0].actions,(0,c.s)(this.store).observe(this.el),this.el.addEventListener("arcgisBrowserResize",this.handleResizeEvent)}disconnectedCallback(){var e,t,i,r;null===(i=null===(t=null===(e=this.store)||void 0===e?void 0:e.state)||void 0===t?void 0:t.resizeObserver)||void 0===i||i.unobserve(this.el),null===(r=this.el)||void 0===r||r.removeEventListener("arcgisBrowserResize",this.handleResizeEvent)}resize(e){this.elementWidth=e,this.calculateOverflow()}actionUpdateHandler(e){this.actionWidths=null==e?void 0:e.map(e=>(this.measureText.textContent=e.text,{action:e,width:this.measureText.offsetWidth+this.buttonPadding})),this.calculateOverflow()}async updateSelection(e){(null==e?void 0:e.length)?(await(0,d.t)(100),this.calculating=!1):this.calculating=!0}async calculateOverflow(){var e;this.measureText.textContent=this.i18n.more;const t=null===(e=this.actionWidths)||void 0===e?void 0:e.reduce(({width:e,visible:t,overflow:i},{action:r,width:s})=>(e+=s)>=this.elementWidth?{width:e,visible:t,overflow:[...i,r]}:{width:e,visible:[...t,r],overflow:i},{visible:[],overflow:[],width:this.moreWidth});this.visibleActions=t.visible,this.overflowActions=t.overflow}render(){const{visibleActions:e,overflowActions:t,selection:i,i18n:s,calculating:a}=this,o=(null==t?void 0:t.length)>0;return(0,r.h)(r.H,{key:"a7c6ef178446f88a37f81fa7fe8bfd2a4b50f643"},(0,r.h)("span",{key:"c66223cf270cf5eeedf8de1384e24bffd5257e9f",class:"measure-container"},(0,r.h)("span",{key:"2ea135ef4951e4c10f0c169925432ed5da6da246",class:"measure-text","aria-hidden":!0,ref:e=>{this.measureText=e,!this.moreWidth&&s&&(e.textContent=s.more,this.moreWidth=e.scrollWidth+this.buttonPadding)}})),(null==i?void 0:i.length)>0&&((null==e?void 0:e.length)>0||o)&&!a&&(0,r.h)("nav",{key:"be1b861227aaeca663d5a0ae123528ae2227f45b",class:"wrapper"},e.map(this.renderButton),o&&(0,r.h)("calcite-dropdown",{key:"7d03f92351512440bafbe786e0d67c9856cdd24f",widthScale:"m",placement:"bottom-end"},(0,r.h)("calcite-button",{key:"f986e553e52a2128c5b5f025c446b6b7c0be468b",slot:"trigger",kind:"neutral",iconEnd:"chevron-down",appearance:"transparent",ref:e=>this.overflowButton=e},s.more),(0,r.h)("calcite-dropdown-group",{key:"c3a0e9f6c549af7808bcb1ba74b6fd2a5350e658",selectionMode:"none"},t.map(e=>{var t;return(0,r.h)("calcite-dropdown-item",{key:null!==(t=e.id)&&void 0!==t?t:`${e.text}-${e.icon}`,iconStart:e.icon||"blank",onCalciteDropdownItemSelect:()=>{this.lastExecutedAction=this.overflowButton,e.onClick()}},e.text)})))))}get el(){return(0,r.a)(this)}static get watchers(){return{actions:["actionUpdateHandler"],selection:["updateSelection"]}}};u.style=":host{position:relative;margin-left:1rem;margin-right:1rem;display:flex;justify-content:flex-end}.wrapper{display:flex;padding-inline-start:0.25rem;border-inline-start:1px solid var(--calcite-color-border-1);border-inline-end:1px solid var(--calcite-color-border-1)}.tooltip-container{width:9rem}.button{margin-inline-end:0.25rem}.measure-container{position:absolute;height:0px;width:100%;overflow:hidden}.measure-text{visibility:hidden;height:0px;width:auto;overflow:hidden;font-size:0.875rem}";const f=class{constructor(e){(0,r.r)(this,e),this.arcgisBrowserFilterRemove=(0,r.c)(this,"arcgisBrowserFilterRemove",7),this.expanded=void 0,this.heading=void 0,this.active=void 0,this.noPadding=void 0,this.clearDisabled=void 0,this.filterID=void 0,this.primary=void 0}async componentWillLoad(){const e=await(0,a.g)(this.el,"arcgis-browser");this.i18n=e[0].filter}render(){const{primary:e,active:t,clearDisabled:i,heading:s,i18n:a}=this;return e?(0,r.h)("div",{class:"arcgis-item-browser-filter--primary"},(0,r.h)("div",{class:"arcgis-item-browser-filter__header arcgis-item-browser-filter__header--primary"},(0,r.h)("h3",{class:"arcgis-item-browser-filter__title"},s),(0,r.h)("slot",{name:"action"})),(0,r.h)("slot",null)):(0,r.h)("div",{style:{position:"relative"}},(0,r.h)("calcite-accordion-item",{heading:s,ref:e=>{this.accordionItem||(this.accordionItem=e,this.expanded&&(e.expanded=!0),e.iconPosition="start",e.iconType="chevron")},expanded:this.expanded,onCalciteInternalAccordionItemSelect:e=>{this.expanded=!this.expanded},style:{"--calcite-accordion-item-content-space":".75rem .25rem","--calcite-accordion-icon-margin":".5rem",borderTop:"1px solid var(--calcite-color-border-1)"}},(0,r.h)("div",{slot:"actions-end",class:"arcgis-item-browser-filter__actions-slot"},(0,r.h)("slot",{name:"action"}),t&&!i&&(0,r.h)("calcite-button",{kind:"neutral",class:"arcgis-item-browser__clear-button",appearance:"transparent",onClick:()=>{this.arcgisBrowserFilterRemove.emit(this.filterID)}},a.clear)),(0,r.h)("div",{class:"arcgis-browser-filter-content",style:{margin:this.noPadding?"0":"-.75rem .5rem 0 .5rem"}},(0,r.h)("slot",null))))}get el(){return(0,r.a)(this)}};f.style=".arcgis-item-browser-filter--primary{position:relative;margin-bottom:1rem}.arcgis-item-browser-filter__header{margin-bottom:0.5rem;display:flex;align-items:center;border-bottom:1px solid var(--calcite-color-border-2)}.arcgis-item-browser-filter__header--primary{margin-bottom:0px}.arcgis-item-browser-filter__title{margin:0px;flex:1 1 0%;padding-left:0.5rem;padding-right:0.5rem;padding-top:1rem;padding-bottom:1rem;font-size:1rem;font-weight:500;color:var(--calcite-color-text-1);line-height:1}.arcgis-browser-filter-content>calcite-tree>calcite-tree-item>a{padding-top:0.25rem;padding-bottom:0.25rem}.arcgis-item-browser-filter__actions-slot{display:flex;align-items:center}";const v=class{constructor(e){(0,r.r)(this,e),this.arcgisBrowserFilter=(0,r.c)(this,"arcgisBrowserFilter",7),this.resetDatePicker=()=>{this.range=null,this.start=null,this.end=null},this.renderRange=e=>{const{i18n:t,range:i}=this;return(0,r.h)("calcite-tree-item",{"data-range":e,selected:e===i},t[e])},this.rangeChangeHandler=(0,d.f)(()=>{const e=this.datePicker.valueAsDate[0],t=this.datePicker.valueAsDate[1];e&&t&&(this.start=e,this.end=t,this.arcgisBrowserFilter.emit(this.getEventDetail()))},200),this.property=void 0,this.serverProperty=void 0,this.range=void 0,this.start=void 0,this.end=void 0,this.store=void 0,this.expanded=void 0,this.includeNever=void 0}async componentWillLoad(){var e;const t=new Date;this.today=`${t.getFullYear()}-${t.getMonth()+1}-${t.getDate()}`;const i=await(0,a.g)(this.el,"arcgis-browser");this.i18n=null===(e=null==i?void 0:i[0])||void 0===e?void 0:e.filterDate}componentDidLoad(){this.range&&("custom"!==this.range||this.start&&this.end)&&(this.arcgisBrowserFilter.emit(this.getEventDetail()),this.datePicker.valueAsDate=[new Date((0,h.g)(this.start)),new Date((0,h.g)(this.end))]),(0,n.a)(this.property,this.store,()=>this.resetDatePicker())}getValue(){const{range:e,start:t,end:i}=this,r=(0,h.g)(),s=r+h.D-1;switch(e){case"yesterday":return[r-h.D,r-1];case"today":return[r,s];case"last7":return[r-7*h.D,s];case"last30":return[r-30*h.D,s];case"never":return[-1,-1];case"custom":return[(0,h.g)(t),(0,h.g)(i)+h.D-1];default:return null}}getEventDetail(){const{property:e,range:t,i18n:i,serverProperty:r}=this,s=this.getValue();return{id:e,value:s?`(${null!=r?r:"modified"===e?e:"uploaded"}:[${s[0]} TO ${s[1]}])`:"",range:t,start:(null==s?void 0:s[0])&&new Date(null==s?void 0:s[0]),end:(null==s?void 0:s[1])&&new Date(null==s?void 0:s[1]),label:this.i18n[e].replace("${date}",i[t])}}isActive(){return!(!this.range||"custom"===this.range&&(!this.start||!this.end))}render(){const{i18n:e,property:t,range:i,today:s}=this;return(0,r.h)("arcgis-browser-filter",{key:"d8973fe400e40470cb40fe37040e77ced5754a02",heading:e.title[t],expanded:this.expanded,active:this.isActive(),filterID:this.property,onArcgisBrowserFilterRemove:()=>{this.resetDatePicker()}},(0,r.h)("calcite-tree",{key:"c432ac04e72271df29037b780c42d09439d5350b",selectionMode:"children",scale:"m",onCalciteTreeSelect:e=>{var t,i;const r=null===(i=null===(t=e.target.selectedItems)||void 0===t?void 0:t[0])||void 0===i?void 0:i.dataset.range;this.range=this.range===r?null:r,("custom"!==this.range||this.start&&this.end)&&this.arcgisBrowserFilter.emit(this.getEventDetail())}},["today","yesterday","last7","last30",...this.includeNever?["never"]:[],"custom"].map(this.renderRange)),"custom"===i&&(0,r.h)("div",{key:"42d5a2fe116cb51b583079a71d67d518f660a04d"},(0,r.h)("calcite-input-date-picker",{key:"beab3ca75876d61d9108ff73c7efd62ba10d74fc",onCalciteInputDatePickerChange:this.rangeChangeHandler,ref:e=>this.datePicker=e,scale:"s",max:s,calendars:1,layout:"vertical",monthStyle:"abbreviated",proximitySelectionDisabled:!0,range:!0,style:{marginTop:".5rem",marginBottom:".5rem",marginInlineStart:"1.75rem",width:"12.75rem"}})))}get el(){return(0,r.a)(this)}},b=class{constructor(e){(0,r.r)(this,e),this.arcgisBrowserFilterClear=(0,r.c)(this,"arcgisBrowserFilterClear",7),this.arcgisBrowserFilterRemove=(0,r.c)(this,"arcgisBrowserFilterRemove",7),this.renderChip=e=>(0,r.h)("calcite-chip",{scale:"s",label:e.label,value:e.id,key:e.id,closable:!0,appearance:"outline",onCalciteChipClose:()=>{this.arcgisBrowserFilterRemove.emit(e.id)}},e.label),this.filters={},this.hiddenFilterIds=[],this.componentWidth=void 0,this.browserWidth=void 0,this.popoverOpen=!1,this.filterToDisplay={length:0,inBounds:[],outOfBounds:[]}}async componentWillLoad(){const e=await(0,a.g)(this.el,"arcgis-browser");this.i18n=e[0].filterStatus}processValidFilters(){const e=Object.values(this.filters).filter(e=>!this.hiddenFilterIds.includes(e.id)&&("collaborations"===e.id&&e.additionalParams?e.label:(null==e?void 0:e.value)&&(null==e?void 0:e.label))),{componentWidth:t,browserWidth:i}=this;i<c.b.sm?this.filterToDisplay={length:0,inBounds:e,outOfBounds:[]}:this.filterToDisplay=e.reduce((e,i)=>{var r,s;const a=(0,p.g)({text:i.label,font:"14px 'Avenir Next'"});return e.length+=a,!t||t-e.length-(null!==(s=null===(r=this.clearStatusRef)||void 0===r?void 0:r.clientWidth)&&void 0!==s?s:0)>240?e.inBounds.push(i):e.outOfBounds.push(i),e},{length:0,inBounds:[],outOfBounds:[]})}render(){const{inBounds:e,outOfBounds:t}=this.filterToDisplay,i=!!(null==t?void 0:t.length);return(0,r.h)(r.H,{key:"60ce19f9fce7c66a318901ea8e790c67f13a80d4"},(e.length>0||i)&&(0,r.h)("calcite-chip-group",{key:"cea08d3851b53d4f1986eafc18d362e039849c01",label:this.i18n.filters,scale:"s",class:"chip-group"},e.map(this.renderChip),i&&(0,r.h)("calcite-button",{key:"34f0fbc9cb243bee331d2171350cad9a1f8ee75a",id:"popover-button",round:!0,kind:"neutral",appearance:"outline",scale:"s"},"+ ",t.length)),i&&[(0,r.h)("calcite-popover",{key:"5196551d1d7d7ef92aea82aa74de4dd7c387a0b2",label:this.i18n.additional,referenceElement:"popover-button",placement:"bottom-end"},(0,r.h)("div",{key:"7aa78627a8d09699683aef5341fed33574a067f5",class:"popover-content"},(0,r.h)("calcite-chip-group",{key:"220af8b3f6a04f1fcc778fa08e7610c23f8a4363",label:this.i18n.additional,scale:"s"},t.map(this.renderChip))))],t.length+e.length>1&&(0,r.h)("calcite-button",{key:"84cbf10d8d9be1b3b9369cb20e168504a2fe0d86",ref:e=>this.clearStatusRef=e,class:"clear-button",scale:"s",appearance:"transparent",kind:"brand",onClick:()=>{this.arcgisBrowserFilterClear.emit()}},this.i18n.clearAllFilters))}get el(){return(0,r.a)(this)}static get watchers(){return{filters:["processValidFilters"]}}};b.style=":host{display:flex;align-items:center}calcite-chip{max-width:100%;--calcite-color-foreground-2:var(--calcite-color-foreground-1)}.chip-group{min-width:0px;max-width:100%}.filters{margin-inline-end:0.25rem;margin-inline-start:1rem}.link{--calcite-font-size--2:var(--calcite-font-size--1);--calcite-color-brand:var(--calcite-color-text-link)}.popover-content{max-width:28rem;padding:0.75rem}.clear-button{margin-inline-start:0.25rem}";const w=class{constructor(e){(0,r.r)(this,e),this.store=void 0}render(){var e,t,i;const s=(null===(e=this.store)||void 0===e?void 0:e.state.panel)||(null===(t=this.store)||void 0===t?void 0:t.state.width)<c.b.sm;return(0,r.h)("div",{key:"6bc52adb75e9e3e3cd40511c6cff7cb9b75ee58e",inert:!!(null===(i=this.store.state)||void 0===i?void 0:i.preview)},(0,r.h)("div",{key:"6df6428b1a54efea7353ec4865f0b7b333f41c22",style:{padding:s?"0 1rem 1rem":"0"}},(0,r.h)("slot",{key:"6185571a8d88b333b305336cb99df13e5e892b54",name:"top"})),(0,r.h)("slot",{key:"9a28cc5b10c3e882c965ed83f7876481f74fa800",name:"primary"}),(0,r.h)("slot",{key:"4fff2d149cf23dd3f04c5ae2508e0bde8286d05c",name:"title"}),(0,r.h)("calcite-accordion",{key:"dcaafa304d5ae5823510dc2e8807352f4079aafe",appearance:"transparent",iconType:"chevron",scale:"m","icon-position":"start",ref:e=>{this.store.state.filterElement=e}},(0,r.h)("slot",{key:"b34c8b5cd8dd7308f3c807201e6b03d5533036a0"})),(0,r.h)("slot",{key:"e6a243e8751704e395445f761456e2bbad313e00",name:"bottom"}))}get el(){return(0,r.a)(this)}},x=class{constructor(e){(0,r.r)(this,e),this.arcgisBrowserPage=(0,r.c)(this,"arcgisBrowserPage",7),this.total=void 0,this.start=void 0,this.num=60,this.store=void 0}async nextPage(){this.paginationRef.nextPage(),await(0,d.t)(10);const{pageSize:e,startItem:t,totalItems:i}=this.paginationRef;this.arcgisBrowserPage.emit({start:t,total:i,num:e})}async componentWillLoad(){const e=await(0,a.g)(this.el,"arcgis-browser");this.i18n=e[0].pagination;const{start:t,total:i,num:r}=this;this.arcgisBrowserPage.emit({start:t,total:i,num:r})}render(){const{start:e,total:t,num:i,i18n:s}=this,a=this.store.state.width>c.b.sm?"m":"s";return(0,r.h)("div",{key:"b4ef09fbd95a6bc2cd8f1e1d0ccdd537ad495710",class:"wrapper"},(0,r.h)("calcite-pagination",{key:"f6506c2d1abb2a35043473ce20d8b5e3ad341ff7",ref:e=>this.paginationRef=e,onCalcitePaginationChange:e=>{const t=e.target;this.arcgisBrowserPage.emit({start:t.startItem,total:t.totalItems,num:t.pageSize})},startItem:e,totalItems:Math.min(t,1e4-i),pageSize:i,scale:a,messageOverrides:{next:s.next,previous:s.prev},class:{hide:!t||t<i,pagination:!0}}))}get el(){return(0,r.a)(this)}};x.style=".wrapper{padding-left:0.5rem;padding-right:0.5rem;padding-top:2rem;padding-bottom:2rem}.pagination{width:100%;justify-content:center}.hide{display:none}";const y=class{constructor(e){(0,r.r)(this,e),this.arcgisBrowserSearch=(0,r.c)(this,"arcgisBrowserSearch",7),this.arcgisBrowserSearchInput=(0,r.c)(this,"arcgisBrowserSearchInput",7),this.debouncedInput=(0,d.f)(e=>{const t=e.includes("*");this.showClear=!!e,t?this.containsWildcard=!0:(this.containsWildcard=!1,this.emitUpdate(e))},400),this.emitUpdate=e=>{var t;(null===(t=this.store)||void 0===t?void 0:t.state)&&(this.store.state.searchTerm=e),this.arcgisBrowserSearch.emit(e)},this.term=void 0,this.placeholder=void 0,this.allowClear=!0,this.store=void 0,this.showClear=!1,this.containsWildcard=!1}async setFocus(){var e;null===(e=this.searchInput)||void 0===e||e.focus()}async componentWillLoad(){var e;const t=await(0,a.g)(this.el,"arcgis-browser");this.i18n=t[0].search,this.term&&(this.showClear=!0),this.containsWildcard=null===(e=this.term)||void 0===e?void 0:e.includes("*")}async componentDidLoad(){this.emitUpdate(this.term)}termChanged(e){this.searchInput.value!==e&&(this.showClear=!!e,this.emitUpdate(e))}render(){var e,t;const i=Boolean(null===(t=null===(e=this.store)||void 0===e?void 0:e.state)||void 0===t?void 0:t.panel);return(0,r.h)(r.H,{key:"377b47c62e19eedbd710de82c5a6d33bc27f51c8"},(0,r.h)("calcite-icon",{key:"7022be8c71dc400c44d622dd232bc8bd94e2eba9",icon:"search",scale:"s",class:{search:!0,"search--panel":i}}),(0,r.h)("input",{key:"964b016e933279f0abdca76dcc6e6b278a9fb829",class:{input:!0,"input--with-clear":this.allowClear&&this.showClear,"input--panel":i},value:this.term,placeholder:this.placeholder||this.i18n.search,ref:e=>this.searchInput=e,"aria-label":this.placeholder||this.i18n.search,onInput:e=>{const t=e.currentTarget.value;(null==t?void 0:t.includes("*"))||(this.containsWildcard=!1),this.arcgisBrowserSearchInput.emit(t),this.debouncedInput(t)}}),(0,r.h)("calcite-alert",{key:"0e443e2d68e647072c4923523175053e5edff1eb",open:this.containsWildcard,scale:"m",kind:"danger",class:"alert",icon:"exclamation-mark-triangle",label:this.i18n.wildcard,onCalciteAlertClose:()=>{this.containsWildcard=!1}},(0,r.h)("div",{key:"05e5f6cb8b5004ef46dcfee9d6dc33daa77895fe",slot:"message"},this.i18n.wildcard)),this.allowClear&&this.showClear&&(0,r.h)("button",{key:"4c155442241069bc653eda05d3aa29335ba9e6b9",class:"x","aria-label":this.i18n.clear,onClick:()=>{this.arcgisBrowserSearchInput.emit(""),this.emitUpdate(""),this.showClear=!1,this.searchInput&&(this.searchInput.value="",this.searchInput.focus())},onKeyDown:e=>{"Enter"===e.key&&e.stopPropagation()},tabIndex:0},(0,r.h)("calcite-icon",{key:"d429dd08caa32d8f59c7181d00351d297563a09a",icon:"x",scale:"m",class:"x--icon"})))}get el(){return(0,r.a)(this)}static get watchers(){return{term:["termChanged"]}}};y.style=":host{position:relative;display:block}.search{pointer-events:none;position:absolute;z-index:10;margin-top:1rem;font-size:0.875rem;color:var(--calcite-color-text-1);inset-inline-start:1.5rem}.search--panel{inset-inline-start:0.75rem}.x{position:absolute;top:0px;z-index:10;margin-left:0.25rem;margin-right:0.25rem;margin-top:0.5rem;cursor:pointer;border-style:none;padding:0.25rem;color:var(--calcite-color-text-1);outline:2px solid transparent;outline-offset:2px;outline-color:transparent;transition:all var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s;inset-inline-end:0.25rem;background:transparent}.x:focus{outline:2px solid var(--calcite-color-brand);outline-offset:-2px}.x--icon{display:block}.input{position:relative;z-index:0;box-sizing:border-box;display:block;height:3rem;width:100%;border-style:none;padding-top:1rem;padding-bottom:1rem;padding-left:3rem;padding-right:3rem;font-size:0.875rem;color:var(--calcite-color-text-1);--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, -webkit-backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter, -webkit-backdrop-filter;transition-duration:150ms;background-color:transparent;border-bottom:2px solid transparent;font-family:inherit}.input::-webkit-search-cancel-button{display:none}.input::-ms-clear{display:none}.input:focus{--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);outline:2px solid transparent;outline-offset:2px;border-bottom-color:var(--calcite-color-brand)}.input--panel{padding-inline-start:2.5rem;padding-inline-end:1rem}.input--with-clear{padding-inline-end:3rem}.alert:not([calcite-hydrated]){display:none}";const k=class{constructor(e){(0,r.r)(this,e),this.arcgisBrowserSortFieldChange=(0,r.c)(this,"arcgisBrowserSortFieldChange",7),this.arcgisBrowserSortOrderChange=(0,r.c)(this,"arcgisBrowserSortOrderChange",7),this.sortOrders=["asc","desc"],this.options=void 0,this.field=void 0,this.order=void 0,this.store=void 0}async componentWillLoad(){const e=await(0,a.g)(this.el,"arcgis-browser");this.i18n=e[0].sort}renderFieldOption(e,t,i){const{store:s}=this,a=(0,m.g)(e,i,s);return(0,r.h)("calcite-dropdown-item",{selected:t===e,onCalciteDropdownItemSelect:()=>this.arcgisBrowserSortFieldChange.emit(e),key:e},a.label)}renderButton(e){var t,i;const{i18n:s}=this,a={class:"button",slot:"trigger",scale:"m",appearance:"outline-fill",kind:"neutral",iconStart:"sort-descending",iconFlipRtl:"start",ariaLabel:`${s.sortBy} ${e.label}`};return(null===(i=null===(t=this.store)||void 0===t?void 0:t.state)||void 0===i?void 0:i.width)>c.D?(0,r.h)("calcite-button",Object.assign({},a),e.label):(0,r.h)("calcite-button",Object.assign({},a))}renderDropdown(){const{field:e,order:t,options:i,i18n:s,store:a}=this,o=i.includes(e)?e:i[0],n=(0,m.g)(o,s,a),l=t||n.defaultSortOrder;return(0,r.h)("calcite-dropdown",{placement:"bottom-end",scale:"m",overlayPositioning:"fixed",width:"m"},this.renderButton(n),(0,r.h)("calcite-dropdown-group",{selectionMode:"single","group-title":s.sortBy},this.options.map(e=>this.renderFieldOption(e,o,s))),n.showSortOrder&&(0,r.h)("calcite-dropdown-group",{selectionMode:"single","group-title":s.sortDirection},this.sortOrders.map(e=>(0,r.h)("calcite-dropdown-item",{key:e,selected:l===e,onCalciteDropdownItemSelect:()=>this.arcgisBrowserSortOrderChange.emit(e)},n.sortOrderLabels[e]))))}renderTreeItem(e,t,i){const s=(0,m.g)(e,i);return(0,r.h)("calcite-tree-item",{"data-value":e,selected:t===e,key:e},(0,r.h)("a",null,s.label))}renderAccordion(e,t,i){return i?null:(0,r.h)("calcite-accordion-item",{key:`item-${e}`,heading:e,ref:e=>{e&&(e.iconPosition="start",e.iconType="chevron")},style:{"--calcite-accordion-item-content-space":".75rem .25rem","--calcite-accordion-icon-margin":".5rem",borderTop:"1px solid var(--calcite-color-border-1)"}},(0,r.h)("div",{style:{margin:"-.75rem .5rem 0 .5rem"}},t))}renderAccordions(){const{field:e,order:t,options:i,i18n:s,store:a}=this,o=i.includes(e)?e:i[0],n=(0,m.g)(o,s,a),l=t||n.defaultSortOrder;return(0,r.h)("div",{class:"sort-accordion-wrap"},(0,r.h)("h3",{class:"sort-title"},this.i18n.sort),(0,r.h)("calcite-accordion",{appearance:"transparent",iconType:"chevron",scale:"m","icon-position":"start"},this.renderAccordion(s.sortBy,(0,r.h)("calcite-tree",{key:"field",onCalciteTreeSelect:e=>{var t,i;const r=null===(i=null===(t=e.target.selectedItems)||void 0===t?void 0:t[0])||void 0===i?void 0:i.dataset.value;this.arcgisBrowserSortFieldChange.emit(r)}},this.options.map(e=>this.renderTreeItem(e,o,s)))),this.renderAccordion(s.sortDirection,(0,r.h)("calcite-tree",{key:"direction",onCalciteTreeSelect:e=>{var t,i;const r=null===(i=null===(t=e.target.selectedItems)||void 0===t?void 0:t[0])||void 0===i?void 0:i.dataset.value;this.arcgisBrowserSortOrderChange.emit(r)}},this.sortOrders.map(e=>(0,r.h)("calcite-tree-item",{"data-value":e,selected:l===e,key:e},(0,r.h)("a",null,n.sortOrderLabels[e])))),!n.showSortOrder)))}render(){return this.store.state.panel?this.renderAccordions():this.renderDropdown()}get el(){return(0,r.a)(this)}};k.style=".sort-accordion-wrap{border-bottom:1px solid var(--calcite-color-border-2)}.radio-wrapper{padding:1rem}.medium{font-weight:500}.sort-title{margin:0px;padding-left:0.5rem;padding-right:0.5rem;padding-top:1rem;padding-bottom:1rem;font-size:1rem;font-weight:500;color:var(--calcite-color-text-1);line-height:1;margin-bottom:-1px;border-bottom:1px solid var(--calcite-color-border-2)}.dropdown-sort-order-items--in-dialog{max-height:var(--arcgis-browser-sort-max-height, none)}";const _=class{constructor(e){(0,r.r)(this,e),this.store=void 0,this.filtersDisabled=void 0,this.width=void 0}async componentWillLoad(){const e=await(0,a.g)(this.el,"arcgis-browser");this.i18n=e[0].topBar,this.store.onChange("width",e=>{var t;this.width=null===(t=this.searchWrapper)||void 0===t?void 0:t.offsetWidth})}getFormFactor(){const e=this.store.state.width;switch(!0){case e<=c.b.sm:return"small";case e<=c.b.md:return"medium";default:return"large"}}handleClick(){this.store.state.preview=null,this.store.state.filtersExpanded=!this.store.state.filtersExpanded}render(){const e=this.getFormFactor(),t=("medium"===e||"small"===e)&&(!this.store.state.filtersEmpty||!this.store.state.sortEmpty&&this.store.state.panel)&&!this.filtersDisabled,i=Object.values(this.store.state.filters||{}).some(e=>e.value&&!o.I.includes(e.id));return(0,r.h)(r.H,{key:"49fcf5a500affe0ec8b2955f2180d2b7e6c2480d"},"small"===e&&(0,r.h)("div",{key:"79d9fe09caf06efe425c2a5e441a99e83be34b27",class:"bucket bucket--small"},(0,r.h)("slot",{key:"e21d997081d7f79fe8a518e9d7adb96179eff022",name:"bucket"})),(0,r.h)("slot",{key:"6112b4226164508583def349aa53651b20e90a2d",name:"primary-filter"}),(0,r.h)("div",{key:"749e8916a7288034c028548ed00315b1265617f9",class:{[e]:!0,wrapper:!0}},(0,r.h)("slot",{key:"56c758aef914b7983b97530cd88017d5d63b9c61",name:"content-start"}),"small"!==e&&(0,r.h)("div",{key:"814ac67604960392d144477130f20486042b44c7",class:"bucket"},(0,r.h)("slot",{key:"5d33994bc56381dfd4b33c8378e0eab9b7774ab6",name:"bucket"})),(0,r.h)("div",{key:"fff28740dc2d66665b3e406ac54677888baee2a5",class:"search-and-sort",ref:e=>{this.searchWrapper=e,this.width||requestAnimationFrame(()=>this.width=null==e?void 0:e.offsetWidth)}},(0,r.h)("div",{key:"f8639c47c2bf1eb34975699d589296527f29a23b",class:"search"},(0,r.h)("slot",{key:"174862249de02bebfd20dac421adcbbc7fdffb30",name:"search"})),!t&&!this.filtersDisabled&&(0,r.h)("arcgis-browser-filter-status",{key:"cb8b134650aa79a6ece4539b07a199b0716dce6d",componentWidth:this.width,browserWidth:this.store.state.width,class:"filter-status",filters:this.store.state.filters,hiddenFilterIds:this.store.state.hiddenFilters})),t&&(0,r.h)("div",{key:"cf2fdad3a8f25f38981cfc9999d0822639864d5e",class:"filter"},(0,r.h)("div",{key:"c7658d9ea18a3114b3812901b13443594f4b96ef",class:"rel"},i&&(0,r.h)("span",{key:"f091a5a4c22bf371dc8b5adf2c241b4187e8c810",class:"indicator"}),(0,r.h)("calcite-button",{key:"f6d8248caf4d8e9d4e6a37920f0e11614928d367",class:"filter-toggle",scale:"s",appearance:"transparent",kind:"neutral",iconStart:"sliders",label:this.i18n.filter,onClick:()=>this.handleClick(),"aria-expanded":this.store.state.filtersExpanded?"true":"false"}))),(0,r.h)("slot",{key:"e8c3c15eb23b322a75f7a98a5007b683501d3146",name:"content-end"})))}get el(){return(0,r.a)(this)}};_.style=":host{position:relative;display:block;background-color:var(--arcgis-browser-top-bar-background)}.wrapper{margin-left:auto;margin-right:auto;display:flex;max-width:var(--arcgis-browser-max-width)}.search-and-sort{display:flex;flex:1 1 0%;align-items:center;padding-inline-end:1.5rem;min-height:3rem}.search{flex:1 1 0%}.sort{display:flex;align-items:center}.filter{margin-top:0.25rem;margin-bottom:0.25rem;display:flex;align-items:center;justify-content:center;padding-left:0.5rem;padding-right:0.5rem}.filter--left{border-inline-end:1px solid var(--calcite-color-border-3)}.large .filter{display:none}.rel{position:relative}.bucket--small{text-align:center;border-bottom:1px solid var(--calcite-color-border-3)}.indicator{pointer-events:none;position:absolute;top:0px;z-index:20;height:0.5rem;width:0.5rem;border-radius:50%;background-color:var(--calcite-color-brand);inset-inline-start:0}.small .search-and-sort{padding-inline-end:0px}"},28830:(e,t,i)=>{i.d(t,{g:()=>a});const r=document.createElement("canvas").getContext("2d"),s={};function a({text:e,font:t}){if(s[t]=s[t]||{},s[t][e])return s[t][e];r.font=t||"14px 'Avenir Next'";const i=r.measureText(e);return s[t][e]=i.width,s[t][e]}},28890:(e,t,i)=>{i.d(t,{a:()=>a,g:()=>s});const r={title:["asc","alphabetical"],owner:["asc","alphabetical"],numviews:["desc","num"],relevance:["desc"],modified:["desc","recent"],created:["desc","recent"],size:["desc","size"],fullname:["asc","alphabetical"],username:["asc","alphabetical"],name:["asc","alphabetical"],membertype:["asc","alphabetical"],joined:["desc","recent"],lastlogin:["desc","recent"],added:["desc","recent"],dataset:["asc","alphabetical"],mfaenabled:["desc","default"]};function s(e,t,i){var s;const[a,o]=r[e];return{label:"modified"===e&&(null===(s=null==i?void 0:i.state)||void 0===s?void 0:s.recycleBin)?t.deleted:t[e],showSortOrder:!!o,defaultSortOrder:a,sortOrderLabels:{asc:t[`${o}Asc`],desc:t[`${o}Desc`]}}}function a(e){const[t]=r[e];return t}},74174:(e,t,i)=>{i.d(t,{a:()=>a,b:()=>n,g:()=>c,i:()=>s,o:()=>o});var r=i(15332);const s=e=>"item-browser"===e.state.type,a=(e,t,i)=>{t.onChange("filters",t=>{t[e]&&t[e].value||i()})},o=(e,t)=>{e.onChange("preview",e=>{t()})},n=(e,t)=>{e.onChange("groupId",e=>{t()})},l=new Map;function c(e,t){const i=l.get(e);if(i)return i;const s=(0,r.c)(e,t);return s?(l.set(e,s.store),s.store):null}},80619:(e,t,i)=>{i.d(t,{I:()=>r,a:()=>s});const r=["folder","group","contentType"],s=99999}}]);