/*! For license information please see arcgis_analysis_node_modules_arcgis_map-config-components_dist_components_-803bed.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["extensions_widgets_arcgis_analysis_node_modules_arcgis_map-config-components_dist_components_-803bed"],{4265:(e,t,i)=>{i.d(t,{a:()=>o,d:()=>s,t:()=>n});const s=(e,t)=>{let i,s="idle";const o=async(...o)=>await new Promise(n=>{switch(s){case"flushed":s="idle",i?(clearTimeout(i),n(e(...o))):n(null);break;case"invoked":clearTimeout(i),s="idle",n(e(...o));break;case"cancelled":clearTimeout(i),s="idle",n(null);break;default:i&&clearTimeout(i),s="pending",i=setTimeout(()=>{s="idle",n(e(...o))},t)}});return o.flush=async function(...e){return s="flushed",await o(...e)},o.invoke=async function(...e){return s="invoked",await o(...e)},o.cancel=async function(...e){return s="cancelled",await o(...e)},o.getStatus=function(){return s},o},o=(e,t)=>{let i;return async(...s)=>await new Promise(o=>{i||(i=setTimeout(()=>{clearTimeout(i),i=void 0,o(e(...s))},t))})};function n(e){return new Promise(t=>setTimeout(t,e))}},69498:(e,t,i)=>{i.r(t),i.d(t,{ArcgisMapConfigSymbolStylerSymbolPreview:()=>d});var s=i(73679),o=i(4265),n=i(73801),a=i(4395),r=i(10281),c=i(41631);const l=a.AH`:host{display:inline-block}:host(.dark){background-color:#f3f3f3}img{vertical-align:middle}`;class d extends n.WF{constructor(){super(...arguments),this.updatePreview=(0,o.d)(async()=>{const{symbol:e}=this;if(!e)return;const t={...this.options,size:this.options?.size&&"object"==typeof this.options.size?{...this.options.size}:this.options?.size};"cim"===e.type&&"CIMPolygonSymbol"===e.data.symbol?.type?delete t?.size:"cim"===e.type&&"CIMLineSymbol"===e.data.symbol.type&&t.size&&"object"==typeof t.size&&(t.size.height=20);const i=e.clone();"picture-marker"===i.type&&t.size&&"number"==typeof t.size?(i.width=i.width/i.height*t.size,i.height=t.size):"simple-line"===i.type&&t.size&&"object"==typeof t.size&&(i.width=t.size.height);const s=c.renderPreviewHTML(i,t);this.lastPreviewRender=s;const o=await s;this.lastPreviewRender===s&&(this.lastPreview?.remove(),this.lastPreview=o,o&&this.el.shadowRoot?.append(o),this.backgroundTheme=r.getContrastingBackgroundTheme(e,245),this.contrast&&"dark"===this.backgroundTheme?this.el.classList.add("dark"):this.el.classList.remove("dark"))},250),this.backgroundTheme="light",this.contrast=!1}static{this.properties={backgroundTheme:16,contrast:5,options:0,symbol:0}}static{this.styles=l}willUpdate(e){(e.has("symbol")||e.has("options"))&&this.updatePreview()}async loaded(){await this.updatePreview()}}(0,s.c)("arcgis-map-config-symbol-styler-symbol-preview",d)}}]);