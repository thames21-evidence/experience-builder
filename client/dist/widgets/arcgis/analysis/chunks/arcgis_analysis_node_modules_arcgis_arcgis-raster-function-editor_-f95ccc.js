"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_arcgis-raster-function-editor_-f95ccc"],{47453:(e,t,i)=>{i.d(t,{a:()=>u,b:()=>c,d:()=>h,f:()=>o,i:()=>a,l:()=>d,p:()=>r,s:()=>s});var n=i(69843),l=i(38949);function a(e){return null!=e&&!1===Number.isNaN(e)&&!0===Number.isFinite(e)}function s(e,t){let i;if(null!==e){const n="string"==typeof e?Number.parseFloat(e):e;a(n)?i=n:a(t)&&(i=t)}return void 0===i?"":`${i}`}function r(e){if(!(0,l.i)(e))return Number.parseFloat(e)}function o(e,t=3){if(!(0,l.i)(e))return Number.parseFloat(e.toFixed(t))}function u(e,t){let i="";if(!(0,l.i)(e)&&!Number.isNaN(e)){const l=(0,n.g)().locale;i=Intl.NumberFormat(l,t).format(Number(e))}return i}function c(e){return!((0,l.i)(e)||isNaN(Number(e)))}function g(e,t){if((0,l.i)(e))return e;const i=e.toLowerCase().indexOf("e")+1;return(0,l.i)(i)?t(e):e.replace(/[eE]*$/g,"").substring(0,i).concat(e.slice(i).replace(/[eE]/g,"")).split(/[eE]/).map((e,i)=>t(1===i?e.replace(/\./g,""):e)).join("e").replace(/^e/,"1e")}function h(e){const t=(0,n.g)().locale,i=new Intl.NumberFormat(t).formatToParts(-12345678.9),l=i.find(e=>"group"===e.type).value,a=0===l.trim().length||" "==l?"\xa0":l,s="bs"===t?",":i.find(e=>"decimal"===e.type).value,r=i.find(e=>"minusSign"===e.type).value;return g(e,e=>e.replace(new RegExp(`[${r}]`,"g"),"-").replace(new RegExp(`[${a}]`,"g"),"").replace(new RegExp(`[${s}]`,"g"),"."))}function d(e){const t=(0,n.g)().locale,i=new Intl.NumberFormat(t).formatToParts(-12345678.9),a=i.find(e=>"group"===e.type).value,s=0===a.trim().length||" "==a?"\xa0":a,r={decimal:"bs"===t?",":i.find(e=>"decimal"===e.type).value,minusSign:i.find(e=>"minusSign"===e.type).value,numberFormatter:new Intl.NumberFormat(t,{useGrouping:!1})};return g(e,e=>c(e.trim())?new l.B(e.trim()).format(r).replace(new RegExp(`[${a}]`,"g"),s):e)}},69446:(e,t,i)=>{i.r(t),i.d(t,{rfx_cte_kernel_selector:()=>n.R});var n=i(91457);i(92265),i(51477),i(5294),i(16035),i(69843),i(38949),i(32513),i(33752),i(44345),i(13661),i(18423),i(21255),i(35431),i(85740),i(588),i(55448),i(2924),i(11840),i(52373),i(440),i(66744),i(42335),i(45253),i(33797),i(71802),i(36596),i(23795),i(17902),i(56451),i(47453)},91457:(e,t,i)=>{i.d(t,{R:()=>g});var n=i(92265),l=i(51477),a=i(33797),s=i(16035),r=i(38949),o=(i(588),i(71802),i(44345),i(36596),i(5294),i(55448),i(2924),i(11840),i(52373),i(33752),i(440),i(66744),i(23795),i(17902),i(56451),i(47453));const u="typeHelpClickHandler",c="kernelHelpClickHandler",g=class{constructor(e){(0,n.r)(this,e),this.rfxArgumentChange=(0,n.c)(this,"rfxArgumentChange"),this.uiElements={kernelArgLabel:void 0,kernelArgContainer:void 0,rowArgLabel:void 0,columnArgLabel:void 0,rowArgContainer:void 0,columnArgContainer:void 0},this.kernelTypesInfo=s.k,this.helpActionClickEventHandlers=new Map,this.userDefinedOptionKey=-1,this.noneOptionKey=255,this.defaults={rowArgDefaultValue:void 0,columnArgDefaultValue:void 0,kernelArgDefaultValue:[]},this.store=[],this.onConvolutionTypeChange=e=>{e.stopPropagation();const t=e.target,i=(0,o.p)(t.value);this.inputArg.value=i,this.value=i;const n=this.kernelTypesInfo[i?.toString()];this.widgetState={columns:n?.columns??this.defaults.columnArgDefaultValue,rows:n?.rows??this.defaults.rowArgDefaultValue,value:n?.value??this.defaults.kernelArgDefaultValue},this.rfxArgumentChange.emit({value:i})}}connectedCallback(){this.processWidgetArgs(this.widgetArgs)}componentWillLoad(){this.setupInitialState(this.widgetArgs)}componentWillRender(){this.setWidgetValue()}componentDidLoad(){this.attachHelpClickEventHandlers()}async checkValidity(){let e=!0;return this.value===this.userDefinedOptionKey&&(e=await this.uiElements.rowArgContainer.checkValidity()&&await this.uiElements.columnArgContainer.checkValidity()),e}processWidgetArgs({inputArgs:e}){const t=e.ConvolutionType;this.inputArg=t,this.inputArg.key="ConvolutionType",t.input=this.hostElement,this.uiElements.rowArgLabel=e.Rows.displayName,this.uiElements.columnArgLabel=e.Columns.displayName,this.uiElements.kernelArgLabel=e.Kernel.displayName}setupInitialState({inputArgs:e,rfxArgs:t,rasterFunctions:i}){const n=i[(0,l.i)(t)],a=n?.rasterFunctionArguments,s=this.inputArg.key;this.value=this.inputArg.value;const o=a?.[s]?.domain;if("list"===o?.type){const e=o.enum;this.store=(0,l.m)(e)}else console.error("Invalid inputArg! Check Schema");this.store?.forEach(e=>{e.key=e.key.toString()}),(0,r.i)(this.store)&&console.error("Domain list Enum not set! Check Schema");const u=a?.[s]?.defaultValue;this.value=this.inputArg.value||u;const c=a?.Rows?.defaultValue,g=a?.Columns?.defaultValue,h=this.kernelTypesInfo[this.value?.toString()]?.value;this.defaults.columnArgDefaultValue=g,this.defaults.rowArgDefaultValue=c;const d=e.Kernel.value??h,m=e.Columns.value??g,p=e.Rows.value??c;this.widgetState=(0,r.J)({columns:m,rows:p,value:d})}setWidgetValue(){this.widgetArgs.inputArgs.ConvolutionType.value=this.value,this.widgetArgs.inputArgs.Columns.value=this.widgetState?.columns,this.widgetArgs.inputArgs.Rows.value=this.widgetState?.rows,this.widgetArgs.inputArgs.Kernel.value=this.widgetState?.value}attachHelpClickEventHandlers(){const e=this.widgetArgs.onHelpActionClick({heading:this.inputArg.displayName,referenceElement:this.widgetContainer,helpTextID:this.widgetArgs.helpTextIDs?.convolution_type});this.helpActionClickEventHandlers.set(u,e)}onColumnValueChange(e){!e||e<=0||(this.widgetState={...this.widgetState,columns:e})}onRowValueChange(e){!e||e<=0||(this.widgetState={...this.widgetState,rows:e})}render(){const e=this.value===this.userDefinedOptionKey,t=this.value===this.noneOptionKey;return(0,n.h)("div",{key:"13f533843e3edf8c8f6146c4684d2122b0cabe33"},(0,n.h)("calcite-label",{key:"79349926f419b62341fd7256f72561a09f06406f",alignment:"start",scale:r.s.scale??a.U.Scale,layout:"default",ref:e=>{this.widgetContainer=e}},(0,n.h)("rfx-label",{key:"213d37c5b8ec9d967dae489f7125e0750b28a2a8",label:this.inputArg.displayName,onRfxLabelHelpActionClick:()=>this.helpActionClickEventHandlers?.get(u)()}),(0,n.h)("rfx-dtex-common-select",{key:"6f1648774cc968d943b4c7f44a7a6641858eaa39",mode:this.widgetArgs.mode,options:this.store,value:String(this.value),onRfxArgumentChange:this.onConvolutionTypeChange})),e?(0,n.h)("div",null,(0,n.h)("calcite-label",{alignment:"start",scale:r.s.scale??a.U.Scale,layout:"default"},(0,n.h)("rfx-label",{label:this.uiElements.rowArgLabel,hideHelp:!0}),(0,n.h)("rfx-dte-number-input",{value:this.widgetState.rows,onRfxNumberInputChange:e=>{e.stopPropagation();const t=e.target?.value;this.onRowValueChange(t)},min:1,max:100,numberType:"integer",ref:e=>{this.uiElements.rowArgContainer=e}})),(0,n.h)("calcite-label",{alignment:"start",scale:r.s.scale??a.U.Scale,layout:"default"},(0,n.h)("rfx-label",{label:this.uiElements.columnArgLabel,hideHelp:!0}),(0,n.h)("rfx-dte-number-input",{value:this.widgetState.columns,onRfxNumberInputChange:e=>{e.stopPropagation();const t=e.target?.value;this.onColumnValueChange(t)},min:1,max:100,numberType:"integer",ref:e=>{this.uiElements.columnArgContainer=e}}))):null,t?null:(0,n.h)("calcite-label",{alignment:"start",scale:r.s.scale??a.U.Scale,layout:"default",ref:e=>{this.uiElements.kernelArgContainer=e;const t=this.widgetArgs.onHelpActionClick({heading:this.uiElements.kernelArgLabel,referenceElement:this.uiElements.kernelArgContainer,helpTextID:this.widgetArgs.helpTextIDs?.convolution_kernel});this.helpActionClickEventHandlers.set(c,t)}},(0,n.h)("rfx-label",{label:this.uiElements.kernelArgLabel,onRfxLabelHelpActionClick:()=>this.helpActionClickEventHandlers?.get(c)()}),(0,n.h)("rfx-simple-matrix",{columns:this.widgetState.columns,rows:this.widgetState.rows,value:this.widgetState.value,onRfxArgumentChange:e=>{e.stopPropagation();const{detail:{value:t}}=e;(0,r.y)(this.widgetState.value,t)||(this.widgetState={...this.widgetState,value:t})},isEditable:e})))}get hostElement(){return(0,n.a)(this)}}}}]);