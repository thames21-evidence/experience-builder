/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_item-0-4531cb.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_item-0-4531cb"],{12192:(e,n,t)=>{t.d(n,{a:()=>i,g:()=>c});var r=t(15332),a=t(94984),o=t(87849);function i(e){var n,t,o;const i=null!==(n=(0,r.c)(e,"[lang]"))&&void 0!==n?n:null===(o=null===(t=e.shadowRoot)||void 0===t?void 0:t.ownerDocument)||void 0===o?void 0:o.documentElement,l=((null==i?void 0:i.lang)||(null===navigator||void 0===navigator?void 0:navigator.language)||"en").toLowerCase();return a.l.has(l)?a.l.get(l):a.l.has(l.slice(0,2))?a.l.get(l.slice(0,2)):"en"}const l={};function s(e,n){const t=`${e}${n}`;return l[t]||(l[t]=function(e,n){return new Promise((t,r)=>{fetch((0,o.d)(`../arcgis-app-assets/i18n/${e}.i18n.${n}.json`)).then(e=>{e.ok?t(e.json()):r()},()=>r())})}(e,n)),l[t]}async function c(e,n){const t=n||e.tagName.toLowerCase(),o=i(e),l=function(e){var n,t,o;const i=null!==(n=(0,r.c)(e,"[lang]"))&&void 0!==n?n:null===(o=null===(t=e.shadowRoot)||void 0===t?void 0:t.ownerDocument)||void 0===o?void 0:o.documentElement,l=((null==i?void 0:i.lang)||(null===navigator||void 0===navigator?void 0:navigator.language)||"en").toLowerCase();return a.l.has(l)?a.l.get(l):a.l.has(l.slice(0,2))?l:"en"}(e);let c;try{c=await s(t,o)}catch(e){console.warn(`no locale for ${t} (${o}) loading default locale en.`),c=await s(t,"en")}return[c,o,l]}},52995:(e,n,t)=>{t.d(n,{a:()=>b,b:()=>u,c:()=>v,d:()=>m,e:()=>h,f:()=>d,g:()=>y,l:()=>S});var r=t(83692),a=t(71467),o=t(46904),i=t(931),l=t(41473),s=t(29599),c=t(60958);const d=async(e,n,t)=>{const{owningSystemUrl:a}=await(0,r.f)(async()=>(0,s.a)(e),"portalInfo",e.id);return(await Promise.all(n.map(async e=>{try{const{owningSystemUrl:n}=await(0,s.g)(e,t);return{owningSystemUrl:n,url:e}}catch(n){return console.error(n),{owningSystemUrl:null,url:e}}}))).filter(({owningSystemUrl:e})=>e===a).map(({url:e})=>e)},u=async(e,n,t)=>{var a;try{return{result:await(0,r.r)(e,n,Object.assign({addTokenManually:!1},t))}}catch(e){const n="token required";return(null===(a=null==e?void 0:e.message)||void 0===a?void 0:a.toLowerCase().includes(n))?{error:{code:"tokenRequired"}}:(console.error(e),{error:{code:"unhandledError"}})}};async function v(e,n,t){var a;const{relationshipType:o,direction:i}=t,s=`${(0,l.g)(n)}content/items/${e}/relatedItems`,c=await(0,r.r)(s,{relationshipType:o,direction:i,includeRecycleBin:!0});return(null===(a=null==c?void 0:c.relatedItems)||void 0===a?void 0:a.length)&&(c.relatedItems=c.relatedItems.filter(n=>(null==n?void 0:n.id)!==e)),c}const m=async(e,n,t)=>{const a=!!t,o=(0,l.g)(n),i=a?`${o}/content/groups/${t.id}/search`:`${o}/search`;try{return{result:(await(0,r.r)(i,{filter:`id:(${e.join(" OR ")})`,num:100})).results}}catch(e){return console.error(e),{error:{code:"unhandledError"}}}},h=async(e,n)=>{try{const[t]=await(0,i.l)(["esri/portal/PortalItem"]);return{result:await Promise.all(e.map(e=>new t({id:e,portal:n}).load()))}}catch(e){return console.error(e),{error:{code:"unhandledError"}}}},y=async(e,n,t,a)=>{try{const o=[],i=[],l=[];await Promise.all(e.map(async e=>{const{result:c,error:d}=await(0,r.f)(()=>u(e,n,a),"itemMetadata",`${e}--no-token`);if("tokenRequired"!==(null==d?void 0:d.code))if(p(c))o.push(g(c,e));else try{const n=await(0,s.g)(e,t);l.push(Object.assign(Object.assign({},c),{owningSystemUrl:n.owningSystemUrl}))}catch(d){console.warn(d)}else i.push(e)}));const v=await d(n,i,t),m=(await Promise.all(v.map(async e=>({response:await(0,c.r)(e,n,Object.assign({addTokenManually:!0},a)),owningSystemUrl:(await(0,s.g)(e,t)).owningSystemUrl,url:e})))).reduce((e,{response:n,url:t,owningSystemUrl:r})=>p(n)?(o.push(g(n,t)),e):[...e,Object.assign(Object.assign({},n),{owningSystemUrl:r})],[]),h=await Promise.all([...l,...m].map(async({serviceItemId:e,owningSystemUrl:n})=>{if(!e)return null;const{result:t}=await f({itemId:e,owningSystemUrl:n});return{item:t,owningSystemUrl:n}})),{result:w}=o.length<=0?{result:[]}:await y(o,n,t,a);return{result:[...h.filter(e=>!!e),...w]}}catch(e){return console.error(e),{error:{code:"unhandledError"}}}},p=e=>!!(null==e?void 0:e.sources),g=(e,n)=>{var t;const r=null===(t=Object.values(e.sources)[0])||void 0===t?void 0:t.url;return r?r.includes("..")?(0,l.t)({url:n,path:r}):r:null},w=e=>`${e}/sharing/rest`,f=async({itemId:e,owningSystemUrl:n,requestOptions:t})=>{try{const a=(0,o.g)(e,w(n));return{result:await(0,r.r)(a,{},Object.assign(Object.assign({},t),{addTokenManually:!1}))}}catch(e){return console.error(e),(0,a.b)(e)&&e.message.toLocaleLowerCase().includes("invalid token")?{error:{code:"invalidToken"}}:{error:{code:"unhandledError"}}}},b=async({itemId:e,owningSystemUrl:n,requestOptions:t})=>{try{const a=`${(0,o.g)(e,w(n))}/data`;return{result:await(0,r.r)(a,{},Object.assign(Object.assign({},t),{addTokenManually:!1}))}}catch(e){return console.error(e),{error:{code:"unhandledError"}}}},S=async(e,n)=>{try{const[t]=await(0,i.l)(["esri/portal/PortalItem"]),r=new t({id:e,portal:n});return await r.load(),{result:r}}catch(e){return console.error("Fail to reload item",e),{error:{code:"unhandledError"}}}}},60958:(e,n,t)=>{t.d(n,{r:()=>a});var r=t(83692);const a=async(e,n,t={})=>{const{body:a,usePost:o,addTokenManually:i,customToken:l}=t,s=new URLSearchParams;a&&Object.entries(a).forEach(([e,n])=>{void 0!==n&&s.append(e,n)});const c=new URL(e);if(c.searchParams.append("f","json"),l)c.searchParams.append("token",l);else{const e=!1===i?null:await(0,r.g)(n);e&&c.searchParams.append("token",e)}const d=await fetch(c.toString(),{body:o?s:void 0,method:o?"POST":"GET"}),u=await d.json(),v=u.error;if(v)throw"string"==typeof v?new Error(v):v;return u}},63263:(e,n,t)=>{t.d(n,{a:()=>l,b:()=>s,c:()=>v,d:()=>u,g:()=>c,i:()=>m});var r=t(60958),a=t(46904),o=t(41473),i=t(68616);const l=async(e,n)=>{try{return{result:await(0,r.r)(d(e,n),n)}}catch(e){return console.error(e),{error:{code:"unhandledError"}}}},s=(e,n)=>`${d(e,n)}/data`,c=async(e,n)=>(0,r.r)(s(e,n),n),d=(e,n)=>(0,a.g)(e,(0,o.g)(n)),u=async(e,n,t)=>{try{const a=d(e,n);return await(0,r.r)(a,n,t)}catch(e){console.warn(e)}},v=async(e,n)=>{try{const t=`${d(e,n)}/groups`;return{result:await(0,r.r)(t,n)}}catch(e){return console.error(e),{error:{code:"unhandledError"}}}},m=async(e,n)=>{let t=!1;return(0,i.i)(e.typeKeywords,e.type)&&(t=await h(e.url,n)),t},h=async(e,n,t=!1)=>{var a,i,l;if(e)try{const l=await(0,r.r)(`${null===(a=(0,o.p)(e))||void 0===a?void 0:a.baseServerUrl}/layers`,n,{addTokenManually:!t});return null===(i=null==l?void 0:l.layers)||void 0===i?void 0:i.reduce((e,n)=>e||(null==n?void 0:n.capabilities.includes("Editing")),!1)}catch(t){if(null===(l=null==t?void 0:t.message)||void 0===l?void 0:l.toLowerCase().includes("token required"))return h(e,n,!0)}return!1}},68616:(e,n,t)=>{t.d(n,{i:()=>r});const r=(e,n)=>"Feature Service"===n&&e.includes("Hosted Service")},71467:(e,n,t)=>{t.d(n,{a:()=>a,b:()=>o,i:()=>i});const r=["appExtensionError","forbiddenCredential","disabledSubscription","unauthorized","timeout","itemExists","exceedsFileSize","fileExists","emptyFile","unavailableGeocoder","dataNotAvailable","invalidShapefile","invalidFileGeodatabase","providePath","useSameFileName","invalidExtension","tokenRequired","invalidToken","invalid3DObjectFeatureClass","invalidClassification","serviceNameInvalid","titleInvalid","titleStartsWithNumber","titleRequired","titleInUseService","itemInRecycleBin","summaryInvalid","descriptionInvalid","missingUserOrPortal","dataStoreTitleInvalid","serviceNameExists","folderNameExists","serviceNotExist","unsupportedWFSVersion","invalidWMTS","invalidSpatialRef","emptyFeatureLayer","invalidFeatureLayerUrl","invalidUrl","httpWarning","flowAborted","duplicateFieldNames","failToFetchText","mapServiceError","noTilingSchemeFound","noMatchSpatialRef","invalidDataStorePublishType","noRegisteredServersForDataStore","noContentInDataStore","failToPublishFromDataStore","failToListDataStoreContents","invalidUsernameOrPassword","invalidConnection","invalidCredentials","invalidBigQueryProjectId","invalidSnowflakeServer","invalidSnowflakeRole","invalidSnowflakeWarehouse","invalidSnowflakeSchema","invalidSnowflakeDatabase","invalidAWSBucket","invalidAzureContainer","invalidJSON","invalidKeyFile","unauthorizedCredentials","unknownAGSType","unhandledError","incompatibleGeometries","multiPatchRestriction","invalidUniqueIdentifier","cannotAddNullData","exceededMaxFieldLength","invalidFieldType","failToCreate3DLayer"],a=e=>r.includes(null==e?void 0:e.code),o=e=>e&&e.hasOwnProperty("code")&&e.hasOwnProperty("message")&&e.hasOwnProperty("details")&&(!e.details||Array.isArray(e.details)),i=e=>{const n=e.toLocaleLowerCase();return n.includes("unexpected end of")||n.includes("did not match the expected pattern")}},94984:(e,n,t)=>{t.d(n,{C:()=>l,a:()=>u,b:()=>d,f:()=>s,g:()=>i,l:()=>o,s:()=>m});var r=t(15332),a=t(931);const o=new Map([["ar","ar"],["bg","bg"],["bs","bs"],["ca","ca"],["cs","cs"],["da","da"],["de","de"],["el","el"],["en","en"],["es","es"],["et","et"],["fi","fi"],["fr","fr"],["he","he"],["hr","hr"],["hu","hu"],["id","id"],["it","it"],["ja","ja"],["ko","ko"],["lt","lt"],["lv","lv"],["nb","no"],["no","no"],["nl","nl"],["pl","pl"],["pt-br","pt-BR"],["pt-pt","pt-PT"],["ro","ro"],["ru","ru"],["sk","sk"],["sl","sl"],["sr","sr"],["sv","sv"],["th","th"],["tr","tr"],["uk","uk"],["vi","vi"],["zh-cn","zh-CN"],["zh-hk","zh-HK"],["zh-tw","zh-TW"]]);function i(e){return function(e,n,t){const a=(0,r.c)(e,`[${n}]`);return a?a.getAttribute(n):t}(e,"dir","ltr")}const l={rtl:"arcgis--rtl"};async function s(e,n){const{api:t,type:r,places:o}=n||{};if(3===t){const[t]=await(0,a.l)(["dojo/number"]);return t.format(e,{type:r,places:o,pattern:null==n?void 0:n.pattern})}const[i]=await(0,a.l)(["esri/intl"]),l=i.convertNumberFormatToIntlOptions({places:o,style:r,digitSeparator:!0});return i.formatNumber(e,Object.assign(Object.assign({},l),{style:r}))}const c={};function d(e,n){let t=document.documentElement.lang;const r="bs"===t;if(r&&(t="hr"),n){const n=`${t}-full`,r={dateStyle:"full",timeStyle:"long"};return c[n]||(c[n]=new Intl.DateTimeFormat(t,r)),c[n].format(e)}const a={year:"numeric",month:r?"numeric":"short",day:"numeric"};return c[t]||(c[t]=new Intl.DateTimeFormat(t,a)),c[t].format(e)}function u(e,n,t,r){const a=null!=e?e:"en";let o=n.unknown;return(1===t||["id","ja","ko","th","vi","zh-cn","zh-hk","zh-tw"].includes(a))&&(o=n.single),1!==t&&["en","ca","da","de","el","es","et","fi","hi","hu","it","nb","nl","pt-pt","sv","tr"].includes(a)&&(o=n.multiple),m(o,Object.assign(Object.assign({},r),{number:t}))}const v=/\$\{([^}]+)\}/g;function m(e,n,t=v){let r=e;try{r=e.replace(t,(e,t)=>function(e,n){const t=e.split(".").reduce((e,n)=>e[n],n);return"string"==typeof t||"number"==typeof t?t:e}(t,n).toString())}catch(e){console.error(e)}return r}}}]);