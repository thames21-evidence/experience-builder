/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_privil-00e751.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_privil-00e751"],{1654:(e,i,n)=>{n.d(i,{A:()=>w,B:()=>x,C:()=>G,D:()=>L,E:()=>m,F:()=>E,a:()=>t,b:()=>o,c:()=>u,d:()=>b,e:()=>P,f:()=>y,g:()=>S,h:()=>T,i:()=>f,j:()=>I,k:()=>U,l:()=>a,m:()=>d,n:()=>s,o:()=>_,p:()=>v,q:()=>p,r:()=>g,s:()=>F,t:()=>B,u:()=>c,v:()=>O,w:()=>k,x:()=>N,y:()=>C,z:()=>h});var r=n(46904);const l=e=>{var i,n,r;return"string"==typeof(null==e?void 0:e.role)&&(null==e?void 0:e.role)?null==e?void 0:e.role:null!==(n=null!==(i=null==e?void 0:e.roleId)&&void 0!==i?i:null==e?void 0:e.id)&&void 0!==n?n:null===(r=null==e?void 0:e.sourceJSON)||void 0===r?void 0:r.id};function o(e){return e&&!e.orgId}function u(e,i){return(0,r.u)(e,i)||"update"===e.itemControl||(0,r.c)([e],i)&&y(i)}function t(e,i){const n=(0,r.c)([e],i),l=(0,r.u)(e,i)||y(i)&&n,o=S(i)&&D(i);return!!(l||n&&o)}const s=e=>{var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:manageLicenses"))},a=e=>{var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:inviteUsers"))},d=e=>{var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:manageRoles"))},c=e=>{var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:changeUserRoles"))},v=e=>{var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:viewGroups"))},p=e=>{var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:viewUsers"))};function f(e){return["Trial Developer","Developer","Developer Subscription"].includes(null==e?void 0:e.type)}function m(e){return["Developer Subscription"].includes(null==e?void 0:e.type)}function g(e){return["Geoanalytics Engine","GeoAnalytics MS Fabric"].includes(null==e?void 0:e.type)}const b=e=>{var i;return null===(i=null==e?void 0:e.options)||void 0===i?void 0:i.includes("Developer")},h=e=>{var i;return null===(i=null==e?void 0:e.options)||void 0===i?void 0:i.includes("PublicSharingDisabled")},w=e=>{var i;return null===(i=null==e?void 0:e.options)||void 0===i?void 0:i.includes("HostedServicesPublicSharingDisabled")};function y(e){return"org_admin"===l(e)||"account_admin"===l(e)}function P(e){return["org_admin","account_admin"].includes(l(e))&&!(null==e?void 0:e.roleId)}function S(e){return!!(null==e?void 0:e.roleId)&&e.roleId.length>0}function I(e){var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:updateItemCategorySchema"))}function T(e){var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:updateGroups"))}function _(e){var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:assignToGroups"))}const D=e=>{var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:deleteItems"))};function O(e){return((null==e?void 0:e.privileges)||[]).includes("portal:user:shareToGroup")}function k(e){return((null==e?void 0:e.privileges)||[]).includes("portal:user:shareToOrg")}function x(e){return((null==e?void 0:e.privileges)||[]).includes("portal:user:shareToPublic")}function C(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:shareToOrg")}function G(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:shareToPublic")}function N(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:shareToGroup")}function U(e,i,n,r){const l=r&&!["Trial","Trial Press","Trial Developer","Developer Subscription","Evaluation"].includes(r.type),o=((null==i?void 0:i.privileges)||[]).includes("portal:admin:manageCollaborations");return!(!(null==e?void 0:e.collaborationsEnabled)||!i||!y(i)&&!o||!(null==n?void 0:n.isPortal)&&!l)}function E(e){return!!e&&(!S(e)||S(e)&&function(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:viewItems")}(e))}const L=({items:e,user:i,portal:n})=>{const l=e[0],o=l.owner;if(n.isPortal&&o!==i.username&&o.includes("esri_")&&!["esri_livingatlas"].includes(o))return!1;const t=(0,r.u)(l,i),s=S(i),a=A(i),d=u(l,i)&&function(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:updateItems")}(i)&&!s&&(function(e,i){return!function(e){return!(!e.urlKey||!e.customBaseUrl)||!!e.isPortal}(i)||O(e)||k(e)||!!i.canSharePublic&&x(e)}(i,n)||A(i));return t||d||(0,r.c)(e,i)&&a};function A(e){return N(e)||C(e)||G(e)}const J=["portal:user:createItem","portal:user:viewOrgItems","premium:publisher:createNotebooks","portal:publisher:createDataPipelines","features:user:edit","features:user:fullEdit","portal:admin:viewItems","portal:admin:updateItems","portal:admin:deleteItems"];function B(e){return e.some(e=>J.includes(e))}function F(e){return e.filter(e=>J.includes(e))}},10578:(e,i,n)=>{n.d(i,{A:()=>T,B:()=>A,a:()=>N,b:()=>h,c:()=>G,d:()=>v,e:()=>b,f:()=>P,g:()=>p,h:()=>w,i:()=>f,j:()=>S,k:()=>I,l:()=>O,m:()=>d,n:()=>k,o:()=>x,p:()=>c,q:()=>B,r:()=>U,s:()=>J,t:()=>C,u:()=>E,v:()=>$,w:()=>L,x:()=>F,y:()=>s,z:()=>_});var r=n(29599),l=n(41473),o=n(1654),u=n(59317),t=n(83692);async function s(){return new Promise(async e=>{const{portal:i}=u.c;if(null==i?void 0:i.isPortal){const n=i.helperServices.geocode,r=await function(e){const{config:i,portal:n}=u.c;return new Promise(async(r,l)=>{const o=e.filter(e=>a(e.url,n)).filter(e=>e.isEsriBatchGeocoder)[0];if(o){const e=o.url.split("/servers/")[1].split("/rest/services/")[0],n=`${i.restBaseUrl}/content/items/${e}`;try{r((await(0,t.r)(n)).url)}catch(e){l(e)}}else l("No world geocoder configured")})}(n);e(r)}else{const n=function(e){const i=null==e?void 0:e.portalHostname;if(-1!==i.indexOf("dev"))return"dev";if(-1!==i.indexOf("qa"))return"qa";return""}(i);e(`https://geocode${n}.arcgis.com/arcgis/rest/services/World/GeocodeServer`)}})}function a(e="",i){var n;const r=i.isPortal,l=e.toLowerCase(),o=l.indexOf("/geocodeserver")>-1&&l.indexOf("/rest/services/")>-1,u=r&&l.indexOf(null===(n=i.portalHostname)||void 0===n?void 0:n.toLowerCase())>-1,t=!r&&l.indexOf("utility")&&l.indexOf(".arcgis.com")>-1;return o&&(u||t)}function d(e){return(0,o.b)(e)||(null==e?void 0:e.privileges.includes("portal:user:createItem"))}function c(e){return(0,o.b)(e)||(null==e?void 0:e.privileges.includes("portal:user:receiveItems"))}async function v(e,i){return!(0,o.b)(e)&&(null==e?void 0:e.privileges.includes("portal:publisher:publishFeatures"))&&await(0,r.i)(i,e)}const p=e=>!(0,o.b)(e)&&(null==e?void 0:e.privileges.includes("portal:publisher:publishServerServices"));async function f(e,i){return!(0,o.b)(e)&&(null==e?void 0:e.privileges.includes("portal:publisher:publishTiles"))&&await(0,r.i)(i,e)}const m=async(e,i)=>{var n;return await f(e,i)&&(!i.isPortal||!!(null===(n=i.sourceJSON)||void 0===n?void 0:n.supports3DTilesServices))};function g(e){return!(0,o.b)(e)&&!0}function b(e){var i;return!(0,o.b)(e)&&(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:publisher:publishScenes"))}const h=e=>!(0,o.b)(e);function w(e,i,n){var r,l;const o=!!(null===(l=null===(r=i.helperServices)||void 0===r?void 0:r.rasterAnalytics)||void 0===l?void 0:l.url),u=function(e,i,n){var r;return(null===(r=null==e?void 0:e.privileges)||void 0===r?void 0:r.includes("portal:publisher:publishDynamicImagery"))&&(i.isPortal||y(n))}(e,i,n),t=i.isPortal?u:u||function(e,i,n){var r;return(null===(r=null==e?void 0:e.privileges)||void 0===r?void 0:r.includes("portal:publisher:publishTiledImagery"))&&!i.isPortal&&y(n)}(e,i,n);return o&&t}function y(e){return null==e?void 0:e.some(e=>{var i;return null===(i=e.entitlements)||void 0===i?void 0:i.some(e=>"image"===e.toLowerCase())})}async function P(e){const{userLicensedItems:i}=await(0,t.r)(`${e.restUrl}/community/self?returnUserLicensedItems=true`);return i}function S(e,i){var n,r;const u=null===(n=i.helperServices)||void 0===n?void 0:n.geocode.some(({url:e})=>a(e,i)),t=null!==(r=null==e?void 0:e.privileges)&&void 0!==r?r:[];return!(0,o.b)(e)&&u&&(!i.isPortal||!(0,l.i)(i)&&t.includes("portal:user:viewOrgItems")&&t.includes("portal:user:createItem"))}const I=e=>!(0,o.b)(e);function T(e){return null==e?void 0:e.privileges.includes("premium:publisher:createAdvancedNotebooks")}function _(e){return null==e?void 0:e.privileges.includes("premium:publisher:createNotebooks")}function D(e){return["portal:publisher:createDataPipelines","portal:user:createItem","portal:publisher:publishFeatures"].every(i=>{var n;return null===(n=null==e?void 0:e.privileges)||void 0===n?void 0:n.includes(i)})}function O(e,i,n){var r,l,u;return!(0,o.d)(n)&&((null==i?void 0:i.isPortal)?!!(null===(r=null==e?void 0:e.privileges)||void 0===r?void 0:r.includes("portal:publisher:registerDataStores")):D(e)&&("1"===(null===(l=null==e?void 0:e.sourceJSON)||void 0===l?void 0:l.level)||"2"===(null===(u=null==e?void 0:e.sourceJSON)||void 0===u?void 0:u.level)))}const k=(e,i)=>!(0,o.b)(e)&&!(0,o.d)(i)&&D(e);function x(e){return!(0,o.b)(e)&&(null==e?void 0:e.privileges.includes("premium:user:geocode"))}const C=e=>null==e?void 0:e.privileges.includes("premium:user:geocode:stored");async function G(e,i,n){return!i.isPortal&&await v(e,i)&&await async function(e,i,n){return!(0,o.b)(e)&&!!i.supportsHostedServices&&d(e)&&(await f(e,i)||await v(e,i)||b(e)||g(e)||w(e,i,n))}(e,i,n)}async function N(e,i,n){switch(i){case"CSV":case"GeoJson":case"Microsoft Excel":case"Shapefile":case"File Geodatabase":case"Photos with Locations":return v(e,n);case"Tile Package":return f(e,n);case"3DTiles Package":return m(e,n);case"Vector Tile Package":return g(e);case"Scene Package":return b(e);case"Service Definition":return async function(e,i){return await v(e,i)&&await f(e,i)}(e,n);default:return!0}}function U(e){var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:manageCredits"))}function E(e,i){var n,r,l;return(0,o.f)(e)||U(e)||!!((null!==(r=null===(n=null==e?void 0:e.sourceJSON)||void 0===n?void 0:n.assignedCredits)&&void 0!==r?r:-1)>-1&&(null===(l=null==i?void 0:i.portalProperties)||void 0===l?void 0:l.showCreditsOnProfile))}const L=e=>!1;function A(e){var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:viewGroups"))}function J(e){var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:viewUsers"))}function B(e){return(0,o.e)(e)||J(e)&&function(e){var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:viewItems"))}(e)&&(function(e){var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:updateItems"))}(e)||function(e){var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:deleteItems"))}(e)||function(e){var i;return!!(null===(i=null==e?void 0:e.privileges)||void 0===i?void 0:i.includes("portal:admin:reassignItems"))}(e))}function F(e){return e.map(e=>`portal:app:access:item:${e.id}`)}const $=e=>e.privileges.includes("portal:user:assignPrivilegesToApps")}}]);