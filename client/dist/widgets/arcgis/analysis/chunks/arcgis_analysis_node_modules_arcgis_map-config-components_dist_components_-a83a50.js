"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["extensions_widgets_arcgis_analysis_node_modules_arcgis_map-config-components_dist_components_-a83a50"],{96492:(e,i,t)=>{t.r(i),t.d(i,{ArcgisWebMappingAssistantSelectedFields:()=>o});var s=t(73679),l=t(4395),a=t(73801),c=(e=>(e.NUMBER="number",e.STRING="string",e.DATE="date",e))(c||{});const n=l.AH`.field-chip{max-width:var(--calcite-size-xxxl)}.dropdown-item{display:flex;align-items:center;border-bottom:1px solid var(--calcite-color-border-1);justify-content:space-between;width:100%;box-sizing:border-box}.dropdown-checkbox{margin-inline-start:var(--calcite-spacing-xxs)}.field-icon{float:inline-end}.field-label{flex:1;margin-inline-start:var(--calcite-spacing-sm);font-weight:var(--calcite-font-weight-medium);text-align:start}.chip-container{display:flex;gap:var(--calcite-spacing-xxs)}.field-button{width:100%;max-width:100%;box-sizing:border-box}.dropdown-footer{display:flex;justify-content:flex-end;padding:var(--calcite-spacing-sm)}.done-button{width:auto}`,d={type:1,"type-size":2,color:1,"color-classed":1,"color-age":1,size:1,"size-classed":1,"size-age":1,"color-size":2,"color-size-univariate":2,"color-size-age":1,"color-age-size":1,heatmap:0,"dot-density":2,relationship:2,"relationship-size":3,compare:2,predominance:2,"predominance-size":2,chart:2,"chart-size":2};class o extends a.WF{constructor(){super(...arguments),this.initialSelectedFieldNames=new Set,this.arcgisSelectedFieldsChange=(0,a.lh)(),this.arcgisSelectedFieldsError=(0,a.lh)()}static{this.properties={initialSelectedFieldNames:16,fields:0,selectedFieldsList:0,styleName:1,_messages:0,selectedFields:0}}static{this.styles=n}get dropdownFieldInfos(){return this.fields?.filter(e=>this.initialSelectedFieldNames.has(e.layerField.name))??[]}load(){this.initialSelectedFieldNames=new Set(this.selectedFieldsList)}getSimpleFieldTypeFromRaw(e){switch(e.layerField?.type){case"string":case"date-only":return c.STRING;case"date":return c.DATE;case"small-integer":case"big-integer":case"integer":case"single":case"double":case"long":return c.NUMBER;default:return}}getIconForSimpleFieldType(e){switch(e){case c.NUMBER:return"number";case c.STRING:return"string";case c.DATE:return"date-time";default:return"question"}}handleToggleField(e,i){const t=this.selectedFields?[...this.selectedFields]:[],s=i??!t.includes(e)?[...t,e]:t.filter(i=>i!==e);this.arcgisSelectedFieldsChange.emit(s)}render(){const e=this.selectedFields??[];return l.qy`<div><calcite-label>${this._messages?.fields}<calcite-dropdown width=m close-on-select-disabled><calcite-button alignment=icon-end-space-between appearance=outline-fill kind=neutral icon-end=chevron-down width=full scale=s class="field-button" slot=trigger>${e.length>0?l.qy`<div class="chip-container">${this.fields?.filter(i=>e.includes(i.layerField.name)).slice(0,2).map(e=>l.qy`<calcite-chip .label=${e.layerField.name} scale=s class="field-chip">${e.layerField.alias}</calcite-chip>`)}${e.length>2?l.qy`<calcite-chip scale=s label>+${e.length-2}</calcite-chip>`:null}</div>`:this._messages?.chooseField}</calcite-button>${this.renderDropdownGroup()}</calcite-dropdown></calcite-label></div>`}renderDropdownGroup(){const e=d[this.styleName?.toLowerCase()]??1;return l.qy`<calcite-dropdown-group selection-mode=none>${this.dropdownFieldInfos.map(i=>{const t=i.layerField.name,s=this.selectedFields?.includes(t)??!1,a=s&&(this.selectedFields?.length??0)<=e;return l.qy`<calcite-dropdown-item .label=${i.layerField.alias||t} @click=${e=>e.stopPropagation()} class="dropdown-item"><calcite-checkbox .checked=${s} .disabled=${a} @calciteCheckboxChange=${e=>{e.stopPropagation(),this.handleToggleField(t,e.target.checked)}} class="dropdown-checkbox"></calcite-checkbox><span class="field-label">${i.layerField.alias}</span><calcite-icon .icon=${this.getIconForSimpleFieldType(this.getSimpleFieldTypeFromRaw(i))} scale=s class="field-icon"></calcite-icon></calcite-dropdown-item>`})}</calcite-dropdown-group>`}}(0,s.c)("arcgis-web-mapping-assistant-selected-fields",o)}}]);