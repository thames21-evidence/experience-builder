"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_arcgis-raster-function-editor_-48d7b2"],{7252:(e,n,t)=>{t.r(n),t.d(n,{rfx_cte_band_arithmetic_band_indexes_editor:()=>a.R});var a=t(46575);t(92265),t(69843),t(5294),t(13661),t(18423),t(21255),t(35431),t(38949),t(32513),t(33752),t(44345),t(588),t(55448),t(2924),t(11840),t(52373),t(440),t(66744),t(42335),t(33797),t(71802),t(36596),t(23795),t(17902),t(56451),t(47453)},33797:(e,n,t)=>{t.d(n,{C:()=>s,U:()=>a,a:()=>i,u:()=>r});const a={Scale:"s",PopoverTimer:60},s={s:"s",m:"m",l:"l"},i={absolute:"absolute",fixed:"fixed"},r=e=>e===s.s?s.m:s.l},42335:(e,n,t)=>{t.d(n,{A:()=>c,E:()=>d,G:()=>o,J:()=>s,M:()=>l,P:()=>I,U:()=>a,a:()=>r,c:()=>i,d:()=>R});const a={IDLE:"idle",VALID:"valid",INVALID:"invalid"},s={RASTER_FUNCTION_TEMPLATE:"RasterFunctionTemplate",RASTER_FUNCTION_VARIABLE:"RasterFunctionVariable",ARGUMENT_ARRAY:"ArgumentArray",RECORD_SET:"RecordSet",ECD_FILE:"ECDFile"},i="ConvertRasterFunctionTemplate",r={MATCH_VARIABLE:"MatchVariable",UNION_DIMENSION:"UnionDimension"},R={name:"Raster",isDataset:!0,isPublic:!1,type:s.RASTER_FUNCTION_VARIABLE},c={RFX_DTEX_COMMON_SELECT:"RFX-DTEX-COMMON-SELECT",RFX_DTE_COMMON_CHECKBOX:"CALCITE-CHECKBOX",RFX_DTE_COMMON_TEXTINPUT:"CALCITE-INPUT-TEXT",RFX_DTE_COMMON_NUMBERINPUT:"CALCITE-INPUT-NUMBER",RFX_DTE_RASTER_INPUT:"RFX-DTE-RASTER-INPUT",RFX_DTE_FEATURE_SELECT:"RFX-DTE-FEATURE-SELECT",RFX_DTE_MULTIPLE_INPUT:"RFX-DTE-MULTIPLE-INPUT",RFX_DTEX_RASTER_VARIABLES_LIST:"RFX-DTEX-RASTER-VARIABLES-LIST",RFX_CTE_RANGED_VALUE_EDITOR:"RFX-CTE-RANGED-VALUE-EDITOR",RFX_CTE_GAMMA_EDITOR:"RFX-CTE-GAMMA-EDITOR",RFX_DTE_COLOR_RAMP_SELECTOR:"RFX-DTE-COLOR-RAMP-SELECTOR",RFX_DTE_EXTENT:"RFX-DTE-EXTENT",RFX_DTE_JSON_FILE_UPLOADER:"RFX-DTE-JSON-FILE-UPLOADER",RFX_DTE_RFT_BROWSER:"RFX-DTE-RFT-BROWSER",RFX_CTE_FACTOR_FUNCTION_EDITOR:"RFX-CTE-FACTOR-FUNCTION-EDITOR",RFX_CTE_NEIGHBORHOOD_VALUES:"RFX-CTE-NEIGHBORHOOD-VALUES",RFX_CTE_SYNCHRONIZE_OUTPUT_UNIT_PICKER:"RFX-CTE-SYNCHRONIZE-OUTPUT-UNIT-PICKER",RFX_CTE_DIMENSIONLESS_EDITOR:"RFX-CTE-DIMENSIONLESS-EDITOR"},l={ANALYSIS:"analysis",EDITOR:"editor"},d={ANALYSIS:"analysis",ITEM:"item"},o={textInput:"text-input",text:"text",raster:"raster-input",number:"number-input",boolean:"check-box",switch:"switch",field:"field-select",color:"color-input",select:"select",icon:"icon"},I={loading:"loading",success:"success",error:"error"}},46575:(e,n,t)=>{t.d(n,{R:()=>d});var a=t(92265),s=t(69843),i=(t(5294),t(13661),t(18423),t(21255),t(35431),t(38949)),r=(t(588),t(55448),t(2924),t(11840),t(52373),t(33752),t(440),t(66744),t(44345),t(42335)),R=t(33797),c=(t(71802),t(36596),t(23795),t(17902),t(56451),t(47453));const l="bandindexesHelpClickHandler",d=class{constructor(e){(0,a.r)(this,e),this.rfxArgumentChange=(0,a.c)(this,"rfxArgumentChange"),this.helpActionClickEventHandlers=new Map}connectedCallback(){this.widgetArgs.triggerArgs?.Method?.input?.addEventListener("rfxArgumentChange",({detail:{value:e}})=>{this.handleMethodChange(e),this.setInputMessageVisibiliy(e)})}async componentWillLoad(){({strings:this.strings,dir:this.direction}=await(0,s.c)(this.hostElement,(0,a.d)("."))),this.setInitialState()}componentDidLoad(){this.attachHelpClickEventHandlers()}setInitialState(){const e=this.widgetArgs.inputArgs?.BandIndexes.value;this.value=e;const n=this.widgetArgs.triggerArgs?.Method.value;this.handleMethodChange(n),this.setInputMessageVisibiliy(n)}attachHelpClickEventHandlers(){const e=this.widgetArgs.onHelpActionClick({heading:this.widgetArgs?.inputArgs?.BandIndexes?.displayName,referenceElement:this.bandIndexsEditorContainer,helpTextID:this.widgetArgs.helpTextIDs?.bandarithmetic_bandindexes});this.helpActionClickEventHandlers.set(l,e)}handleMethodChange(e){let n=`${this.strings.example}: `,t=`${this.strings.input}: `,a=`${this.strings.output}: `;const s=` (${this.strings.optional})`,i=`(${this.strings.WNDWIHintText})`,r="</br>";switch(parseInt(e)){case 0:n+="(B3 - B1) / (B3 + B1)",t="",a="";break;case 1:n+="3 1",t+="NIR Red",a+="(NIR - Red) / (NIR + Red)";break;case 2:n+="3 1 0.33",t+="NIR Red L",a+="((NIR - Red) / (NIR + Red + L)) * (1 + L)";break;case 3:n+="3 1 0.33 0.5 1.5",t+="NIR Red s a X",a+="(s * (NIR - s * Red - a)) / (a * NIR + Red - a * s + X * (1 + s * s))";break;case 4:n+="3 1",t+="NIR Red",a+="(2 * NIR + 1 - Sqrt((2 * NIR + 1) ^ 2 - 8 * (NIR - Red))) / 2";break;case 5:n+="3 1",t+="NIR Red",a+="eta * (1 - 0.25 * eta) - ((Red - 0.125) / (1 - Red))",a+=r,a+=r,a+=" *eta = [2 * (NIR ^ 2 \u2013 Red ^ 2) + 1.5 * NIR + 0.5 * Red] / (NIR + Red + 0.5)";break;case 6:n+="3 1 0.33 0.5",t+="NIR Red a b",a+="(NIR - a * Red - b) / (Sqrt(1 + a ^ 2))";break;case 7:n+="1 2 3 4 5 7",t+="TM1 TM2 TM3 TM4 TM5 TM7",t+=s,a+="-0.2848 * TM1 - 0.2435 * TM2 - 0.5436 * TM3 + 0.7243 * TM4 + 0.084 * TM5 - 0.18 * TM7";break;case 8:n+="1 3 4 5 6",t+="Band1 Band3 Band4 Band5 Band6",t+=s,a+=r,a+=" Band1 = (Band5 / Band6) * 100",a+=r,a+=" Band2 = (Band5 / Band1) * 100",a+=r,a+=" Band3 = (Band3 / Band4) * (Band5 / Band4) * 100";break;case 9:n+="3 2 1",t+="Red Green Blue",a+="(Green - Red) / (Green + Red - Blue)";break;case 10:n+="3 1",t+="NIR Green",a+="(NIR - Green) / (NIR + Green)";break;case 11:n+="3 1",t+="NIR Red",a+="NIR / Red";break;case 12:n+="3 1",t+="NIR RedEdge",a+="(NIR - RedEdge) / (NIR + RedEdge)";break;case 13:n+="3 1",t+="NIR RedEdge",a+="NIR / RedEdge";break;case 14:n+="3 1 2",t+="NIR Green Red",a+="(1.5 * (1.2 * (NIR - Green) - 2.5 * (Red - Green) ) / Sqrt( (2 * NIR + 1) ^ 2 - (6 * NIR - 5 * Sqrt(Red) ) - 0.5 ) )";break;case 15:n+="3 2 1",t+="NIR RedEdge Green",a+="(100 * (NIR - RedEdge) - 10 * (NIR - Green))";break;case 16:n+="3 2",t+="NIR RedEdge",a+="(NIR / RedEdge) - 1.0";break;case 17:n+="3 1",t+="NIR Green",a+="(NIR / Green) - 1.0";break;case 18:n+="3 1",t+="NIR Green",a+="(Green - NIR) / (Green + NIR)";break;case 19:n+="3 2 1",t+="NIR Red Blue",a+="2.5 * [(NIR - Red)/ (NIR + (6 * Red) - (7.5 * Blue) + 1.0)]";break;case 20:n+="3 1",t+="Red Blue",a+="Red / Blue";break;case 21:n+="3 1",t+="SWIR NIR",a+="SWIR / NIR";break;case 22:n+="3 1",t+="SWIR1 SWIR2",a+="SWIR1 / SWIR2";break;case 23:n+="3 2 1 0.75",t+="Green NIR SWIR \u03b1",a+="[Green \u2013 \u03b1 * NIR \u2013 (1 \u2013 \u03b1) * SWIR ] / [Green + \u03b1 * NIR + (1 \u2013 \u03b1) * SWIR]",a+=r,a+=i;break;case 24:n+="3 1",t+="Red NIR",a+="1/((0.1 -RED)^2 + (0.06 - NIR)^2)";break;case 25:n+="3 1",t+="NIR SWIR",a+="(NIR - SWIR) / (NIR + SWIR)";break;case 26:n+="3 1",t+="SWIR NIR",a+="(SWIR - NIR) / (SWIR + NIR)";break;case 27:n+="3 1",t+="NIR SWIR1",a+="(NIR - SWIR1) / (NIR + SWIR1)";break;case 28:case 29:n+="3 1",t+="Green SWIR",a+="(Green - SWIR) / (Green + SWIR)"}let R;this.placeholder=n;try{R=(t+r+a).replace(/(\d+(\.\d+)?)/g,function(e){return(0,c.a)(parseFloat(e))})}catch{R=t+r+a}this.bandIndexEditorMessage=R}setInputMessageVisibiliy(e){return 0===parseInt(e)?this.showInputMessage=!1:this.showInputMessage=!0,this.showInputMessage}render(){return(0,a.h)("div",{key:"67dc28760607a35f1656dc6000564e3411db1a52"},(0,a.h)("calcite-label",{key:"fdea58daaf5b772bebd9c14ec3b9c5d57f2fbfa8",alignment:"start",scale:i.s.scale??R.U.Scale,layout:"default",ref:e=>{this.bandIndexsEditorContainer=e}},(0,a.h)("rfx-label",{key:"de941f0f17e956fb889a5015307063932c76853a",label:this.widgetArgs.inputArgs.BandIndexes.displayName,onRfxLabelHelpActionClick:()=>this.helpActionClickEventHandlers?.get(l)()}),(0,a.h)("calcite-input",{key:"5f874ffc99d297174f887cf11bf26e286835de37",type:"text",ref:e=>{this.widgetArgs.inputArgs.BandIndexes.input=e},scale:i.s.scale??R.U.Scale,placeholder:this.placeholder,value:this.value}),(0,a.h)("calcite-input-message",{key:"f9cefecfa0ee030ddc2c7ef73a9ef7be4143588c",status:r.U.IDLE,icon:this.showInputMessage,"icon-flip-rtl":"rtl"===this.direction,ref:e=>{e.innerHTML=this.bandIndexEditorMessage},hidden:!1===this.showInputMessage})))}static get assetsDirs(){return["t9n"]}get hostElement(){return(0,a.a)(this)}}},47453:(e,n,t)=>{t.d(n,{a:()=>l,b:()=>d,d:()=>I,f:()=>c,i:()=>i,l:()=>u,p:()=>R,s:()=>r});var a=t(69843),s=t(38949);function i(e){return null!=e&&!1===Number.isNaN(e)&&!0===Number.isFinite(e)}function r(e,n){let t;if(null!==e){const a="string"==typeof e?Number.parseFloat(e):e;i(a)?t=a:i(n)&&(t=n)}return void 0===t?"":`${t}`}function R(e){if(!(0,s.i)(e))return Number.parseFloat(e)}function c(e,n=3){if(!(0,s.i)(e))return Number.parseFloat(e.toFixed(n))}function l(e,n){let t="";if(!(0,s.i)(e)&&!Number.isNaN(e)){const s=(0,a.g)().locale;t=Intl.NumberFormat(s,n).format(Number(e))}return t}function d(e){return!((0,s.i)(e)||isNaN(Number(e)))}function o(e,n){if((0,s.i)(e))return e;const t=e.toLowerCase().indexOf("e")+1;return(0,s.i)(t)?n(e):e.replace(/[eE]*$/g,"").substring(0,t).concat(e.slice(t).replace(/[eE]/g,"")).split(/[eE]/).map((e,t)=>n(1===t?e.replace(/\./g,""):e)).join("e").replace(/^e/,"1e")}function I(e){const n=(0,a.g)().locale,t=new Intl.NumberFormat(n).formatToParts(-12345678.9),s=t.find(e=>"group"===e.type).value,i=0===s.trim().length||" "==s?"\xa0":s,r="bs"===n?",":t.find(e=>"decimal"===e.type).value,R=t.find(e=>"minusSign"===e.type).value;return o(e,e=>e.replace(new RegExp(`[${R}]`,"g"),"-").replace(new RegExp(`[${i}]`,"g"),"").replace(new RegExp(`[${r}]`,"g"),"."))}function u(e){const n=(0,a.g)().locale,t=new Intl.NumberFormat(n).formatToParts(-12345678.9),i=t.find(e=>"group"===e.type).value,r=0===i.trim().length||" "==i?"\xa0":i,R={decimal:"bs"===n?",":t.find(e=>"decimal"===e.type).value,minusSign:t.find(e=>"minusSign"===e.type).value,numberFormatter:new Intl.NumberFormat(n,{useGrouping:!1})};return o(e,e=>d(e.trim())?new s.B(e.trim()).format(R).replace(new RegExp(`[${i}]`,"g"),r):e)}},69843:(e,n,t)=>{t.d(n,{D:()=>R,S:()=>a,a:()=>I,b:()=>c,c:()=>o,f:()=>u,g:()=>d});const a={Arabic:"ar",Bosnian:"bs",Bulgarian:"bg",Catalan:"ca",Czech:"cs",Danish:"da",German:"de",Greek:"el",English:"en",EnglishUSA:"en-US",Spanish:"es",Estonian:"et",Finnish:"fi",French:"fr",Hebrew:"he",Hindi:"hi",Croatian:"hr",Hungarian:"hu",Indonesian:"id",Italian:"it",Japanese:"ja",Korean:"ko",Lithuanian:"lt",Latvian:"lv",Norwegian:"no",Dutch:"nl",Polish:"pl",PortugueseBrazil:"pt-BR",PortuguesePortugal:"pt-PT",Romanian:"ro",Russian:"ru",Serbian:"sr",Slovenian:"sl",Slovak:"sk",Swedish:"sv",Thai:"th",Turkish:"tr",Ukrainian:"uk",Vietnamese:"vi",ChineseChina:"zh-CN",ChineseHongKong:"zh-HK",ChineseTaiwan:"zh-TW"},s=["ar","de","es","fr","it","ja","ko","ru","pl","pt-br","zh-cn"],i={"ar-BH":"ar","en-AU":"en","en-CA":"en","en-GB":"en","en-US":"en","es-ES":"es","es-MX":"es","de-CH":"de","de-AT":"de","de-DE":"de","fr-CA":"fr","fr-CH":"fr","fr-FR":"fr","it-CH":"it","it-IT":"it",nb:"no",nn:"no","nn-no":"no",ind:"id",ukr:"uk"},r=[a.Arabic,a.Hebrew],R=a.English;function c(e){return!0===e?"rtl":"ltr"}function l(e,n){const t=R;let s=e?.toLowerCase();if(void 0!==s&&-1!==s.indexOf("-")){const[e,n]=s.split("-");s=`${e}-${n.toUpperCase()}`}if(!s)return t;const r=Object.keys(i);if(!0===r.includes(s))return n[s];const c=Object.values(a);if(!1===c.includes(s)){const e=function(e){const n=e?.match(/^([a-z]{2})-([A-Z]{1,2})$/);let t=a.English;return null!=n&&n?.length>1?t=n[1]:2===e?.length&&e.toLowerCase()===e&&(t=e),t}(s);!0===c.includes(e)?s=e:!0===r.includes(e)&&(s=n[e])}return s}function d(e=document.documentElement){const n=(t="[lang]",function e(n){let a;return a=void 0===n||n===document||n===window?null:n.closest(t)||e(n.getRootNode().host),a}(e));var t;const s=n?.lang??window.navigator.language,c=Object.values(a),d=R,o=l(s,i);return{locale:c.includes(o)?o:d,rtl:r.includes(s)}}async function o(e,n){const t=e.tagName.toLowerCase(),{locale:a,rtl:s}=d(e),i=await async function(e){const{path:n,locale:t,baseURL:a}=e;let s={};try{const e=await fetch(`${a}t9n/${n}.t9n.${t}.json`);s=await e.json()}catch(e){const t=await fetch(`${a}t9n/${n}.t9n.${R}.json`);s=await t.json()}return s}({path:t,locale:a,baseURL:n});return{strings:i,dir:c(s),locale:a}}function I(e,n){if(!1===/^(?:[a-z]+:)?\/\//i.test(e)){const t=window.location.href,a=new URL(t).origin,s=new URL(n).origin;a!==s&&(e=`${s}${e}`)}return e}function u(e,n="en"){let t=n;!0===Object.keys(i).includes(n)&&(t=i[n]);const a=t.toLocaleLowerCase();return!0===s.includes(a)&&(e=e.replace(/^https?:\/\/[^/]+\/en/,e=>e.replace("en",a))),e}}}]);