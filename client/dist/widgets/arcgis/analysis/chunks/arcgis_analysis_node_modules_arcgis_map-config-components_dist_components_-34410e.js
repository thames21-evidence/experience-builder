/*! For license information please see arcgis_analysis_node_modules_arcgis_map-config-components_dist_components_-34410e.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["extensions_widgets_arcgis_analysis_node_modules_arcgis_map-config-components_dist_components_-34410e"],{58612:(e,t,o)=>{o.r(t),o.d(t,{ArcgisMapConfigSmartMappingBackgroundSymbol:()=>u});var i=o(73679),l=o(4395),s=o(56451),n=o(77462),a=o(1225),r=(o(54312),o(44345),o(55448),o(52797),o(34031),o(63438),o(5933),o(28927),o(83368),o(89704),o(5294),o(18423),o(96086),o(91813),o(21255),o(13078),o(21303),o(12627),o(31521),o(23054),o(5077),o(23795),o(17902),o(87420),o(30161),o(81734),o(65595)),c=(o(49403),o(66617),o(10628),o(59640),o(64451),o(6176),o(10454),o(29614),o(94916),o(52554),o(2156),o(4038),o(49851),o(75054),o(15223),o(70169),o(47207),o(70852),o(48103),o(39423),o(85681),o(18444),o(42411),o(9767),o(38218),o(91914),o(86605),o(68196),o(440),o(46547),o(6238),o(7299),o(73801)),d=o(20936);const g=l.AH`.background-symbol-content{padding-top:6px;border-bottom:1px solid #e0e0e0}`;class u extends c.WF{constructor(){super(...arguments),this.lastSettings={},this.smartMappingState=(0,r.u)(),this.arcgisSmartMappingBackgroundSymbolChange=(0,c.lh)()}static{this.styles=g}load(){this.popoverReferenceElement=(0,d.el)(this.el,"calcite-flow-item")||(0,d.el)(this.el,"calcite-panel")}handleBackgroundSymbolToggle(e){const{smartMappingState:t}=this,o=e.currentTarget,i=(0,a.g)(t);if("dot-density"===(0,a.d)(t))o.open?(this.lastSettings.backgroundColor||this.lastSettings.outline?(i.backgroundColor=this.lastSettings.backgroundColor,i.outline=this.lastSettings.outline):(i.backgroundColor=new s.default({r:64,g:64,b:64,a:1}),i.outline=new n.default),this.lastSettings.outlineVisVar&&(i.visualVariables=i.visualVariables||[],i.visualVariables.push(this.lastSettings.outlineVisVar)),this.lastSettings.backgroundColor=void 0,this.lastSettings.outline=void 0,this.lastSettings.outlineVisVar=void 0):(this.lastSettings.backgroundColor=i.backgroundColor,this.lastSettings.outline=i.outline,this.lastSettings.outlineVisVar=(0,a.c)(i,"size","outline"),i.backgroundColor=new s.default({r:0,g:0,b:0,a:0}),i.outline=void 0,i.visualVariables=(0,a.H)(i,"size","outline"),(0,a.f)());else if(o.open){if(this.lastSettings.backgroundFillSymbol)i.backgroundFillSymbol=this.lastSettings.backgroundFillSymbol;else{const e=(0,a.e)(t);e.color=null,i.backgroundFillSymbol=e}this.lastSettings.backgroundFillSymbol=void 0}else this.lastSettings.backgroundFillSymbol=i.backgroundFillSymbol,i.backgroundFillSymbol=void 0,(0,a.f)();(0,a.a4)(t),this.requestUpdate()}render(){const{smartMappingState:e}=this,{_messages:t}=e;if(!(0,a.o)(e))return"";const o=(0,a.g)(e),i="dot-density"===(0,a.d)(e)?o.backgroundColor||o.outline:o.backgroundFillSymbol;return l.qy`<calcite-block-section .text=${t.backgroundSymbol.showBackgroundSymbol} .expanded=${!!i} toggle-display=switch @calciteBlockSectionToggle=${this.handleBackgroundSymbolToggle}>${this.renderBackgroundSymbolContent()}</calcite-block-section>`}renderBackgroundSymbolContent(){const{smartMappingState:e}=this,{_messages:t}=e,o=(0,a.g)(e),i="dot-density"===(0,a.d)(e),s=(0,a.p)(o,"reference-size");let n;return i?(o.outline||o.backgroundColor)&&(n=(0,a.e)(e),n.outline=o.outline,(0,a.y)(n,o.backgroundColor)):s?(n=(0,a.e)(e),(0,a.y)(n,o.backgroundFillSymbol?.color)):n=o.backgroundFillSymbol,n?(this.popoverReferenceElement=this.popoverReferenceElement||(0,d.el)(this.el,"calcite-flow-item")||(0,d.el)(this.el,"calcite-panel"),l.qy`<div class="background-symbol-content"><arcgis-map-config-smart-mapping-symbol-button .type=${i?"dot-density-background":"background"} .label=${t.backgroundSymbol.backgroundStyle} .symbol=${n} @arcgisSmartMappingSymbolButtonSymbolChange=${()=>{this.requestUpdate(),this.arcgisSmartMappingBackgroundSymbolChange.emit()}} .popoverReferenceElement=${this.popoverReferenceElement}></arcgis-map-config-smart-mapping-symbol-button></div>`):""}}(0,i.c)("arcgis-map-config-smart-mapping-background-symbol",u)},65595:(e,t,o)=>{o.d(t,{c:()=>n,u:()=>a});var i=o(20936),l=o(1225),s=(o(54312),o(44345),o(55448),o(52797),o(34031),o(63438),o(5933),o(28927),o(83368),o(89704),o(5294),o(18423),o(96086),o(91813),o(21255),o(13078),o(21303),o(12627),o(56451),o(31521),o(23054),o(5077),o(23795),o(17902),o(87420),o(30161),o(81734),o(75698),o(10628),o(59640),o(64451),o(6176),o(83552));o(77462),o(49403),o(10281),o(83930),o(66617),o(10454),o(29614),o(94916),o(52554),o(2156),o(4038),o(49851),o(75054),o(15223),o(70169),o(47207),o(70852),o(48103),o(39423),o(85681),o(18444),o(42411),o(9767),o(38218),o(91914),o(86605),o(68196),o(440),o(46547),o(6238),o(7299);function n(e){e.selectedFields=[],e.layerFields=void 0,e.fields=void 0,e.hideLayerTitle=!1,e.supportsArcade=!1,e.stringFieldsCount=-1,e.dateFieldsCount=-1,e.numberFieldsCount=-1,e.containsFlow=!0,e.oneFeatureResponseStatus=l.s.MISSING,e.selectedAttribute=void 0,e.selectedAttributeText=void 0,e.selectedTypeValue=void 0,e.selectedValue=void 0,e.lastDefault=void 0,e.lastDefaults=void 0,e.dotColorSelected=void 0,e.backgroundStyleSelected=void 0,e.lastSettings=void 0,e.classedSymbolSelectedIdx=void 0,e.allUniqueValues=void 0,e.useFeatureReduction=void 0,e.symbolStylerConfig={},e.allowTimeSeriesConfiguration=!1,e.rasterInfo=void 0}function a(){const e=(0,s.Gk)(),t=e;e.manager.onLoad(()=>{t.smartMappingState=function(e,t){const o=r.get(e);if(o)return o;const l=(0,i.el)(e,t);return l&&"store"in l?(r.set(e,l.store),l.store):null}(e.el,"arcgis-map-config-smart-mapping")})}const r=new WeakMap}}]);