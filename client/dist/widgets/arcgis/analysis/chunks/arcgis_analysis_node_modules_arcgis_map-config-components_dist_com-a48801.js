/*! For license information please see arcgis_analysis_node_modules_arcgis_map-config-components_dist_com-a48801.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_map-config-components_dist_com-a48801"],{4265:(e,t,o)=>{o.d(t,{a:()=>i,d:()=>r,t:()=>l});const r=(e,t)=>{let o,r="idle";const i=async(...i)=>await new Promise(l=>{switch(r){case"flushed":r="idle",o?(clearTimeout(o),l(e(...i))):l(null);break;case"invoked":clearTimeout(o),r="idle",l(e(...i));break;case"cancelled":clearTimeout(o),r="idle",l(null);break;default:o&&clearTimeout(o),r="pending",o=setTimeout(()=>{r="idle",l(e(...i))},t)}});return i.flush=async function(...e){return r="flushed",await i(...e)},i.invoke=async function(...e){return r="invoked",await i(...e)},i.cancel=async function(...e){return r="cancelled",await i(...e)},i.getStatus=function(){return r},i},i=(e,t)=>{let o;return async(...r)=>await new Promise(i=>{o||(o=setTimeout(()=>{clearTimeout(o),o=void 0,i(e(...r))},t))})};function l(e){return new Promise(t=>setTimeout(t,e))}},46317:(e,t,o)=>{o.d(t,{D:()=>s});var r=o(85282),i=o(34670),l=o(42466);const s=(0,i.u$)(class extends i.WL{constructor(){super(...arguments),this.key=r.s6}render(e,t){return this.key=e,t}update(e,[t,o]){return t!==this.key&&((0,l.mY)(e),this.key=t),o}})},55535:(e,t,o)=>{function r(e,t,o){window.localStorage.setItem(e,JSON.stringify(t))}function i(e){window.localStorage.removeItem(e)}function l(e,t){const o=window.localStorage.getItem(e);return o&&t?JSON.parse(o):o}function s(e,t,o){window.sessionStorage.setItem(e,JSON.stringify(t))}function n(e,t){const o=window.sessionStorage.getItem(e);return o&&t?JSON.parse(o):o}o.d(t,{a:()=>s,b:()=>n,g:()=>l,r:()=>i,s:()=>r})},65283:(e,t,o)=>{o.d(t,{a:()=>d,b:()=>u,c:()=>E,d:()=>p,e:()=>h,f:()=>k,g:()=>y,h:()=>g,i:()=>I,j:()=>f,k:()=>S,l:()=>C,m:()=>b,n:()=>v,o:()=>m,r:()=>w,u:()=>P});var r=o(56451),i=o(5077),l=o(83930),s=o(16161),n=o(66228),a=o(20936),c=o(83552);async function h(e){const t=await i.getBackgroundColorTheme(e);return new s.default({data:{type:"CIMSymbolReference",symbol:{type:"CIMPointSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,colorLocked:!0,anchorPoint:{x:0,y:-1.75},anchorPointUnits:"Relative",size:5.7,frame:{xmin:0,ymin:0,xmax:84.3,ymax:84.3},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[83.2,32.5],[84.3,40.7],[83.8,48.9],[81.7,56.9],[78.1,64.3],[73,70.9],[66.9,76.4],[59.7,80.5],[51.9,83.2],[43.7,84.3],[35.4,83.8],[27.4,81.7],[20,78],[13.4,73],[7.9,66.8],[3.8,59.7],[1.1,51.9],[0,43.7],[.5,35.4],[2.6,27.4],[6.3,20],[11.3,13.4],[17.5,7.9],[24.7,3.8],[32.5,1.1],[39.8,.1],[47.1,.3],[54.3,1.8],[61.1,4.5],[67.4,8.4],[72.9,13.3],[77.4,19.1],[80.9,25.5],[83.2,32.5]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:"light"===t?[242,242,242,255]:[255,255,255,255]}]}}],scaleSymbolsProportionally:!0,respectFrame:!0,rotation:0},{type:"CIMVectorMarker",enable:!0,anchorPoint:{x:0,y:-.5},anchorPointUnits:"Relative",size:15,frame:{xmin:0,ymin:0,xmax:197.7,ymax:294.7},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[98.9,0],[119.4,23.2],[139.4,49.3],[156.8,75.2],[171.2,100.8],[182.4,125.3],[190.6,148.8],[195.7,171.4],[197.7,192.9],[197.7,195.8],[197.7,200.3],[197.6,202.5],[197.5,204.8],[197.3,207.1],[197,209.4],[196.7,211.7],[196.4,214.1],[196,216.4],[195.5,218.7],[195,221.1],[194.4,223.4],[193.7,225.8],[193,228.1],[192.2,230.5],[191.4,232.8],[190.5,235.1],[189.5,237.5],[188.5,239.7],[187.4,242],[186.2,244.3],[185,246.5],[183.7,248.7],[182.4,250.9],[181,253.1],[179.5,255.2],[178,257.3],[176.4,259.4],[174.7,261.4],[173.1,263.3],[171.3,265.3],[169.5,267.2],[167.7,269],[165.8,270.8],[163.9,272.5],[161.9,274.2],[159.9,275.8],[157.8,277.4],[155.7,278.9],[153.6,280.4],[151.4,281.7],[149.2,283.1],[147,284.4],[144.8,285.6],[142.5,286.7],[140.3,287.8],[138,288.8],[135.7,289.8],[133.4,290.7],[131,291.5],[128.7,292.3],[126.4,293],[124,293.6],[121.7,294.2],[119.4,294.7],[117,295.2],[114.7,295.6],[112.4,296],[110.1,296.3],[107.8,296.5],[105.5,296.7],[103.3,296.8],[101.1,296.9],[98.8,296.9],[83.1,295.7],[67.8,292],[53.3,285.9],[39.9,277.5],[28.1,267.2],[18,255.1],[10,241.5],[4.2,226.9],[.9,211.5],[0,195.8],[.1,192.9],[2.1,171.4],[7.2,148.8],[15.4,125.3],[26.6,100.8],[41,75.2],[58.4,49.3],[78.4,23.2],[98.9,0]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:"light"===t?[17,26,40,255]:[186,186,186,255]}]}}],scaleSymbolsProportionally:!0,respectFrame:!0,rotation:0}],scaleX:1,angleAlignment:"Display",angle:0}}})}async function p(e){return{type:"simple-line",color:"light"===await i.getBackgroundColorTheme(e)?[0,0,0]:[255,255,255],width:.75}}async function u(e){return{type:"simple-line",color:"light"===await i.getBackgroundColorTheme(e)?[0,0,0]:[255,255,255],width:2.25}}async function d(e){const t=await i.getBackgroundColorTheme(e);return{type:"simple-fill",color:"light"===t?[0,0,0,.25]:[255,255,255,.25],style:"solid",outline:{color:"light"===t?[0,0,0]:[255,255,255],width:.75}}}async function y(e,t,o,r){const i=await t.getBackgroundColor(e),l=await t.getBackgroundColorTheme(e);return new o({text:r,color:"light"===l?[0,0,0]:"dark"===l?[255,255,255]:i||[0,0,0],haloColor:void 0,haloSize:.75,font:{size:16.5,family:"Arial",weight:"bold"},lineWidth:512})}function m(e){if(!function(e){const t=e.data.symbol.symbolLayers;if(1===t.length){const e=t[0];if("CIMVectorMarker"!==e.type||e.colorLocked)return!1;const o=e.markerGraphics[0]?.symbol?.symbolLayers;return 1===e.markerGraphics.length&&x(o)}if(2===t.length){const e=t[0],o=t[1];if("CIMVectorMarker"!==e.type||"CIMVectorMarker"!==o.type||e.colorLocked||e.size>o.size)return!1;const r=e.markerGraphics[0]?.symbol?.symbolLayers,i=o.markerGraphics[0]?.symbol?.symbolLayers;return 1===e.markerGraphics.length&&1===o.markerGraphics.length&&x(r)&&function(e){return function(e){return e?.find(e=>"CIMSolidFill"===e.type)}(e)&&$(e)}(i)}return!1}(e))return;const t=e.data.symbol.symbolLayers;return t[t.length-1].markerGraphics[0].symbol.symbolLayers.find(e=>"CIMSolidStroke"===e.type)}function g(e){return"cim"===e?.type?r.default.fromJSON(l.getCIMSymbolColor(e)?.toJSON()):"simple-marker"===e?.type&&["x","cross"].includes(e?.style)?e?.outline?.color:e?.color}function b(e,t){"picture-marker"!==e.type&&("cim"===e.type?l.applyCIMSymbolColor(e,t):"simple-marker"===e.type&&e.style&&["cross","x"].includes(e.style)?(e.outline||(e.outline=new __esri.SimpleLineSymbol),e.outline.color=t):e.color=t)}function f(e){return"cim"===e.type?l.getCIMSymbolSize(e):"text"===e.type?e.font.size:(0,n.i)(e.size)?e.size:e.width}function S(e,t){if("cim"===e.type)!function(e){return"CIMPolygonSymbol"===e.data.symbol.type}(e)?l.scaleCIMSymbolTo(e,t):function(e,t){e.data.symbol.symbolLayers?.forEach(e=>{["CIMSolidStroke","CIMPictureStroke"].includes(e.type)&&(e.width=t)})}(e,t);else if((0,n.i)(e.size))e.size=t;else{const o=e.height/e.width;e.width=t,e.height=e.width*o}}function k(e){return"cim"===e?.type?function(e){if("picture-marker"!==e.type&&"CIMPolygonSymbol"===e.data.symbol?.type)return function(e){return e.data.symbol.symbolLayers.find(e=>"CIMSolidStroke"===e.type)}(e)}(e):e?.outline}function v(e,t){"cim"===e.type?e.data.symbol.symbolLayers.forEach((o,r)=>{"CIMSolidStroke"===o.type&&(e.data.symbol.symbolLayers[r]=t)}):e.outline=t}function I(e){return"cim"===e.type?l.getCIMSymbolRotation(e,!0):["simple-marker","picture-marker"].includes(e.type)?e.angle:void 0}function C(e,t){(0,n.i)(t)&&("cim"===e.type?l.applyCIMSymbolRotation(e,t,!0):["simple-marker","picture-marker"].includes(e.type)&&(e.angle=t))}const w=e=>{for(;e?.childNodes?.length;)e.childNodes[0].remove()};function $(e){return e?.find(e=>"CIMSolidStroke"===e.type)}function x(e){return function(e){return e?.find(e=>"CIMSolidFill"===e.type&&!e.colorLocked)}(e)&&$(e)}function P(){const e=(0,c.Gk)(),t=e;e.manager.onLoad(()=>{t.sketchLayerEditorState=function(e,t){const o=z.get(e);if(o)return o;const r=(0,a.el)(e,t);return r&&"store"in r?(z.set(e,r.store),r.store):null}(e.el,"arcgis-map-config-sketch-layer-editor")})}function E(e){e.mapView=void 0,e.portal=void 0,e.layer=void 0,e._messages=void 0,e.sketchMessage=void 0,e.sketchLayerEditorSVModel=void 0,e.snappingOptions=void 0,e.sketchTooltipOptions=void 0,e.snappingSessionStorageIds=void 0,e.sketchTooltipSessionStorageIds=void 0}const z=new WeakMap},92358:(e,t,o)=>{o.r(t),o.d(t,{ArcgisMapConfigSketchLayerEditorContent:()=>E});var r=o(73679),i=o(4395),l=o(46317),s=o(42855),n=o(66228),a=o(66505),c=o(83552),h=(o(91813),o(72885),o(55535)),p=o(65283),u=(o(81822),o(4265)),d=o(52797),y=o(56451),m=o(83930),g=o(41631),b=o(16161),f=o(55705),S=o(84748),k=o(49403),v=o(77462),I=o(74147),C=o(85643),w=o(73801);const $=["#ff4040","#ff8202","#faa83e","#ffd159","#73b566","#008977","#33e3c8","#43abeb","#4b64c9","#9868ed","#b055e6","#db5181","#e03b99","#2b2b2b","#bdbdbd","#ffffff"],x=["#ffffff","#bdbdbd","#2b2b2b","#e03b99","#db5181","#b055e6","#9868ed","#4b64c9","#43abeb","#33e3c8","#008977","#73b566","#ffd159","#faa83e","#ff8202","#ff4040"],P=i.AH`.style-info-wrapper{background-color:var(--calcite-color-foreground-1)}.style-info-block{padding:var(--calcite-spacing-md) var(--calcite-spacing-md) var(--calcite-spacing-xxs)}.style-title{font-weight:var(--calcite-font-weight-medium)}.text-content{margin:12px}.rotation{display:flex;align-items:center;justify-content:space-between;position:relative;calcite-slider{width:50%}calcite-input-number{width:45%}}.sketch-popup-button{margin-bottom:.4em}.recent-symbols-wrapper{background-color:var(--calcite-color-foreground-1);border:1px solid var(--calcite-color-border-1);display:flex;align-items:center;justify-content:space-evenly}.recent-symbols-symbol-group{display:flex;flex-direction:row;padding:8px 0;justify-content:space-evenly;width:calc(100% - 48px)}.recent-symbol{height:32px;display:flex;align-items:center;cursor:pointer}.recent-symbol:focus{outline:2px solid var(--calcite-ui-brand);outline-offset:2px}.recent-symbols-divider-wrapper{background-color:var(--calcite-color-border-3)}.recent-symbols-divider{margin-block:.25rem;display:inline-block;inline-size:1px}.recent-symbols-reset-button-wrapper{display:flex;padding:8px 0;justify-content:space-evenly;width:48px}.no-recent-symbols{min-height:32px;display:flex;align-items:center;padding:8px}.clear-recent-button{padding-top:8px;margin:auto}.symbol-styler{padding:0 1px}.halo-block,.background-color-block{padding-top:6px}`;class E extends w.WF{constructor(){super(...arguments),this._direction=(0,c.jH)(),this.sketchLayerEditorState=(0,p.u)(),this.recentSymbolsContainerEl=(0,C._)(),this.resetRecentSymbolsNode=(0,C._)(),this.symbolNodes=[],this.textContentEl=(0,C._)(),this.fontSizeEl=(0,C._)(),this.rotationEl=(0,C._)(),this.haloSizeEl=(0,C._)(),this.borderLineSizeEl=(0,C._)(),this.haloBlockSectionEl=(0,C._)(),this.backgroundColorSectionEl=(0,C._)(),this.suggestedFillColors=[],this.savedColors=[],this.percentLabelFlip=!1,this.narrow=!1,this.resizeObserver=new ResizeObserver(e=>{const t=e.pop();this.narrow=t.contentRect.width<=275,this.requestUpdate()}),this.updateRotation=(0,u.d)(()=>{if(!this.rotationEl.value)return;clearTimeout(this.rotationValueHandle);const e=Number.parseInt(this.rotationEl.value.value);!e||e<this.rotationEl.value.min||e>this.rotationEl.value.max?this.rotationValueHandle=setTimeout(()=>this.handleTextPropChange(this.rotationEl.value,"rotation"),3e3):this.handleTextPropChange(this.rotationEl.value,"rotation")},500),this.reRender=!0,this.symbolStylerConfig={},this.arcgisDisablePanel=(0,w.lh)(),this.arcgisGraphicUpdates=(0,w.lh)(),this.arcgisLoadPanel=(0,w.lh)(),this.arcgisSymbolChange=(0,w.lh)()}static{this.properties={reRender:16,flowEl:0,symbolStylerRefElement:0,currentSketchInfo:0,symbolStylerConfig:0}}static{this.styles=P}async rerender(e){this.closeFontPopover(),(0,n.i)(e)&&(this.storageId=this.getStorageId(),this.recentSymbols=(0,h.g)(this.storageId,!0)),this.reRender=!this.reRender,this.sketchPopupFlowItem&&(this.flowEl.back(),this.sketchPopupFlowItem?.remove(),this.sketchPopupFlowItem=void 0);const{tool:t}=this.currentSketchInfo;"point"===t?this.startPointEdit():["polyline","bezier-curve"].includes(t)?this.startPolylineEdit():["circle","polygon","rectangle"].includes(t)&&this.startPolygonEdit()}async load(){const{sketchLayerEditorState:e}=this;this.arcgisLoadPanel.emit(!0),$.forEach(e=>this.suggestedFillColors.push(new y.default(e))),x.forEach(e=>this.savedColors.push(new y.default(e))),this.mapView=e?.mapView,this.portal=e?.portal,this.flowEl||(this.flowEl=(0,n.q)(this.el,"calcite-flow"));const t=this.getStorageId(),o=(0,h.g)(t,!0);o&&(this.recentSymbols=[...o]);const r=new Intl.NumberFormat(d.getLocale(),{style:"percent"}).format(0);this.percentLabelFlip="rtl"===this._direction?r.endsWith("%"):r.startsWith("%")}loaded(){this.arcgisLoadPanel.emit(!1),this.flowEl&&this.resizeObserver.observe(this.flowEl)}disconnectedCallback(){super.disconnectedCallback(),clearTimeout(this.fontSizeValueHandle),clearTimeout(this.rotationValueHandle),clearTimeout(this.haloSizeValueHandle),clearTimeout(this.borderLineSizeValueHandle),this.flowEl&&this.resizeObserver.disconnect(),this.removeResetTooltip()}recentSymbolsRefHandler(e){e&&(this.recentSymbolsDivNode=e,queueMicrotask(()=>[...e.children].forEach(e=>{if(e&&"DIV"===e.nodeName){const t=e;if((0,n.i)(t.getAttribute("data-value"))){const e=Number.parseInt(t.getAttribute("data-value"));this.afterCreateRecentSymbolDiv(t,this.recentSymbols[e],e)}}})))}pointSymbolStylerRefHandler(e){e&&this.currentSketchInfo.symbol&&(this.pointStyler=e,this.startPointEdit())}polylineSymbolStylerRefHandler(e){e&&this.currentSketchInfo.symbol&&(this.polylineStyler=e,this.startPolylineEdit())}polygonSymbolStylerRefHandler(e){e&&this.currentSketchInfo.symbol&&(this.polygonStyler=e,this.startPolygonEdit())}createPortalProp(){return{portal:this.portal,before:async(e,t)=>{await e.load(),t.originalStylesGroupQuery2d=e.stylesGroupQuery2d,e.stylesGroupQuery2d=e.sourceJSON["2DSketchStylesGroupQuery"]},after:async(e,t)=>{e.stylesGroupQuery2d=t.originalStylesGroupQuery2d}}}getFeatureInfoHeading(){const{sketchLayerEditorState:e}=this,{_messages:t}=e,o=this.currentSketchInfo.graphics&&this.currentSketchInfo.graphics.length>1,r=this.currentSketchInfo.graphics?.[0].geometry?.type,i=this.currentSketchInfo.graphics?.every(e=>r===e.geometry?.type),l=this.currentSketchInfo.graphics?.some(e=>"text"===e.symbol?.type)&&!this.currentSketchInfo.graphics?.every(e=>"text"===e.symbol?.type),s=this.currentSketchInfo.graphics?.every(e=>!!e.geometry.curvePaths?.length),n=this.currentSketchInfo.tool;if(o){if(!i||l)return t.selectedFeatures;switch(r){case"polyline":return s?t.curveFeatures:t.lineFeatures;case"polygon":return t.polygonFeatures;default:return"point"!==r||this.currentSketchInfo.graphics?.some(e=>"text"===e.symbol?.type)?t.textFeatures:t.pointFeatures}}else switch(n){case"point":return t.pointFeature;case"polyline":return s?t.curveFeature:t.lineFeature;case"bezier-curve":return t.curveFeature;case"text":return t.textFeature;default:return t.polygonFeature}}getStorageId(){return this.currentSketchInfo.tool?["circle","rectangle"].includes(this.currentSketchInfo.tool)?"arcgis-sketch-recent-polygon-symbols":["polyline","bezier-curve"].includes(this.currentSketchInfo.tool)?"arcgis-sketch-recent-polyline-symbols":`arcgis-sketch-recent-${this.currentSketchInfo.tool}-symbols`:"arcgis-sketch-recent-point-symbols"}async afterCreateRecentSymbolDiv(e,t,o){if(!this.recentSymbolsContainerEl.value)return;const{sketchLayerEditorState:r}=this,{_messages:i}=r;let l;if(["simple-line","simple-fill","picture-marker","picture-fill","text","cim"].includes(t.type))"text"===t.type&&(t.text=i.textPreview),l=t;else switch(t.type){case"CIMSymbolReference":l=b.default.fromJSON(t);break;case"esriSLS":l=v.default.fromJSON(t);break;case"esriSFS":l=k.default.fromJSON(t);break;case"esriPMS":l=S.default.fromJSON(t);break;case"esriPFS":l=f.default.fromJSON(t);break;case"esriTS":l=I.default.fromJSON(t)}const s=l.clone();"text"===s.type&&(s.haloSize=Math.min(2,s.haloSize)),"simple-line"===s.type&&(s.width=Math.min(2,s.width));const n=this.recentSymbolsContainerEl.value.clientWidth-49,a={maxSize:"text"===s.type?16:20,scale:!0,size:"simple-line"===s.type?{width:n/9,height:2}:{width:"text"===s.type?16:Math.min(n/6*.75,24),height:"text"===s.type?16:Math.min(n/6*.75,24)}};s&&a.size.width>0&&await g.renderPreviewHTML(s,a).then(t=>{t&&((0,p.r)(e),e.append(t),this.symbolNodes[o]=l)})}handleRecentSymbolSelect(e){this.updateSymbol(this.symbolNodes[e],!0,!0,this.textContentEl.value?"recent-text":void 0);let t=!1;[...this.recentSymbolsDivNode.children].forEach(e=>{if(!t&&"DIV"===e.nodeName){const o=e;(0,n.i)(o.getAttribute("data-value"))&&(t=!0,o.focus())}})}getPopoverProps(){const e=this.flowEl?.getBoundingClientRect();return{offsetDistance:10,offsetSkidding:-3,overlayPositioning:"fixed",maxHeight:e&&e.height-65+"px",refElement:this.symbolStylerRefElement}}startPointEdit(){const e="cim"===this.currentSketchInfo.symbol.type,t=this.currentSketchInfo.graphics&&this.currentSketchInfo.graphics.length>1;this.pointStyler?.edit(this.currentSketchInfo.symbol.clone(),{sections:{marker:{open:!0,symbolsOpen:!0,sizeOpen:!1,rotationOpen:!1,markerType:["cim:vector","custom"],keepChoice:!0,parts:{size:{autoSizeAdjust:!1},color:e&&t,transparency:e&&t}},...e&&{fill:{type:"color",optional:!0,suggestedColors:this.suggestedFillColors,savedColors:this.savedColors,open:!1,suggestedColorsOpen:!0},stroke:{optional:!0,open:!1,type:"color",suggestedColors:this.suggestedFillColors,savedColors:this.savedColors}}},marker:{size:e?m.getCIMSymbolSize(this.currentSketchInfo.symbol):"picture-marker"===this.currentSketchInfo.symbol.type?this.currentSketchInfo.symbol.width:25},fill:{color:e&&m.getCIMSymbolColor(this.currentSketchInfo.symbol)||this.suggestedFillColors[0]},stroke:e&&this.getCimOutlineProps(this.currentSketchInfo.symbol),fillEnabled:e,strokeEnabled:e,portal:this.createPortalProp()})}startPolylineEdit(){const e="cim"===this.currentSketchInfo.symbol.type,t=this.currentSketchInfo.graphics&&this.currentSketchInfo.graphics.length>1;this.polylineStyler?.edit(this.currentSketchInfo.symbol.clone(),{sections:{stroke:{type:"color",open:!0,suggestedColorsOpen:!0,suggestedColors:this.suggestedFillColors,extraParts:{width:!0,autoStrokeAdjust:!1}},marker:{parts:{size:{autoSizeAdjust:!1},color:e&&t,transparency:e&&t}}},stroke:{color:this.currentSketchInfo.symbol?.color||this.savedColors[1],size:this.currentSketchInfo.symbol?.width||10,style:this.currentSketchInfo.symbol?.style||"solid",marker:this.currentSketchInfo.symbol?.marker},portal:this.createPortalProp()})}getCimOutlineProps(e){const t=(0,p.o)(e);return{color:new y.default(t?.color),size:t?.width??1}}startPolygonEdit(){const e="cim"===this.currentSketchInfo.symbol.type,t=this.currentSketchInfo.graphics&&this.currentSketchInfo.graphics.length>1,o=this.currentSketchInfo.graphics&&!this.currentSketchInfo.graphics.every(e=>(0,n.i)((0,p.f)(e.symbol)));this.polygonStyler?.edit(this.currentSketchInfo.symbol.clone(),{sections:{fill:{type:"color",open:!0,optional:!0,suggestedColorsOpen:!0,transparencyOpen:!1,suggestedColors:this.suggestedFillColors},stroke:{type:"color",open:!1,optional:!0,suggestedColorsOpen:!0,suggestedColors:this.suggestedFillColors,extraParts:{width:!o,autoStrokeAdjust:!1}},marker:{parts:{size:{autoSizeAdjust:!1},color:e&&t,transparency:e&&t}}},fill:{color:this.currentSketchInfo.symbol.color||this.suggestedFillColors[0]},stroke:{color:this.currentSketchInfo.symbol.outline?.color||this.suggestedFillColors[0],size:this.currentSketchInfo.symbol.outline?.width||10,style:this.currentSketchInfo.symbol.outline?.style||"solid",autoAdjusted:!1},fillEnabled:!!this.currentSketchInfo.symbol.color,strokeEnabled:!!this.currentSketchInfo.symbol?.outline,portal:this.createPortalProp()})}async openFontPopover(){this.arcgisFontPickerEl||(this.arcgisDisablePanel.emit(!0),this.arcgisFontPickerEl=(0,w.dN)(i.qy`<arcgis-map-config-font-picker .view=${this.mapView} enable-map-specific-font-list .fontMap=${await(0,a.g)(this.portal)} .font=${this.currentSketchInfo.symbol?.font} .popoverProps=${{refElement:this.flowEl,placement:"leading",offsetDistance:-this.flowEl.getBoundingClientRect().width,overlayPositioning:"fixed"}} @arcgisChange=${e=>this.changeFont(e)} @arcgisClose=${()=>this.closeFontPopover()}></arcgis-map-config-font-picker>`),document.body.appendChild(this.arcgisFontPickerEl))}closeFontPopover(){this.arcgisFontPickerEl&&(this.arcgisDisablePanel.emit(!1),this.arcgisFontPickerEl.remove(),this.arcgisFontPickerEl=void 0)}changeFont(e){const t=e.detail;if(t){const e=this.currentSketchInfo.symbol?.clone();e.font.family=t.family,e.font.weight=t.weight,e.font.style=t.style,this.updateSymbol(e,!1,!1,"font"),this.requestUpdate()}}handleTextRotationSliderValueChange(e,t){const o=this.currentSketchInfo.symbol?.clone();o.angle=e,this.updateSymbol(o,!1,!1,"rotation",t)}handleTextPropChange(e,t){if(!e)return;let o=Number.parseInt(e.value);Number.isNaN(o)||o<e.min?o=e.min:o>e.max&&(o=e.max),e.value=`${o}`;const r=this.currentSketchInfo.symbol?.clone();switch(t){case"font-size":r.font.size=.75*o;break;case"halo-size":r.haloSize=.75*o;break;case"rotation":r.angle=o;break;default:r.borderLineSize=.75*o}this.updateSymbol(r,!1,!1,t,!1,"rotation"!==t),this.requestUpdate()}updateSymbol(e,t,o,r,i,l){const{sketchLayerEditorState:s}=this,{_messages:a}=s,c=this.currentSketchInfo.symbol.clone(),u=e.clone(),d=(0,p.j)(this.currentSketchInfo.symbol)!==(0,p.j)(e);if(this.currentSketchInfo.symbol=e.clone(),"recent-text"===r&&(this.currentSketchInfo.symbol.text=c.text),this.arcgisGraphicUpdates.emit({type:"symbol",symbolSwitch:t,symbolSwitchFromRecent:o,textProp:r}),i)this.arcgisSymbolChange.emit();else if((!d||t||o)&&!l){"text"===u.type&&(u.text=a.textPreview);const e=this.recentSymbols?.filter(e=>JSON.stringify(e)!==JSON.stringify(u))??[],t=(0,n.i)(e)?[u,...e].slice(0,5):[u],o=this.getStorageId();(0,h.s)(o,t),this.recentSymbols=t,this.arcgisSymbolChange.emit()}}addResetTooltip(){const{sketchLayerEditorState:e}=this,{_messages:t}=e,o=(0,w.dN)(i.qy`<calcite-tooltip class="sketch-layer-editor-content-tooltip" .referenceElement=${this.resetRecentSymbolsNode.value} placement=left-start open>${t.clearRecentSymbols}</calcite-tooltip>`);document.body.append(o)}removeResetTooltip(){document.querySelectorAll(".sketch-layer-editor-content-tooltip").forEach(e=>e.remove())}handlePopupChange(e){this.currentSketchInfo.popup=e,this.arcgisGraphicUpdates.emit({type:"popup"})}render(){return this.sketchLayerEditorState?i.qy`<div>${this.renderFeatureInfoBlock()}${this.renderStyleInfoBlock()}</div>`:""}renderFeatureInfoBlock(){const e=this.getFeatureInfoHeading();return i.qy`<calcite-block .heading=${e} expanded collapsible>${this.renderSketchTitle()}${this.renderPopupBtn()}</calcite-block>`}renderStyleInfoBlock(){const{sketchLayerEditorState:e}=this,{_messages:t}=e,o=this.currentSketchInfo.graphics&&this.currentSketchInfo.graphics.length>1,r=this.currentSketchInfo.graphics?.[0].geometry.type,l=this.currentSketchInfo.graphics?.every(e=>r===e.geometry.type),s=this.currentSketchInfo.graphics?.some(e=>"text"===e.symbol?.type)&&!this.currentSketchInfo.graphics?.every(e=>"text"===e.symbol?.type),n=!o||l&&!s;return i.qy`<div class="style-info-wrapper"><div class="style-info-block"><calcite-label class="style-title">${t.style}</calcite-label>${n&&this.renderRecentSymbols()||""}${!n&&this.renderNoStyleMessage()||""}</div>${n&&this.renderSymbolStyler()||""}</div>`}renderRecentSymbols(){const{sketchLayerEditorState:e}=this,{_messages:t}=e;let o,r;switch(this.currentSketchInfo.tool){case"polyline":this.currentSketchInfo.graphics?.every(e=>!!e.geometry.curvePaths?.length)?(o=t.recentSymbols.curve,r=t.noRecentSymbols.curve):(o=t.recentSymbols.line,r=t.noRecentSymbols.line);break;case"bezier-curve":o=t.recentSymbols.curve,r=t.noRecentSymbols.curve;break;case"polygon":case"circle":case"rectangle":o=t.recentSymbols.polygon,r=t.noRecentSymbols.polygon;break;case"text":o=t.recentSymbols.text,r=t.noRecentSymbols.text;break;default:o=t.recentSymbols.point,r=t.noRecentSymbols.point}return i.qy`<calcite-label>${o}</calcite-label><div class="recent-symbols-wrapper" ${(0,C.K)(this.recentSymbolsContainerEl)}>${this.recentSymbols?.length?i.qy`${(0,l.D)(this.recentSymbols,i.qy`<div class="recent-symbols-symbol-group" ${(0,C.K)(this.recentSymbolsRefHandler)}>${this.recentSymbols.map((e,t)=>e?i.qy`<div class="recent-symbol" tabindex=0 data-value=${t??w.s6} @click=${()=>this.handleRecentSymbolSelect(t)} @keydown=${e=>{(" "===e.key||"Enter"===e.key)&&(e.preventDefault(),e.stopPropagation(),this.handleRecentSymbolSelect(t))}}></div>`:null)}</div>`)}<div class="recent-symbols-divider-wrapper"><div class="recent-symbols-divider"></div></div><div class="recent-symbols-reset-button-wrapper"><calcite-action scale=s icon=reset .text=${t.clearRecentSymbols} @click=${()=>{const e=this.getStorageId();this.recentSymbols=[],(0,h.s)(e,this.recentSymbols),this.requestUpdate()}} @focus=${()=>this.addResetTooltip()} @focusout=${()=>this.removeResetTooltip()} @mouseover=${()=>this.addResetTooltip()} @mouseout=${()=>this.removeResetTooltip()} ${(0,C.K)(this.resetRecentSymbolsNode)}></calcite-action></div>`:i.qy`<div class="no-recent-symbols">${r}</div>`}</div>`}renderSymbolStyler(){switch(this.currentSketchInfo.tool){case"point":return this.renderPoint();case"polyline":case"bezier-curve":return this.renderPolyline();case"polygon":case"rectangle":case"circle":return this.renderPolygon();case"text":return this.renderText();default:return""}}renderNoStyleMessage(){const{sketchLayerEditorState:e}=this,{_messages:t}=e;return i.qy`<calcite-label>${t.noStyleMessage}</calcite-label>`}renderSketchTitle(){const{sketchLayerEditorState:e}=this,{_messages:t}=e;return i.qy`<calcite-label>${t.featureName}<calcite-input-text alignment=start .placeholder=${t.enterFeatureNamePlaceholder} .value=${this.currentSketchInfo.title} @blur=${e=>{this.currentSketchInfo.title=e.currentTarget.value,this.arcgisGraphicUpdates.emit({type:"title"})}}></calcite-input-text></calcite-label>`}renderPopupBtn(){const{sketchLayerEditorState:e}=this,{_messages:t}=e,o="rtl"===this._direction,r=this.currentSketchInfo.graphics&&this.currentSketchInfo.graphics.length>1;return i.qy`<calcite-button alignment=icon-end-space-between appearance=outline-fill kind=neutral icon-start=configure-popup .iconEnd=${o?"chevron-left":"chevron-right"} .label=${t.popup} width=full scale=l class="sketch-popup-button" @click=${e=>{if(e.stopPropagation(),!this.sketchPopupFlowItem){this.sketchPopupFlowItem=(0,w.dN)(i.qy`<calcite-flow-item .heading=${t.sketch} .description=${t.popup} selected @calciteFlowItemBack=${()=>{e.stopPropagation(),this.sketchPopupFlowItem?.remove(),this.sketchPopupFlowItem=void 0,this.flowEl.childNodes[this.flowEl.childNodes.length-1].selected=!0,this.mapView.closePopup(),this.applyChangesButtonEl?.remove(),this.applyChangesButtonEl=void 0}}></calcite-flow-item>`);const o=(0,w.dN)(i.qy`<arcgis-map-config-popup .mapView=${this.mapView} .portal=${this.portal} .layerDisplayType=${s.l.mapNotes} .mapNotesPopupTemplate=${this.currentSketchInfo.popup} .mapNotesGraphic=${this.currentSketchInfo.graphics?.[0]} .calciteFlowProps=${{calciteFlow:this.flowEl,calciteFlowItem:this.sketchPopupFlowItem}} @arcgisMultiplePopupsSelected=${()=>{this.applyChangesButtonEl&&(this.applyChangesButtonEl.kind="brand",this.applyChangesButtonEl.disabled=!1)}} @arcgisChange=${e=>{const t=e.detail.mapNotesPopupTemplate;this.handlePopupChange(t)}}></arcgis-map-config-popup>`);this.sketchPopupFlowItem.appendChild(o),this.flowEl.appendChild(this.sketchPopupFlowItem),this.flowEl.childNodes.forEach(e=>e.selected=!1),r&&(o.multiplePopupsSelected=!0,o.disableEditing=!0,this.applyChangesButtonEl=(0,w.dN)(i.qy`<calcite-button .label=${t.applyChanges} scale=l slot=footer @click=${()=>{this.alertEl&&(this.alertEl.remove(),this.alertEl=void 0),o.disableEditing=!1,o.refresh(),this.applyChangesButtonEl.kind="neutral",this.applyChangesButtonEl.disabled=!0,this.alertEl=(0,w.dN)(i.qy`<calcite-alert .label=${t.changesApplied} kind=success icon=check-circle open @calciteAlertClose=${()=>{this.alertEl?.remove(),this.alertEl=void 0}}><div slot=message>${t.changesApplied}</div></calcite-alert>`),document.body.append(this.alertEl)}}>${t.applyChanges}</calcite-button>`),this.sketchPopupFlowItem.append(this.applyChangesButtonEl)),this.sketchPopupFlowItem.setFocus(),this.sketchPopupFlowItem.beforeBack=async()=>await o.done(),this.mapView.closePopup(),this.currentSketchInfo.graphics?.length&&this.currentSketchInfo.popup&&this.mapView.openPopup({features:[this.currentSketchInfo.graphics[0]],location:(0,n.o)(this.currentSketchInfo.graphics[0].geometry)})}}}>${t.popup}</calcite-button>`}renderPoint(){const e=this.currentSketchInfo.graphics&&this.currentSketchInfo.graphics.length>1,t=this.currentSketchInfo.graphics?.[0].geometry?.type,o=this.currentSketchInfo.graphics?.every(e=>t===e.geometry?.type),r=this.currentSketchInfo.graphics?.[0].symbol?.type,l=this.currentSketchInfo.graphics?.every(e=>r===e.symbol?.type);return i.qy`<arcgis-map-config-symbol-styler class="symbol-styler" .mode=${e?"minimal":"default"} .initialSourceId=${this.currentSketchInfo.sourceIds.pointSourceId} .config=${{...this.symbolStylerConfig,displaySymbolsSelectionOnly:e&&o&&!l}} .popoverProps=${this.getPopoverProps()} @arcgisEdit=${({detail:{symbol:e,symbolSwitch:t}})=>this.updateSymbol(e,t)} @arcgisSourceIdChange=${({detail:e})=>this.currentSketchInfo.sourceIds.pointSourceId=e} ${(0,C.K)(this.pointSymbolStylerRefHandler)}></arcgis-map-config-symbol-styler>`}renderPolyline(){const e=this.currentSketchInfo.graphics&&this.currentSketchInfo.graphics.length>1,t=this.currentSketchInfo.graphics?.[0].geometry?.type,o=this.currentSketchInfo.graphics?.every(e=>t===e.geometry?.type),r=this.currentSketchInfo.graphics?.[0].symbol?.type,l=this.currentSketchInfo.graphics?.every(e=>r===e.symbol?.type);return i.qy`<arcgis-map-config-symbol-styler class="symbol-styler" .mode=${e?"minimal":"default"} .initialSourceId=${this.currentSketchInfo.sourceIds.polylineSourceId} .config=${{...this.symbolStylerConfig,displaySymbolsSelectionOnly:e&&o&&!l}} .popoverProps=${this.getPopoverProps()} @arcgisEdit=${({detail:{symbol:e,symbolSwitch:t}})=>this.updateSymbol(e,t)} @arcgisSourceIdChange=${({detail:e})=>this.currentSketchInfo.sourceIds.polylineSourceId=e} ${(0,C.K)(this.polylineSymbolStylerRefHandler)}></arcgis-map-config-symbol-styler>`}renderPolygon(){const e=this.currentSketchInfo.graphics&&this.currentSketchInfo.graphics.length>1,t=this.currentSketchInfo.graphics?.[0].geometry?.type,o=this.currentSketchInfo.graphics?.every(e=>t===e.geometry?.type),r=this.currentSketchInfo.graphics?.[0].symbol?.type,l=this.currentSketchInfo.graphics?.every(e=>r===e.symbol?.type);return i.qy`<arcgis-map-config-symbol-styler class="symbol-styler" .mode=${e?"minimal":"default"} .initialSourceId=${this.currentSketchInfo.sourceIds.polygonSourceId} .config=${{...this.symbolStylerConfig,displaySymbolsSelectionOnly:e&&o&&!l}} .popoverProps=${this.getPopoverProps()} @arcgisEdit=${({detail:{symbol:e,symbolSwitch:t}})=>this.updateSymbol(e,t)} @arcgisSourceIdChange=${({detail:e})=>this.currentSketchInfo.sourceIds.polygonSourceId=e} ${(0,C.K)(this.polygonSymbolStylerRefHandler)}></arcgis-map-config-symbol-styler>`}renderText(){return i.qy`<div class="text-content">${this.renderTextContent()}${this.renderFontFamilySelection()}${this.renderTextFontSize()}${this.renderTextColor()}${this.renderTextRotation()}${this.renderTextHaloBlock()}${this.renderTextBackgroundColorBlock()}</div>`}renderTextContent(){const{sketchLayerEditorState:e}=this,{_messages:t}=e,o=this.currentSketchInfo.symbol;let r,l;return this.textContentEl.value&&(r=o?.text,l=this.currentSketchInfo.graphics?.every(e=>r===e.symbol.text)),i.qy`<calcite-label>${t.content}<calcite-text-area resize=vertical .placeholder=${t.textContentPlaceholder} .value=${l?o?.text:""} @calciteTextAreaInput=${e=>{e.stopPropagation();const t=o?.clone();t.text=e.target.value,this.updateSymbol(t,!1,!1,"text")}} ${(0,C.K)(this.textContentEl)}></calcite-text-area></calcite-label>`}renderFontFamilySelection(){const{sketchLayerEditorState:e}=this,{_messages:t}=e,o=this.currentSketchInfo.symbol;return i.qy`<calcite-label>${t.font}<calcite-button alignment=icon-end-space-between appearance=outline-fill kind=neutral icon-end=chevron-down .label=${(0,a.f)(o?.font||{family:"Arial",style:"normal",weight:"normal"})} width=full @click=${()=>this.openFontPopover()}>${(0,a.f)(o?.font)}</calcite-button></calcite-label>`}renderTextFontSize(){const{sketchLayerEditorState:e}=this,{_messages:t}=e,o=this.currentSketchInfo.symbol;return i.qy`<calcite-label>${t.size}<calcite-input-number scale=s inputmode=decimal min=5 max=125 .value=${""+((0,n.i)(o?.font?.size)?o.font.size/.75:5)} @calciteInputNumberInput=${e=>{clearTimeout(this.fontSizeValueHandle),e.stopPropagation();const t=Number.parseInt(this.fontSizeEl.value.value);!t||t<this.fontSizeEl.value.min||t>this.fontSizeEl.value.max?this.fontSizeValueHandle=setTimeout(()=>this.handleTextPropChange(this.fontSizeEl.value,"font-size"),3e3):this.handleTextPropChange(this.fontSizeEl.value,"font-size")}} ${(0,C.K)(this.fontSizeEl)}></calcite-input-number></calcite-label>`}renderTextColor(){const{sketchLayerEditorState:e}=this,{_messages:t}=e,o=this.currentSketchInfo.symbol;return i.qy`<calcite-label>${t.color}<arcgis-color-input .color=${o?.color?.toHex()||"#ffffff"} .popoverProps=${this.getPopoverProps()} storage-id=arcgis-symbol-styler-storage-colors @arcgisChange=${e=>{const t=o?.clone(),r=o?.color?.a??1;t.color=new y.default(e.target.color),t.color.a=r,this.updateSymbol(t,!1,!1,"color",!1,!0)}} @arcgisPickerClose=${e=>{const t=e.detail;if(t){const e=o?.clone(),r=o?.color?.a??1;e.color=new y.default(t),e.color.a=r,this.updateSymbol(e,!1,!1,"color")}}} @arcgisSwatchUpdate=${e=>{const t=e.detail;if(t){const e=o?.clone(),r=o?.color?.a??1;e.color=new y.default(t),e.color.a=r,this.updateSymbol(e,!1,!1,"color")}}}></arcgis-color-input></calcite-label><calcite-label>${t.transparency}<arcgis-slider-input min=0 max=100 step=1 units-label=% .flipLabels=${this.percentLabelFlip} .value=${Math.round((0,n.m)(o?.color?.a??1))} @arcgisValueChange=${e=>{const t=e.detail,r=(0,n.t)(t),i=o?.clone();i.color.a=r,this.updateSymbol(i,!1,!1,"color-transparency")}} .withSteppers=${!this.narrow} .label=${t.transparency}></arcgis-slider-input></calcite-label>`}renderTextRotation(){const{sketchLayerEditorState:e}=this,{_messages:t}=e,o="rtl"===this._direction,r=this.currentSketchInfo.symbol;return i.qy`<calcite-label>${t.rotation}<div class="rotation"><calcite-slider min=0 max=360 .value=${r?.angle||0} step=1 @calciteSliderInput=${e=>this.handleTextRotationSliderValueChange(e.target.value,!0)} @calciteSliderChange=${e=>this.handleTextRotationSliderValueChange(e.target.value,!1)}></calcite-slider><calcite-input-number scale=s inputmode=decimal min=0 max=360 .suffixText=${o?"":"\xba"} .prefixText=${o?"\xba":""} step=1 .value=${`${r?.angle||0}`} @calciteInputNumberInput=${this.updateRotation} ${(0,C.K)(this.rotationEl)}></calcite-input-number></div></calcite-label>`}renderTextHaloBlock(){const{sketchLayerEditorState:e}=this,{_messages:t}=e,o=this.currentSketchInfo.symbol;return i.qy`<calcite-block-section .text=${t.halo} toggle-display=switch .expanded=${!!o?.haloColor} @calciteBlockSectionToggle=${e=>{e.stopPropagation();const t=o?.clone();this.haloBlockSectionEl.value.open?(t.haloColor=this.tempHaloColor??new y.default("white"),t.haloSize=t?.haloSize??.75):(this.tempHaloColor=t.haloColor,t.haloColor=void 0),this.updateSymbol(t,!1,!1,"halo")}} ${(0,C.K)(this.haloBlockSectionEl)}><div class="halo-block"><calcite-label>${t.color}<arcgis-color-input .color=${o?.haloColor?.toHex()||"#ffffff"} .popoverProps=${this.getPopoverProps()} storage-id=arcgis-symbol-styler-storage-colors @arcgisChange=${e=>{const t=o?.clone(),r=o?.haloColor?.a??1;t.haloColor=new y.default(e.target.color),t.haloColor.a=r,this.updateSymbol(t,!1,!1,"halo-color")}} @arcgisPickerClose=${e=>{const t=e.detail;if(t){const e=o?.clone(),r=o?.haloColor?.a??1;e.haloColor=new y.default(t),e.haloColor.a=r,this.updateSymbol(e,!1,!1,"halo-color")}}} @arcgisSwatchUpdate=${e=>{const t=e.detail;if(t){const e=o?.clone(),r=o?.haloColor?.a??1;e.haloColor=new y.default(t),e.haloColor.a=r,this.updateSymbol(e,!1,!1,"halo-color")}}}></arcgis-color-input></calcite-label><calcite-label>${t.transparency}<arcgis-slider-input min=0 max=100 step=1 units-label=% .flipLabels=${this.percentLabelFlip} .value=${Math.round((0,n.m)(o?.haloColor?.a??1))} @arcgisValueChange=${e=>{const t=e.detail,r=(0,n.t)(t),i=o?.clone();i.haloColor.a=r,this.updateSymbol(i,!1,!1,"halo-color-transparency")}} .withSteppers=${!this.narrow} .label=${t.transparency}></arcgis-slider-input></calcite-label><calcite-label>${t.size}<calcite-input-number scale=s inputmode=decimal min=1 max=10 .value=${""+((0,n.i)(o?.haloSize)?o.haloSize/.75:0)} @calciteInputNumberInput=${e=>{clearTimeout(this.haloSizeValueHandle),e.stopPropagation();const t=Number.parseInt(this.haloSizeEl.value.value);!t||t<this.haloSizeEl.value.min||t>this.haloSizeEl.value.max?this.haloSizeValueHandle=setTimeout(()=>this.handleTextPropChange(this.haloSizeEl.value,"halo-size"),3e3):this.handleTextPropChange(this.haloSizeEl.value,"halo-size")}} ${(0,C.K)(this.haloSizeEl)}></calcite-input-number></calcite-label></div></calcite-block-section>`}renderTextBackgroundColorBlock(){const{sketchLayerEditorState:e}=this,{_messages:t}=e,o=this.currentSketchInfo.symbol;return i.qy`<calcite-block-section .text=${t.background} toggle-display=switch .expanded=${!!o?.backgroundColor} @calciteBlockSectionToggle=${e=>{e.stopPropagation();const t=o?.clone();this.backgroundColorSectionEl.value.open?(t.backgroundColor=this.tempBackgroundColor||new y.default("white"),t.borderLineColor=this.tempBorderLineColor||new y.default("white"),t.borderLineSize=this.tempBorderLineSize??.75):(this.tempBackgroundColor=t.backgroundColor,this.tempBorderLineColor=t.borderLineColor,this.tempBorderLineSize=t.borderLineSize,t.backgroundColor=void 0,t.borderLineColor=void 0,t.borderLineSize=void 0),this.updateSymbol(t,!1,!1,"background")}} ${(0,C.K)(this.backgroundColorSectionEl)}><div class="background-color-block"><calcite-label>${t.color}<arcgis-color-input .color=${o?.backgroundColor?.toHex()||"#ffffff"} .popoverProps=${this.getPopoverProps()} storage-id=arcgis-symbol-styler-storage-colors @arcgisChange=${e=>{const t=o?.clone(),r=o?.backgroundColor?.a??1;t.backgroundColor=new y.default(e.target.color),t.backgroundColor.a=r,this.updateSymbol(t,!1,!1,"background-color",!1,!0)}} @arcgisPickerClose=${e=>{const t=e.detail;if(t){const e=o?.clone(),r=o?.backgroundColor?.a??1;e.backgroundColor=new y.default(t),e.backgroundColor.a=r,this.updateSymbol(e,!1,!1,"background-color")}}} @arcgisSwatchUpdate=${e=>{const t=e.detail;if(t){const e=o?.clone(),r=o?.backgroundColor?.a??1;e.backgroundColor=new y.default(t),e.backgroundColor.a=r,this.updateSymbol(e,!1,!1,"background-color")}}}></arcgis-color-input></calcite-label><calcite-label>${t.transparency}<arcgis-slider-input min=0 max=100 step=1 units-label=% .flipLabels=${this.percentLabelFlip} .value=${Math.round((0,n.m)(o?.backgroundColor?.a??1))} @arcgisValueChange=${e=>{const t=e.detail,r=(0,n.t)(t),i=o?.clone();i.backgroundColor.a=r,this.updateSymbol(i,!1,!1,"background-color-transparency")}} .withSteppers=${!this.narrow} .label=${t.transparency}></arcgis-slider-input></calcite-label><calcite-label>${t.outlineColor}<arcgis-color-input .color=${o?.borderLineColor?.toHex()||"#ffffff"} .popoverProps=${this.getPopoverProps()} storage-id=arcgis-symbol-styler-storage-colors @arcgisChange=${e=>{const t=o?.clone(),r=o?.borderLineColor?.a??1;t.borderLineColor=new y.default(e.target.color),t.borderLineColor.a=r,this.updateSymbol(t,!1,!1,"border-line-color",!1,!0)}} @arcgisPickerClose=${e=>{const t=e.detail;if(t){const e=o?.clone(),r=o?.borderLineColor?.a??1;e.borderLineColor=new y.default(t),e.borderLineColor.a=r,this.updateSymbol(e,!1,!1,"border-line-color")}}} @arcgisSwatchUpdate=${e=>{const t=e.detail;if(t){const e=o?.clone(),r=o?.borderLineColor?.a??1;e.borderLineColor=new y.default(t),e.borderLineColor.a=r,this.updateSymbol(e,!1,!1,"border-line-color")}}}></arcgis-color-input></calcite-label><calcite-label>${t.outlineTransparency}<arcgis-slider-input min=0 max=100 step=1 units-label=% .flipLabels=${this.percentLabelFlip} .value=${Math.round((0,n.m)(o?.borderLineColor?.a??1))} @arcgisValueChange=${e=>{const t=e.detail,r=(0,n.t)(t),i=o?.clone();i.borderLineColor.a=r,this.updateSymbol(i,!1,!1,"border-line-color-transparency")}} .withSteppers=${!this.narrow} .label=${t.outlineTransparency}></arcgis-slider-input></calcite-label><calcite-label>${t.outlineWidth}<calcite-input-number scale=s inputmode=decimal min=0 max=18 .value=${""+((0,n.i)(o?.borderLineSize)?o.borderLineSize/.75:1)} @calciteInputNumberInput=${e=>{clearTimeout(this.borderLineSizeValueHandle),e.stopPropagation();const t=Number.parseInt(this.borderLineSizeEl.value.value);Number.isNaN(t)||t<this.borderLineSizeEl.value.min||t>this.borderLineSizeEl.value.max?this.borderLineSizeValueHandle=setTimeout(()=>this.handleTextPropChange(this.borderLineSizeEl.value,"border-line-size"),3e3):this.handleTextPropChange(this.borderLineSizeEl.value,"border-line-size")}} ${(0,C.K)(this.borderLineSizeEl)}></calcite-input-number></calcite-label></div></calcite-block-section>`}}(0,r.c)("arcgis-map-config-sketch-layer-editor-content",E)}}]);