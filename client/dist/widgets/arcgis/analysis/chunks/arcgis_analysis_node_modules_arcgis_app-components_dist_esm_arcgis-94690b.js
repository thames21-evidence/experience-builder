/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-94690b.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-94690b"],{931:(e,t,n)=>{n.d(t,{l:()=>i});var r=n(93814);const i=async(e,t)=>(await r.e.exports.loadModules(e,t)).map(e=>e.__esModule&&e.default?e.default:e)},3470:(e,t,n)=>{n.d(t,{a:()=>u,b:()=>d,c:()=>h,d:()=>v,f:()=>c,g:()=>m});var r=n(96295),i=n(83692),a=n(15332),s=n(41473),o=n(54251),l=n(31581);async function c(e,t,n){const r=`${n?"https://www.arcgis.com/sharing/rest/":(0,s.g)(t)}community/users/${e}`,a=(null==r?void 0:r.includes("www.arcgis.com"))&&t.isPortal,o=(null==r?void 0:r.includes(".arcgis.com"))&&!t.isPortal&&!t.user,l=a||o?{disableIdentityLookup:!0,addTokenManually:!1}:{};return(0,i.f)(async()=>{try{return await(0,i.r)(r,{},l)}catch(t){return{username:e}}},"user",r)}async function u(e,t,n,r){var i,s;if("public_authoritative"===(null==e?void 0:e.contentStatus)||"public_authoritative"===(null===(i=e.sourceJSON)||void 0===i?void 0:i.contentStatus)){const i=await(0,l.f)(e,n,t,r);if(!i)return c(e.owner,t,r);const{description:o,name:u,thumbnail:d,url:h}=i;return{description:o?(0,a.s)(o):"",fullName:u,username:e.owner,thumbnail:d,id:e.orgId||(null===(s=e.portal)||void 0===s?void 0:s.id),url:h}}return c(e.owner,t,r)}async function d(e,t,n){const r=n?"https://www.arcgis.com/sharing/rest/":(0,s.g)(t),a=n?{disableIdentityLookup:!0,addTokenManually:!1}:{};return(0,i.f)(async()=>(0,i.r)(`${r}community/groups`,{q:`(owner:"${e}")`,num:100},a),"userGroups",e)}async function h(e,t,n){const a=n?"https://www.arcgis.com/sharing/rest/":(0,s.g)(t),o=n?{disableIdentityLookup:!0,addTokenManually:!1}:{};return(0,i.f)(async()=>(await(0,i.r)(`${a}search`,{q:`(owner:"${e}") ${r.H}`,num:1},o)).total,"userItemsTotal",e)}function v(e,t,n=!1){if(null==e?void 0:e.thumbnailUrl)return e.thumbnailUrl;if(!(null==e?void 0:e.thumbnail))return null;if(e.thumbnail.startsWith("http"))return e.thumbnail;const r=(0,o.g)(t);return`${n?"https://www.arcgis.com/sharing/rest/":(0,s.g)(t)}community/users/${e.username}/info/${e.thumbnail}${r&&!n?`?token=${r}`:""}`}function m(e,t){const{fullName:n,firstName:r,lastName:i,username:a}=e;return n||(r&&i?"ja"===t?`${i} ${r}`:`${r} ${i}`:a)}},4429:(e,t,n)=>{n.d(t,{a:()=>l,b:()=>d,c:()=>a,d:()=>c,e:()=>i,f:()=>r,g:()=>h,i:()=>v,m:()=>s,t:()=>o,u:()=>u});const r=(e,t)=>{let n,r="idle";const i=(...i)=>new Promise(a=>{switch(r){case"flushed":r="idle",n?(clearTimeout(n),a(e(...i))):a(null);break;case"invoked":clearTimeout(n),r="idle",a(e(...i));break;case"cancelled":clearTimeout(n),r="idle",a(null);break;default:n&&clearTimeout(n),r="pending",n=setTimeout(()=>(r="idle",a(e(...i))),t)}});return i.flush=function(...e){return r="flushed",i(...e)},i.invoke=function(...e){return r="invoked",i(...e)},i.cancel=function(...e){return r="cancelled",i(...e)},i.getStatus=function(){return r},i};function i(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function a(e){return null!=e}async function s(e,t){return await Promise.all([e,o(t)]),e}function o(e){return new Promise(t=>setTimeout(t,e))}const l=(e,t)=>Object.fromEntries((e||[]).map(e=>{const{key:n,data:r}=t(e);return[n,r]})),c=(e,t)=>e.length===t.length&&e.reduce((e,n)=>e&&t.indexOf(n)>-1,!0);function u(e,t){const n=[],r={};return e.forEach(e=>{const i=t(e);null==r[i]&&(r[i]=e,n.push(e))}),n}function d(e){const t={boolean:{},number:{},string:{}},n=[];return e.filter(e=>{let r=typeof e;return r in t?!t[r].hasOwnProperty(e)&&(t[r][e]=!0):!(n.indexOf(e)>=0)&&n.push(e)})}const h=(e,t)=>[...Array(Math.ceil(e.length/t))].map((n,r)=>e.slice(t*r,t+t*r)),v=(e,t)=>e.includes(t)},12192:(e,t,n)=>{n.d(t,{a:()=>s,g:()=>c});var r=n(15332),i=n(94984),a=n(87849);function s(e){var t,n,a;const s=null!==(t=(0,r.c)(e,"[lang]"))&&void 0!==t?t:null===(a=null===(n=e.shadowRoot)||void 0===n?void 0:n.ownerDocument)||void 0===a?void 0:a.documentElement,o=((null==s?void 0:s.lang)||(null===navigator||void 0===navigator?void 0:navigator.language)||"en").toLowerCase();return i.l.has(o)?i.l.get(o):i.l.has(o.slice(0,2))?i.l.get(o.slice(0,2)):"en"}const o={};function l(e,t){const n=`${e}${t}`;return o[n]||(o[n]=function(e,t){return new Promise((n,r)=>{fetch((0,a.d)(`../arcgis-app-assets/i18n/${e}.i18n.${t}.json`)).then(e=>{e.ok?n(e.json()):r()},()=>r())})}(e,t)),o[n]}async function c(e,t){const n=t||e.tagName.toLowerCase(),a=s(e),o=function(e){var t,n,a;const s=null!==(t=(0,r.c)(e,"[lang]"))&&void 0!==t?t:null===(a=null===(n=e.shadowRoot)||void 0===n?void 0:n.ownerDocument)||void 0===a?void 0:a.documentElement,o=((null==s?void 0:s.lang)||(null===navigator||void 0===navigator?void 0:navigator.language)||"en").toLowerCase();return i.l.has(o)?i.l.get(o):i.l.has(o.slice(0,2))?o:"en"}(e);let c;try{c=await l(n,a)}catch(e){console.warn(`no locale for ${n} (${a}) loading default locale en.`),c=await l(n,"en")}return[c,a,o]}},25575:(e,t,n)=>{n.r(t),n.d(t,{arcgis_tunnel:()=>u,arcgis_user_avatar:()=>d});var r=n(87849),i=n(15332),a=n(12192),s=n(83692),o=n(3470);n(94984),n(931),n(93814),n(59317),n(37762),n(41473),n(54251),n(31581);const l={elements:new Map};function c(e){if(e.find(e=>{var t;return(null===(t=e.removedNodes)||void 0===t?void 0:t.length)&&"childList"===e.type}))for(const e of l.elements.keys())if(!e.parentNode||!(0,i.i)(e)){const t=l.elements.get(e);null==t||t.forEach(e=>e()),l.elements.delete(e)}}const u=class{constructor(e){(0,r.r)(this,e),this.moved=!1,this.cleanUp=()=>{var e;null===(e=this.tunnel)||void 0===e||e.remove()},this.reference=void 0,this.destination=document.body}createTunnel(){this.tunnel=document.createElement("div"),this.destination.append(this.tunnel),this.tunnel.appendChild(this.element),function(e,t){var n;if(e&&t)l.observer||(l.observer=new MutationObserver(c),l.observer.observe(document.querySelector("body"),{childList:!0,subtree:!0})),l.elements.set(e,[...null!==(n=l.elements.get(e))&&void 0!==n?n:[],t]),l.observer}(this.reference,this.cleanUp)}componentDidLoad(){this.createTunnel()}disconnectedCallback(){this.moved?this.tunnel.remove():this.moved=!0}render(){return(0,r.h)(r.H,{key:"59c1b668b54a9a1267bebeab7d1729cc1640791d",ref:e=>this.element=e},(0,r.h)("slot",{key:"c3f9d02d17474b41e930b0f4d72189751252d813"}))}},d=class{constructor(e){(0,r.r)(this,e),this.user=void 0,this.portal=void 0,this.scale="m",this.showName=void 0,this.showAvatar=!0,this.heading=void 0,this.description=void 0,this.underline=void 0,this.username=void 0,this.wrap=void 0,this.checkOnline=void 0}async componentWillLoad(){const{el:e,portal:t,username:n,checkOnline:r}=this;this.lang=await(0,a.a)(e),n?this.user=await(0,o.f)(n,t,r):this.thumbnailUrl=(0,o.d)(this.user,t,this.checkOnline)}updateThumbnail(){this.thumbnailUrl=(0,o.d)(this.user,this.portal,this.checkOnline)}renderSkeleton(){return(0,r.h)("div",{class:"skeleton"},this.showAvatar&&(0,r.h)("div",{class:"skeleton-avatar"}),this.showName&&(0,r.h)("div",{class:"skeleton-name"}))}renderUser(){const{user:e,lang:t,thumbnailUrl:n,showAvatar:i,showName:a,description:l,scale:c,underline:u,heading:d}=this,{fullName:h,username:v}=e,m=(0,s.b)(e),p=!!l,g=((null==h?void 0:h.split(" "))||[]).slice(0,2).join(" "),f=this.wrap?"text--clamp":"text--ellipsis";return[i&&(0,r.h)("calcite-avatar",Object.assign({class:"avatar",scale:"xs"===c?"s":c,fullName:g,username:v,userId:m,thumbnail:n},a||p?{inert:!0}:{})),(a||p)&&(0,r.h)("span",{class:{text:!0,"text--underline":u,"text--no-avatar":!i}},a&&(0,r.h)("span",{class:{title:!0,"has-description":p,[f]:!0}},d||(0,o.g)(e,t)),p&&(0,r.h)("span",{class:{description:!0,[f]:!0}},l))]}render(){return(0,r.h)(r.H,{key:"362b5420462b6fe67294511a07519b798b94b4db"},this.user&&this.lang?this.renderUser():this.renderSkeleton())}get el(){return(0,r.a)(this)}static get watchers(){return{user:["updateThumbnail"]}}};d.style=":host{max-width:100%}.skeleton{display:flex}@keyframes pulse{50%{opacity:.5}}.skeleton{animation:pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;align-items:center}.skeleton-avatar{border-radius:100%;background-color:var(--calcite-color-foreground-3);width:var(--arcgis-user-avatar-size);height:var(--arcgis-user-avatar-size)}.skeleton-name{border-radius:var(--calcite-border-radius);background-color:var(--calcite-color-foreground-3);width:var(--arcgis-user-avatar-skeleton-width);border-radius:var(--arcgis-user-avatar-spacing);height:var(--arcgis-user-avatar-spacing);margin-inline-start:var(--arcgis-user-avatar-spacing)}@keyframes pulse{0%,100%{opacity:1}50%{opacity:0.5}}.avatar{display:block;flex-shrink:0;flex-grow:0;border-radius:100%;background-color:var(--calcite-color-foreground-3);width:var(--arcgis-user-avatar-size);height:var(--arcgis-user-avatar-size)}.text{display:flex;min-width:0px;flex-direction:column;justify-content:center;color:var(--calcite-color-text-2);text-align:start;margin-inline-start:var(--arcgis-user-avatar-spacing);line-height:calc(var(--arcgis-user-avatar-size) / 2)}.text--no-avatar{margin-inline-start:0px}.-text-underline .title{text-decoration-line:underline}.text--clamp{overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}.text--ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.has-description{font-weight:500}.description{font-weight:400;color:var(--calcite-color-text-2)}:host{display:flex;min-width:0px;align-items:center}:host([scale=xs]){font-size:0.75rem;--arcgis-user-avatar-size:18px;--arcgis-user-avatar-spacing:0.25rem}:host([scale=xs]) .description{font-size:0.625rem;margin-top:-0.125rem}:host([scale=xs]) .text{line-height:1.35}:host([scale=s]){font-size:0.75rem;--arcgis-user-avatar-size:1.5rem;--arcgis-user-avatar-spacing:0.5rem;--arcgis-user-avatar-skeleton-width:4rem}:host([scale=s]) .description{font-size:0.625rem}:host([scale=m]){font-size:0.875rem;--arcgis-user-avatar-size:2rem;--arcgis-user-avatar-spacing:0.75rem;--arcgis-user-avatar-skeleton-width:5rem}:host([scale=m]) .description{font-size:0.75rem}:host([scale=l]){font-size:1rem;--arcgis-user-avatar-size:2.5rem;--arcgis-user-avatar-spacing:1rem;--arcgis-user-avatar-skeleton-width:6rem}:host([scale=l]) .description{font-size:0.875rem}"},31581:(e,t,n)=>{n.d(t,{f:()=>a});var r=n(83692),i=n(15332);async function a(e,t,n,a){var s,o,l,c,u;const d=null!==(u=null!==(l=null!==(s=e.orgId)&&void 0!==s?s:null===(o=e.sourceJSON)||void 0===o?void 0:o.orgId)&&void 0!==l?l:null===(c=e.portal)||void 0===c?void 0:c.id)&&void 0!==u?u:null==n?void 0:n.id;return(0,r.f)(()=>async function(e,t,n,a,s){var o,l;const c=(null===(o=e.portal)||void 0===o?void 0:o.portalHostname)||(null==a?void 0:a.portalHostname)||(null===(l=null==a?void 0:a.restUrl)||void 0===l?void 0:l.replace("/sharing/rest","")),u=s?`https://www.arcgis.com/sharing/rest/portals/${t}`:`https://${c}/sharing/rest/portals/${t}`;if(!c&&!s)return null;const d=s?{disableIdentityLookup:!0,addTokenManually:!1}:{},h=await(0,r.r)(u,{},d),{urlKey:v,thumbnail:m,customBaseUrl:p}=h,g=`https://${v}.${p}/`,f=m?`${g}sharing/rest/portals/self/resources/${m}`:null;let w,b;try{const e=await(0,r.r)(`${u}/resources/localizedOrgProperties`,{start:1,num:100},d);if(e){const t=e[n]||e.default;w=t.name,b=t.description||e.description}}catch(e){}return{name:w||h.name,description:(0,i.a)(b||h.description),url:`${g}home/`,thumbnail:f}}(e,d,t,n,a),"verified",d)}},54251:(e,t,n)=>{n.d(t,{g:()=>i});var r=n(59317);function i(e){var t,n,i,a;return null!=e||(e=null===r.c||void 0===r.c?void 0:r.c.portal),(null===(t=null==e?void 0:e.credential)||void 0===t?void 0:t.token)||(null==e?void 0:e.token)||(null===(i=null===(n=null==e?void 0:e.user)||void 0===n?void 0:n.credential)||void 0===i?void 0:i.token)||(null===(a=null==e?void 0:e.portalUser)||void 0===a?void 0:a.token)||""}},83692:(e,t,n)=>{n.d(t,{a:()=>p,b:()=>m,c:()=>v,f:()=>d,g:()=>b,i:()=>h,p:()=>w,r:()=>g});var r=n(59317),i=n(4429),a=n(931),s=n(41473),o=n(54251);const l={},c={},u={};async function d(e,t,n,r){var i,a,s,o;const d=null===(a=null===(i=u[t])||void 0===i?void 0:i[n])||void 0===a?void 0:a.expireAt,h=!!d&&(new Date).getTime()>d;if((null===(s=l[t])||void 0===s?void 0:s[n])&&!h)return l[t][n];c[t]||(c[t]={}),c[t][n]&&!h||(c[t][n]=e());const v=await c[t][n];if(l[t]||(l[t]={}),u[t]||(u[t]={}),l[t][n]=v,r){const{expireAfter:e,getExpireAfterFromResult:i}=r,a=i||e?(new Date).getTime()+(null!==(o=null==i?void 0:i(v))&&void 0!==o?o:e):null;u[t][n]=Object.assign(Object.assign({},u[t][n]),{expireAt:a})}return v}function h(e,t){var n;return null===(n=null==l?void 0:l[e])||void 0===n?void 0:n[t]}const v=(e,t)=>{var n,r;t?(null===(n=l[e])||void 0===n||delete n[t],null===(r=c[e])||void 0===r||delete r[t]):(delete l[e],delete c[e])};function m(e){var t,n;return null!==(t=null==e?void 0:e.id)&&void 0!==t?t:null===(n=null==e?void 0:e.sourceJSON)||void 0===n?void 0:n.id}async function p(e,t,n={},r){const[i]=await(0,a.l)(["esri/request"]);e.includes("f=")||t.append("f","json");const s=(0,o.g)();return s&&!t.has("token")&&t.append("token",s),new Promise((a,s)=>{i(e,Object.assign(Object.assign({body:t},n),{timeout:n.timeout||0,method:r||"auto"})).then(e=>{a(e.data)}).catch(e=>s(e))})}async function g(e,t={},n={},i,s){const[o]=await(0,a.l)(["esri/request"]),{api:l,portal:c}=r.c,{customToken:u,addTokenManually:d,addSSL:h,useProxy:v}=n,m=Object.assign({},t);if(e.includes("f=")||!0===(null==s?void 0:s.excludeJson)||(m.f="json"),u)m.token=u;else if(!1!==d){const e=await b(c);e&&(m.token=e)}const p=!1===h?e:function(e){var t;const{config:n}=r.c;return"https:"===window.location.protocol||!0===(null===(t=null==n?void 0:n.self)||void 0===t?void 0:t.allSSL)?e.replace("http:","https:"):e}(e);if(3===l){const e=Object.assign({url:p,content:m,timeout:n.timeout||0},null==s?void 0:s.v3Request);n.withCredentials&&(e.withCredentials=n.withCredentials);return o(e,"post"===i?Object.assign({usePost:!0},n):n)}{const e=Object.assign(Object.assign(Object.assign({query:m,method:i||"auto"},n),{timeout:n.timeout||0,useProxy:v}),(null==n?void 0:n.disableIdentityLookup)?{authMode:"anonymous"}:{});return(await o(p,e)).data}}const f=[2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,15,15,30,30,30,30,30,30,30,30,30,30,120];const w=async(e,t,n)=>{var r,a;const s=null!==(r=null==t?void 0:t.pendingStatuses)&&void 0!==r?r:["processing","partial","Pending","InProgress","EXECUTING"],o=null!==(a=null==t?void 0:t.successStatuses)&&void 0!==a?a:["completed","Completed","COMPLETED"];let l=0;const c=async()=>{const r=await g(e,null==t?void 0:t.requestParams,{},n),a=r.status||r.jobStatus;if(s.includes(a))return await(0,i.t)((u=l++,1e3*f[u>-1&&u<f.length-1?u:f.length-1])),c();if(o.includes(a)||"failed"===a||"esriJobFailed"===a)return r;throw r;var u};try{return c()}catch(e){throw console.error(e),e}},b=async e=>{var t;if(!(null==e?void 0:e.isPortal)||!(0,s.i)(e))return(0,o.g)(e);if(!(null==e?void 0:e.user)&&!(null==e?void 0:e.portalUser)&&(0,s.i)(e))return;const{token:n}=await d(()=>y(e),"platformSelf",null!==(t=m(e.user))&&void 0!==t?t:e.id,{getExpireAfterFromResult:e=>e.expires_in});return n},y=async e=>{const t=await(async e=>{var t,n;const[r]=await(0,a.l)(["esri/identity/IdentityManager"]);return null!==(n=null===(t=(await d(()=>r.getCredential((0,s.g)(e),{oAuthPopupConfirmation:!1}),"credential",m(e.user))).oAuthState)||void 0===t?void 0:t.appId)&&void 0!==n?n:"arcgisonline"})(e),n={"X-Esri-Auth-Client-Id":t,"X-Esri-Auth-Redirect-Uri":window.location.href.replace(/#.*$/,"")};return g(`${(0,s.g)(e)}/oauth2/platformSelf`,{},{disableIdentityLookup:!0,headers:n,addTokenManually:!1,withCredentials:!0},"post",{v3Request:{headers:n}})}},94984:(e,t,n)=>{n.d(t,{C:()=>o,a:()=>d,b:()=>u,f:()=>l,g:()=>s,l:()=>a,s:()=>v});var r=n(15332),i=n(931);const a=new Map([["ar","ar"],["bg","bg"],["bs","bs"],["ca","ca"],["cs","cs"],["da","da"],["de","de"],["el","el"],["en","en"],["es","es"],["et","et"],["fi","fi"],["fr","fr"],["he","he"],["hr","hr"],["hu","hu"],["id","id"],["it","it"],["ja","ja"],["ko","ko"],["lt","lt"],["lv","lv"],["nb","no"],["no","no"],["nl","nl"],["pl","pl"],["pt-br","pt-BR"],["pt-pt","pt-PT"],["ro","ro"],["ru","ru"],["sk","sk"],["sl","sl"],["sr","sr"],["sv","sv"],["th","th"],["tr","tr"],["uk","uk"],["vi","vi"],["zh-cn","zh-CN"],["zh-hk","zh-HK"],["zh-tw","zh-TW"]]);function s(e){return function(e,t,n){const i=(0,r.c)(e,`[${t}]`);return i?i.getAttribute(t):n}(e,"dir","ltr")}const o={rtl:"arcgis--rtl"};async function l(e,t){const{api:n,type:r,places:a}=t||{};if(3===n){const[n]=await(0,i.l)(["dojo/number"]);return n.format(e,{type:r,places:a,pattern:null==t?void 0:t.pattern})}const[s]=await(0,i.l)(["esri/intl"]),o=s.convertNumberFormatToIntlOptions({places:a,style:r,digitSeparator:!0});return s.formatNumber(e,Object.assign(Object.assign({},o),{style:r}))}const c={};function u(e,t){let n=document.documentElement.lang;const r="bs"===n;if(r&&(n="hr"),t){const t=`${n}-full`,r={dateStyle:"full",timeStyle:"long"};return c[t]||(c[t]=new Intl.DateTimeFormat(n,r)),c[t].format(e)}const i={year:"numeric",month:r?"numeric":"short",day:"numeric"};return c[n]||(c[n]=new Intl.DateTimeFormat(n,i)),c[n].format(e)}function d(e,t,n,r){const i=null!=e?e:"en";let a=t.unknown;return(1===n||["id","ja","ko","th","vi","zh-cn","zh-hk","zh-tw"].includes(i))&&(a=t.single),1!==n&&["en","ca","da","de","el","es","et","fi","hi","hu","it","nb","nl","pt-pt","sv","tr"].includes(i)&&(a=t.multiple),v(a,Object.assign(Object.assign({},r),{number:n}))}const h=/\$\{([^}]+)\}/g;function v(e,t,n=h){let r=e;try{r=e.replace(n,(e,n)=>function(e,t){const n=e.split(".").reduce((e,t)=>e[t],t);return"string"==typeof n||"number"==typeof n?n:e}(n,t).toString())}catch(e){console.error(e)}return r}},96295:(e,t,n)=>{n.d(t,{H:()=>r,R:()=>i});const r='-typekeywords:("MapAreaPackage") -type:("Map Area" OR "Indoors Map Configuration" OR "Code Attachment")',i="Indoors Map Configuration,Code Attachment"}}]);