/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-new-ite-72a56a.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-new-ite-72a56a"],{931:(e,t,n)=>{n.d(t,{l:()=>a});var r=n(93814);const a=async(e,t)=>(await r.e.exports.loadModules(e,t)).map(e=>e.__esModule&&e.default?e.default:e)},3826:(e,t,n)=>{n.d(t,{a:()=>a,b:()=>s,c:()=>i,d:()=>r});const r=(0,n(37762).c)({typeKeywords:[],customParameters:[],analyzedLocationTypes:[],allowStoredAuth:!0,isSecured:null,checkAuth:!1}),a=r.state,s=r.state,i=r.state},4429:(e,t,n)=>{n.d(t,{a:()=>o,b:()=>d,c:()=>s,d:()=>u,e:()=>a,f:()=>r,g:()=>f,i:()=>m,m:()=>i,t:()=>l,u:()=>c});const r=(e,t)=>{let n,r="idle";const a=(...a)=>new Promise(s=>{switch(r){case"flushed":r="idle",n?(clearTimeout(n),s(e(...a))):s(null);break;case"invoked":clearTimeout(n),r="idle",s(e(...a));break;case"cancelled":clearTimeout(n),r="idle",s(null);break;default:n&&clearTimeout(n),r="pending",n=setTimeout(()=>(r="idle",s(e(...a))),t)}});return a.flush=function(...e){return r="flushed",a(...e)},a.invoke=function(...e){return r="invoked",a(...e)},a.cancel=function(...e){return r="cancelled",a(...e)},a.getStatus=function(){return r},a};function a(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function s(e){return null!=e}async function i(e,t){return await Promise.all([e,l(t)]),e}function l(e){return new Promise(t=>setTimeout(t,e))}const o=(e,t)=>Object.fromEntries((e||[]).map(e=>{const{key:n,data:r}=t(e);return[n,r]})),u=(e,t)=>e.length===t.length&&e.reduce((e,n)=>e&&t.indexOf(n)>-1,!0);function c(e,t){const n=[],r={};return e.forEach(e=>{const a=t(e);null==r[a]&&(r[a]=e,n.push(e))}),n}function d(e){const t={boolean:{},number:{},string:{}},n=[];return e.filter(e=>{let r=typeof e;return r in t?!t[r].hasOwnProperty(e)&&(t[r][e]=!0):!(n.indexOf(e)>=0)&&n.push(e)})}const f=(e,t)=>[...Array(Math.ceil(e.length/t))].map((n,r)=>e.slice(t*r,t+t*r)),m=(e,t)=>e.includes(t)},23388:(e,t,n)=>{n.r(t),n.d(t,{arcgis_new_item_pages_feature_layer_preference:()=>o});var r=n(87849),a=n(3826),s=n(95878),i=n(88863),l=n(33547);n(37762),n(59317),n(41473),n(72257),n(86562),n(15332),n(90079),n(62645),n(54251),n(46904),n(93814),n(32478),n(931);const o=class{constructor(e){(0,r.r)(this,e),this.newItemUpdatePage=(0,r.c)(this,"newItemUpdatePage",7),this.featureLayerInfos=[],this.showCaptureGPS=!0,this.layerPreference={captureGPS:!1,enableZDefaults:!1,enableMDefaults:!1}}handleNext(){const{featureLayerInfos:e,layerPreference:t}=this,n=(0,i.m)(e,t);a.a.serviceInfo=Object.assign(Object.assign({},a.a.serviceInfo),{enableZDefaults:t.enableZDefaults,enableMDefaults:t.enableMDefaults,layers:n.filter(e=>"Feature Layer"===e.type),tables:n.filter(e=>"Table"===e.type)}),this.newItemUpdatePage.emit("itemProperties")}async componentWillLoad(){var e,t;const{i18n:n}=s.u;this.i18n=n.featureLayerFromScratch;const{serviceInfo:r}=a.a,l=r;this.featureLayerInfos=[...l.layers,...l.tables].sort((e,t)=>e.id-t.id),this.layerPreference={captureGPS:this.featureLayerInfos.some(i.l),enableZDefaults:null!==(e=l.enableZDefaults)&&void 0!==e?e:this.featureLayerInfos.some(i.c),enableMDefaults:null!==(t=l.enableMDefaults)&&void 0!==t?t:this.featureLayerInfos.some(i.d)},this.showCaptureGPS=this.featureLayerInfos.some(e=>"Feature Layer"===e.type&&["esriGeometryPoint","esriGeometryPolygon","esriGeometryPolyline"].includes(e.geometryType))}render(){const{i18n:e,layerPreference:t,showCaptureGPS:n}=this;return(0,r.h)(r.H,{key:"8a14610440e3b6a46e11513f94891963948c52d6"},(0,r.h)("arcgis-new-item-layer-preference",{key:"6a10b16c57bace90c309719b13ef1e952a2b4c5d",i18n:e,defaultPreference:t,showCaptureGPS:n,onLayerPreferenceChange:e=>{const{layerPreference:t}=this,n=e.detail;!t.captureGPS&&n.captureGPS&&(0,l.e)("captureGPS"),!t.enableZDefaults&&n.enableZDefaults&&(0,l.e)("enableZDefaults"),!t.enableMDefaults&&n.enableMDefaults&&(0,l.e)("enableMDefaults"),this.layerPreference=n}}))}}},46227:(e,t,n)=>{n.d(t,{g:()=>r});const r=()=>[2,1,1,1,3].map(e=>{let t="";for(let n=0;n<e;n++)t+=(65536*(1+Math.random())|0).toString(16).substring(1);return t}).join("-")},46904:(e,t,n)=>{n.d(t,{a:()=>i,b:()=>s,c:()=>u,d:()=>c,e:()=>d,f:()=>f,g:()=>m,i:()=>l,u:()=>o});n(93814);var r=n(41473);function a(e){var t;return!!(null===(t=e.owner)||void 0===t?void 0:t.toLowerCase().includes("esri"))}function s(e){var t;return a(e)&&!!(null===(t=e.typeKeywords)||void 0===t?void 0:t.includes("Requires Credits"))}function i(e){var t;return a(e)&&!!(null===(t=e.typeKeywords)||void 0===t?void 0:t.includes("Requires Subscription"))}function l(e,t){return e.owner===t.username}function o(e,t){return l(e,t)||function(e,t){var n;if(null!=e.isAdmin)return!!e.isAdmin;const r=e.owner,a="admin"===e.itemControl,s=["esri_livingatlas","esri_demographics","esri_boundaries"];if((null===(n=e.portal)||void 0===n?void 0:n.isPortal)&&!l(e,t)&&a&&r.includes("esri_")&&!s.includes(r))return!1;return a}(e,t)}const u=(e,t)=>!!t.orgId&&e.every(e=>e.isOrgItem),c=(e,t)=>`${(0,r.a)(t)}item.html?id=${e}`,d=(e,t)=>`${(0,r.g)(t)}/content/users/${e}`,f=e=>e.reduce((e,t)=>(e[t.owner]=e[t.owner]?[...e[t.owner],t.id]:[t.id],e),{}),m=(e,t)=>`${(0,r.a)(t)}content/items/${e}`},54251:(e,t,n)=>{n.d(t,{g:()=>a});var r=n(59317);function a(e){var t,n,a,s;return null!=e||(e=null===r.c||void 0===r.c?void 0:r.c.portal),(null===(t=null==e?void 0:e.credential)||void 0===t?void 0:t.token)||(null==e?void 0:e.token)||(null===(a=null===(n=null==e?void 0:e.user)||void 0===n?void 0:n.credential)||void 0===a?void 0:a.token)||(null===(s=null==e?void 0:e.portalUser)||void 0===s?void 0:s.token)||""}},72257:(e,t,n)=>{n.d(t,{a:()=>s,g:()=>o,i:()=>i});var r=n(37762),a=n(86562);const s=(0,r.c)({title:"",snippet:"",tags:[],categories:[]}),i=s.state,l=new Map;function o(e){return(0,a.g)({el:e,tag:"arcgis-item-properties",cache:l})}},86562:(e,t,n)=>{n.d(t,{g:()=>a});var r=n(15332);function a(e){const{el:t,tag:n,cache:a}=e,s=(0,r.c)(t,n),i=a.get(s);return i||(s?(a.set(s,s.store),s.store):null)}},95878:(e,t,n)=>{n.d(t,{a:()=>r,u:()=>a});const r=(0,n(37762).c)({nextText:"next",cancelText:"cancel",workflow:"content",scale:"m",disableScroll:!1,onlyHosted:!1,featureFlags:{}}),a=r.state}}]);