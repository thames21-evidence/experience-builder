"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["extensions_widgets_arcgis_analysis_node_modules_arcgis_arcgis-raster-function-editor_dist_esm-b7bbe1"],{51582:(e,t,a)=>{a.r(t),a.d(t,{rfx_cte_named_raster_editor:()=>r.R});var r=a(65842);a(92265),a(5294),a(13661),a(18423),a(21255),a(35431),a(69843),a(38949),a(32513),a(33752),a(44345),a(85740),a(588),a(55448),a(2924),a(11840),a(52373),a(440),a(66744),a(42335),a(33797),a(51477),a(16035),a(45253),a(71802),a(36596),a(23795),a(17902),a(56451)},65842:(e,t,a)=>{a.d(t,{R:()=>g});var r=a(92265),i=(a(5294),a(13661),a(18423),a(21255),a(35431),a(69843)),s=a(38949),l=a(85740),c=a(33797),n=a(51477),o=a(42335);a(588),a(71802),a(44345),a(36596),a(23795),a(17902),a(56451),a(33752);const d="rfx-cte-named-raster-editor",u={nameColumn:`${d}__name-column`,layerColumn:`${d}__layer-column`,layerValidation:`${d}__layer-validation-msg`},h="rasterVariablesHelpClickHandler",g=class{constructor(e){(0,r.r)(this,e),this.gridLayout={inputName:{uiType:o.G.textInput,style:u.nameColumn},assignment:{uiType:o.G.text,constValue:"="},raster:{uiType:o.G.raster,allowScalar:!0,style:u.layerColumn}},this.helpActionClickEventHandlers=new Map,this.gridOptions=[],this.isValid=!0,this.updateWidgetArgs=e=>{const{detail:{gridOptions:t}}=e,a=[],r=[];t.forEach((e,i)=>{if(i===t.length-1)return;const l=(0,s.J)(e.raster);if(!(0,s.i)(l)){l._object_id=e?._object_id;const t=l?.name?.replace(/[0-9]/g,"");"raster"===t?.toLowerCase()&&(l.name=0===i?t:`${t}${i}`)}a.push(e.inputName),r.push(l)});const i=this.widgetArgs.inputArgs;i.Rasters&&(i.Rasters.value={elements:r,type:"ArgumentArray"}),i.InputNames&&(i.InputNames.value=a)}}async checkValidity({required:e}){let t=!0;return e&&(t=this.validateInputArgs(this.widgetArgs)),t}async componentWillLoad(){({strings:this.strings}=await(0,i.c)(this.hostElement,(0,r.d)("."))),await this.readInputArgs()}componentDidLoad(){this.attachHelpClickEventHandlers()}async readInputArgs(){const e=this.widgetArgs.inputArgs,t=e?.InputNames?.value??[],a=e?.Rasters,r=a?.value?.elements||a?.value||[],i=[],c=Math.max(t.length,r.length);let o=0;do{let e=r[o];const a=(0,n.p)(e);let c;if((0,s.i)(a)){const t=e?.value;"number"==typeof t?(c={type:"Scalar",value:t},e={...e,type:"RasterFunctionVariable",isDataset:!0,value:c},i.push(e)):(0,s.i)(t?.url)?void 0!==e&&i.push(e):(e.value=await(0,l.w)(t,this.widgetArgs.inputLayers),i.push(e))}else c=this.widgetArgs.getRFT(a);this.gridOptions.push({id:o,inputName:t[o],rasterElement:e,raster:c??e,_object_id:e?._object_id}),o++}while(o<=c);this.widgetArgs.inputArgs.Rasters.value={elements:i,type:"ArgumentArray"}}validateInputArgs({inputArgs:e}){this.isValid=!0;const t=e?.InputNames?.value??[],a=e?.Rasters,r=a?.value?.elements||a?.value||[];let i=Math.max(t.length,r.length);i=0===i?1:i;return this.isValid=new Array(i).fill(0).every((e,a)=>((e,t)=>{let a=!0;return((0,s.i)(e)||(0,s.i)(t))&&(a=!1),a})(t[a],r[a])),this.isValid}attachHelpClickEventHandlers(){const e=this.widgetArgs.onHelpActionClick({heading:this.strings.rasterVariables,referenceElement:this.variablesContainer,helpTextID:this.widgetArgs.helpTextIDs?.calculator_rastervariables});this.helpActionClickEventHandlers.set(h,e)}render(){return(0,r.h)("div",{key:"2881213c535afac0ae677cfbedf295089595018f"},(0,r.h)("calcite-label",{key:"1c62a716d7183bc05edd78d1c39565900202816e",alignment:"start",scale:s.s.scale??c.U.Scale,layout:"default",ref:e=>{this.variablesContainer=e}},(0,r.h)("rfx-label",{key:"30ef11f833215640387e571630cdc6fef0d1d69d",label:this.strings.rasterVariables,onRfxLabelHelpActionClick:()=>this.helpActionClickEventHandlers?.get(h)()}),(0,r.h)("rfx-grid",{key:"17a51aee7ade26c8f5e3ad22fbed7a45dbd3b0c2",inputLayers:this.widgetArgs.inputLayers,gridLayout:this.gridLayout,gridOptions:this.gridOptions,onRfxGridOptionChange:this.updateWidgetArgs,hasHeader:!1,hasIdColumn:!1,canAdd:!0,canRemove:!0,rfxBrowseLayerClick:this.widgetArgs.onRfxBrowseLayerClick}),(0,r.h)("calcite-input-message",{key:"580f9c907a976c8ae61d98cd0c9e6863c1c3e039",class:u.layerValidation,status:"invalid",scale:s.s.scale??c.U.Scale,hidden:!0===this.isValid,icon:"exclamationMarkTriangle"},this.strings.inValidInput)))}static get assetsDirs(){return["t9n"]}get hostElement(){return(0,r.a)(this)}};g.style=":root{--calcite-color-brand:#007ac2;--calcite-color-brand-hover:#00619b;--calcite-color-brand-press:#004874;--calcite-color-status-info:#00619b;--calcite-color-status-success:#35ac46;--calcite-color-status-warning:#edd317;--calcite-color-status-danger:#d83020;--calcite-color-status-danger-hover:#a82b1e;--calcite-color-status-danger-press:#7c1d13;--calcite-color-background:#f8f8f8;--calcite-color-foreground-1:#ffffff;--calcite-color-foreground-2:#f3f3f3;--calcite-color-foreground-3:#eaeaea;--calcite-color-text-1:#151515;--calcite-color-text-2:#4a4a4a;--calcite-color-text-3:#6a6a6a;--calcite-color-text-inverse:#ffffff;--calcite-color-text-link:#00619b;--calcite-color-border-1:#cacaca;--calcite-color-border-2:#d4d4d4;--calcite-color-border-3:#dfdfdf;--calcite-color-border-input:#949494;--rfx-quarter-spacing:0.25rem;--rfx-half-spacing:0.5rem;--rfx-three-quarter-spacing:0.75rem;--rfx-full-spacing:1rem;--rfx-component-default-width:100%;--rfx-ui-border-input:var(--calcite-color-border-2);--rfx-popover-content-min-height:30vh;--rfx-popover-content-max-height:60vh;--rfx-popover-content-height:45vh;--rfx-widget-content-height:30vh;--rfx-modal-width-small:32rem}.rfx-cte-named-raster-editor__name-column{width:5rem}.rfx-cte-named-raster-editor__layer-validation-msg{margin-top:0.5rem}"}}]);