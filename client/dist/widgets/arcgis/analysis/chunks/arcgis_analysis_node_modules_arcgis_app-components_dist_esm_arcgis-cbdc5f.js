/*! For license information please see arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-cbdc5f.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_app-components_dist_esm_arcgis-cbdc5f"],{931:(e,t,n)=>{n.d(t,{l:()=>o});var r=n(93814);const o=async(e,t)=>(await r.e.exports.loadModules(e,t)).map(e=>e.__esModule&&e.default?e.default:e)},1654:(e,t,n)=>{n.d(t,{A:()=>w,B:()=>A,C:()=>j,D:()=>z,E:()=>m,F:()=>D,a:()=>l,b:()=>i,c:()=>a,d:()=>f,e:()=>S,f:()=>b,g:()=>C,h:()=>k,i:()=>v,j:()=>$,k:()=>E,l:()=>u,m:()=>c,n:()=>s,o:()=>I,p:()=>g,q:()=>p,r:()=>h,s:()=>q,t:()=>R,u:()=>d,v:()=>O,w:()=>x,x:()=>_,y:()=>P,z:()=>y});var r=n(46904);const o=e=>{var t,n,r;return"string"==typeof(null==e?void 0:e.role)&&(null==e?void 0:e.role)?null==e?void 0:e.role:null!==(n=null!==(t=null==e?void 0:e.roleId)&&void 0!==t?t:null==e?void 0:e.id)&&void 0!==n?n:null===(r=null==e?void 0:e.sourceJSON)||void 0===r?void 0:r.id};function i(e){return e&&!e.orgId}function a(e,t){return(0,r.u)(e,t)||"update"===e.itemControl||(0,r.c)([e],t)&&b(t)}function l(e,t){const n=(0,r.c)([e],t),o=(0,r.u)(e,t)||b(t)&&n,i=C(t)&&T(t);return!!(o||n&&i)}const s=e=>{var t;return!!(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:admin:manageLicenses"))},u=e=>{var t;return!!(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:admin:inviteUsers"))},c=e=>{var t;return!!(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:admin:manageRoles"))},d=e=>{var t;return!!(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:admin:changeUserRoles"))},g=e=>{var t;return!!(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:admin:viewGroups"))},p=e=>{var t;return!!(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:admin:viewUsers"))};function v(e){return["Trial Developer","Developer","Developer Subscription"].includes(null==e?void 0:e.type)}function m(e){return["Developer Subscription"].includes(null==e?void 0:e.type)}function h(e){return["Geoanalytics Engine","GeoAnalytics MS Fabric"].includes(null==e?void 0:e.type)}const f=e=>{var t;return null===(t=null==e?void 0:e.options)||void 0===t?void 0:t.includes("Developer")},y=e=>{var t;return null===(t=null==e?void 0:e.options)||void 0===t?void 0:t.includes("PublicSharingDisabled")},w=e=>{var t;return null===(t=null==e?void 0:e.options)||void 0===t?void 0:t.includes("HostedServicesPublicSharingDisabled")};function b(e){return"org_admin"===o(e)||"account_admin"===o(e)}function S(e){return["org_admin","account_admin"].includes(o(e))&&!(null==e?void 0:e.roleId)}function C(e){return!!(null==e?void 0:e.roleId)&&e.roleId.length>0}function $(e){var t;return!!(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:admin:updateItemCategorySchema"))}function k(e){var t;return!!(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:admin:updateGroups"))}function I(e){var t;return!!(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:admin:assignToGroups"))}const T=e=>{var t;return!!(null===(t=null==e?void 0:e.privileges)||void 0===t?void 0:t.includes("portal:admin:deleteItems"))};function O(e){return((null==e?void 0:e.privileges)||[]).includes("portal:user:shareToGroup")}function x(e){return((null==e?void 0:e.privileges)||[]).includes("portal:user:shareToOrg")}function A(e){return((null==e?void 0:e.privileges)||[]).includes("portal:user:shareToPublic")}function P(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:shareToOrg")}function j(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:shareToPublic")}function _(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:shareToGroup")}function E(e,t,n,r){const o=r&&!["Trial","Trial Press","Trial Developer","Developer Subscription","Evaluation"].includes(r.type),i=((null==t?void 0:t.privileges)||[]).includes("portal:admin:manageCollaborations");return!(!(null==e?void 0:e.collaborationsEnabled)||!t||!b(t)&&!i||!(null==n?void 0:n.isPortal)&&!o)}function D(e){return!!e&&(!C(e)||C(e)&&function(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:viewItems")}(e))}const z=({items:e,user:t,portal:n})=>{const o=e[0],i=o.owner;if(n.isPortal&&i!==t.username&&i.includes("esri_")&&!["esri_livingatlas"].includes(i))return!1;const l=(0,r.u)(o,t),s=C(t),u=M(t),c=a(o,t)&&function(e){return((null==e?void 0:e.privileges)||[]).includes("portal:admin:updateItems")}(t)&&!s&&(function(e,t){return!function(e){return!(!e.urlKey||!e.customBaseUrl)||!!e.isPortal}(t)||O(e)||x(e)||!!t.canSharePublic&&A(e)}(t,n)||M(t));return l||c||(0,r.c)(e,t)&&u};function M(e){return _(e)||P(e)||j(e)}const L=["portal:user:createItem","portal:user:viewOrgItems","premium:publisher:createNotebooks","portal:publisher:createDataPipelines","features:user:edit","features:user:fullEdit","portal:admin:viewItems","portal:admin:updateItems","portal:admin:deleteItems"];function R(e){return e.some(e=>L.includes(e))}function q(e){return e.filter(e=>L.includes(e))}},4429:(e,t,n)=>{n.d(t,{a:()=>s,b:()=>d,c:()=>i,d:()=>u,e:()=>o,f:()=>r,g:()=>g,i:()=>p,m:()=>a,t:()=>l,u:()=>c});const r=(e,t)=>{let n,r="idle";const o=(...o)=>new Promise(i=>{switch(r){case"flushed":r="idle",n?(clearTimeout(n),i(e(...o))):i(null);break;case"invoked":clearTimeout(n),r="idle",i(e(...o));break;case"cancelled":clearTimeout(n),r="idle",i(null);break;default:n&&clearTimeout(n),r="pending",n=setTimeout(()=>(r="idle",i(e(...o))),t)}});return o.flush=function(...e){return r="flushed",o(...e)},o.invoke=function(...e){return r="invoked",o(...e)},o.cancel=function(...e){return r="cancelled",o(...e)},o.getStatus=function(){return r},o};function o(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function i(e){return null!=e}async function a(e,t){return await Promise.all([e,l(t)]),e}function l(e){return new Promise(t=>setTimeout(t,e))}const s=(e,t)=>Object.fromEntries((e||[]).map(e=>{const{key:n,data:r}=t(e);return[n,r]})),u=(e,t)=>e.length===t.length&&e.reduce((e,n)=>e&&t.indexOf(n)>-1,!0);function c(e,t){const n=[],r={};return e.forEach(e=>{const o=t(e);null==r[o]&&(r[o]=e,n.push(e))}),n}function d(e){const t={boolean:{},number:{},string:{}},n=[];return e.filter(e=>{let r=typeof e;return r in t?!t[r].hasOwnProperty(e)&&(t[r][e]=!0):!(n.indexOf(e)>=0)&&n.push(e)})}const g=(e,t)=>[...Array(Math.ceil(e.length/t))].map((n,r)=>e.slice(t*r,t+t*r)),p=(e,t)=>e.includes(t)},12192:(e,t,n)=>{n.d(t,{a:()=>a,g:()=>u});var r=n(15332),o=n(94984),i=n(87849);function a(e){var t,n,i;const a=null!==(t=(0,r.c)(e,"[lang]"))&&void 0!==t?t:null===(i=null===(n=e.shadowRoot)||void 0===n?void 0:n.ownerDocument)||void 0===i?void 0:i.documentElement,l=((null==a?void 0:a.lang)||(null===navigator||void 0===navigator?void 0:navigator.language)||"en").toLowerCase();return o.l.has(l)?o.l.get(l):o.l.has(l.slice(0,2))?o.l.get(l.slice(0,2)):"en"}const l={};function s(e,t){const n=`${e}${t}`;return l[n]||(l[n]=function(e,t){return new Promise((n,r)=>{fetch((0,i.d)(`../arcgis-app-assets/i18n/${e}.i18n.${t}.json`)).then(e=>{e.ok?n(e.json()):r()},()=>r())})}(e,t)),l[n]}async function u(e,t){const n=t||e.tagName.toLowerCase(),i=a(e),l=function(e){var t,n,i;const a=null!==(t=(0,r.c)(e,"[lang]"))&&void 0!==t?t:null===(i=null===(n=e.shadowRoot)||void 0===n?void 0:n.ownerDocument)||void 0===i?void 0:i.documentElement,l=((null==a?void 0:a.lang)||(null===navigator||void 0===navigator?void 0:navigator.language)||"en").toLowerCase();return o.l.has(l)?o.l.get(l):o.l.has(l.slice(0,2))?l:"en"}(e);let u;try{u=await s(n,i)}catch(e){console.warn(`no locale for ${n} (${i}) loading default locale en.`),u=await s(n,"en")}return[u,i,l]}},26262:(e,t,n)=>{n.d(t,{a:()=>o,g:()=>i,i:()=>a});var r=n(41473);const o=(e,t)=>(0,r.a)(`${(0,r.g)(e)}community/groups/${t.id}`),i=(e,t)=>`${((e,t)=>(0,r.a)(`${(0,r.g)(e)}content/groups/${t.id}`))(e,t)}search`,a=e=>{var t;return null===(t=null==e?void 0:e.capabilities)||void 0===t?void 0:t.includes("distributed")}},37362:(e,t,n)=>{n.d(t,{U:()=>r,a:()=>i,b:()=>o,g:()=>a});const r="/Categories",o=(e,t,n=!0)=>{const r=null!=e?e:"";return`${r}${r.endsWith("/")?"":"/"}${n?t.title.toLocaleLowerCase():t.title}`};function i(e){var t;let n=null===(t=null==e?void 0:e[0])||void 0===t?void 0:t.title;return n&&"/"!==n.charAt(0)&&(n=`/${n}`),n||r}const a=(e,t)=>`${e.replace(/\/([^\/]+)$/,`/${t}`)}`},46904:(e,t,n)=>{n.d(t,{a:()=>a,b:()=>i,c:()=>u,d:()=>c,e:()=>d,f:()=>g,g:()=>p,i:()=>l,u:()=>s});n(93814);var r=n(41473);function o(e){var t;return!!(null===(t=e.owner)||void 0===t?void 0:t.toLowerCase().includes("esri"))}function i(e){var t;return o(e)&&!!(null===(t=e.typeKeywords)||void 0===t?void 0:t.includes("Requires Credits"))}function a(e){var t;return o(e)&&!!(null===(t=e.typeKeywords)||void 0===t?void 0:t.includes("Requires Subscription"))}function l(e,t){return e.owner===t.username}function s(e,t){return l(e,t)||function(e,t){var n;if(null!=e.isAdmin)return!!e.isAdmin;const r=e.owner,o="admin"===e.itemControl,i=["esri_livingatlas","esri_demographics","esri_boundaries"];if((null===(n=e.portal)||void 0===n?void 0:n.isPortal)&&!l(e,t)&&o&&r.includes("esri_")&&!i.includes(r))return!1;return o}(e,t)}const u=(e,t)=>!!t.orgId&&e.every(e=>e.isOrgItem),c=(e,t)=>`${(0,r.a)(t)}item.html?id=${e}`,d=(e,t)=>`${(0,r.g)(t)}/content/users/${e}`,g=e=>e.reduce((e,t)=>(e[t.owner]=e[t.owner]?[...e[t.owner],t.id]:[t.id],e),{}),p=(e,t)=>`${(0,r.a)(t)}content/items/${e}`},50315:(e,t,n)=>{n.d(t,{a:()=>v,b:()=>d,c:()=>p,d:()=>h,e:()=>g,f:()=>c,g:()=>u,u:()=>m});var r=n(83692),o=n(37362),i=n(59317),a=n(26262),l=n(41473),s=n(1654);const u=async({portal:e,user:t,group:n,useCache:r=!1})=>{var o;try{const i=await(n?d(n.id,e,r):c(e,t,r));return{result:null!==(o=null==i?void 0:i.categorySchema)&&void 0!==o?o:null}}catch(e){return console.error(e),{error:{code:"unhandledError"}}}};async function c(e,t,n=!0){if(null!=e||(e=i.c.portal),null!=t||(t=i.c.user),!(null==e?void 0:e.id)||t&&(0,s.b)(t))return null;const o=()=>(0,r.r)(`${(0,l.g)(e)}portals/${e.id}/categorySchema`);return n?(0,r.f)(o,"categorySchema",e.id):o()}async function d(e,t,n=!0){if(null!=t||(t=null===i.c||void 0===i.c?void 0:i.c.portal),!e||!t)return null;const o=()=>(0,r.r)(`${(0,a.a)(t,{id:e})}categorySchema`);return n?(0,r.f)(o,"categorySchema",e):o()}const g=async({user:e,portal:t,useCache:n=!1})=>{var r;const o=await p(t,e,n);return{result:null!==(r=null==o?void 0:o.memberCategorySchema)&&void 0!==r?r:null}};async function p(e,t,n=!0){if(null!=e||(e=i.c.portal),null!=t||(t=i.c.user),!(null==e?void 0:e.id)||t&&(0,s.b)(t))return null;const o=()=>(0,r.r)(`${(0,l.g)(e)}portals/${e.id}/memberCategorySchema`);return n?(0,r.f)(o,"memberCategorySchema",e.id):o()}async function v(e,t,n=!0){const o=()=>async function(e,t){var n;const o=(0,l.g)(e),i=(0,l.b)(e),s=await(0,r.r)(`${o}portals/self?culture=${i}`),u=await(0,r.r)(`${o}community/groups?q=${s.contentCategorySetsGroupQuery}`),c=null===(n=null==u?void 0:u.results)||void 0===n?void 0:n[0],d=(await(0,r.r)((0,a.g)(e,c),{q:`typekeywords: ${t}`})).results[0];return(0,r.r)(`${o}content/items/${d.id}/data`)}(e,t);return n?(0,r.f)(o,"categorySchema",t):o()}async function m({categories:e,itemIds:t,portal:n,group:o}){try{const i=`${(0,l.g)(n)}/content/${o?`groups/${o.id}/updateCategories`:"updateItems"}`,a=JSON.stringify(t.map(t=>{const n=Array.isArray(e)?e:e[t];return{[t]:o?n:{categories:n}}}));return{result:await(0,r.r)(i,{items:a},{},"post")}}catch(e){return console.error(e),{error:{code:"unhandledError"}}}}const h=async({path:e,portal:t,group:n,updateInfo:r})=>{try{const i=(await f({category:e,portal:t,group:n,num:1})).total;if(0===i)return console.warn(`No items found with category ${e} when updating schema`),{};const a=100,l=Math.ceil(i/a),s=[];for(let i=0;i<l;i++)s.push(f({category:e,portal:t,group:n,start:i*a,num:a}).then(({results:t})=>{const i={};return t.forEach(t=>{var a;const l=null!==(a=n?t.groupCategories:t.categories)&&void 0!==a?a:[],s="change-title"===r.type?l.map(t=>{const n=(0,o.g)(e,r.newTitle);return t===e?n:t.replace(`${e}/`,`${n}/`)}):l.filter(t=>!t.startsWith(e));i[t.id]=s}),i}));const u=await Promise.all(s);return await Promise.all(u.map(e=>m({categories:e,itemIds:Object.keys(e),portal:t,group:n}))),{}}catch(t){return console.error(`Error ${r.type} items schema from path ${e}:`,t),{error:{code:"unhandledError"}}}},f=({category:e,num:t=100,start:n=0,portal:o,group:i})=>{const s={start:n,num:t,categories:JSON.stringify([e])},u=i?(0,a.g)(o,i):`${(0,l.g)(o)}search`;return(0,r.r)(u,Object.assign(Object.assign({},s),{q:i?void 0:`orgid: ${o.id}`}))}},54251:(e,t,n)=>{n.d(t,{g:()=>o});var r=n(59317);function o(e){var t,n,o,i;return null!=e||(e=null===r.c||void 0===r.c?void 0:r.c.portal),(null===(t=null==e?void 0:e.credential)||void 0===t?void 0:t.token)||(null==e?void 0:e.token)||(null===(o=null===(n=null==e?void 0:e.user)||void 0===n?void 0:n.credential)||void 0===o?void 0:o.token)||(null===(i=null==e?void 0:e.portalUser)||void 0===i?void 0:i.token)||""}},83692:(e,t,n)=>{n.d(t,{a:()=>m,b:()=>v,c:()=>p,f:()=>d,g:()=>w,i:()=>g,p:()=>y,r:()=>h});var r=n(59317),o=n(4429),i=n(931),a=n(41473),l=n(54251);const s={},u={},c={};async function d(e,t,n,r){var o,i,a,l;const d=null===(i=null===(o=c[t])||void 0===o?void 0:o[n])||void 0===i?void 0:i.expireAt,g=!!d&&(new Date).getTime()>d;if((null===(a=s[t])||void 0===a?void 0:a[n])&&!g)return s[t][n];u[t]||(u[t]={}),u[t][n]&&!g||(u[t][n]=e());const p=await u[t][n];if(s[t]||(s[t]={}),c[t]||(c[t]={}),s[t][n]=p,r){const{expireAfter:e,getExpireAfterFromResult:o}=r,i=o||e?(new Date).getTime()+(null!==(l=null==o?void 0:o(p))&&void 0!==l?l:e):null;c[t][n]=Object.assign(Object.assign({},c[t][n]),{expireAt:i})}return p}function g(e,t){var n;return null===(n=null==s?void 0:s[e])||void 0===n?void 0:n[t]}const p=(e,t)=>{var n,r;t?(null===(n=s[e])||void 0===n||delete n[t],null===(r=u[e])||void 0===r||delete r[t]):(delete s[e],delete u[e])};function v(e){var t,n;return null!==(t=null==e?void 0:e.id)&&void 0!==t?t:null===(n=null==e?void 0:e.sourceJSON)||void 0===n?void 0:n.id}async function m(e,t,n={},r){const[o]=await(0,i.l)(["esri/request"]);e.includes("f=")||t.append("f","json");const a=(0,l.g)();return a&&!t.has("token")&&t.append("token",a),new Promise((i,a)=>{o(e,Object.assign(Object.assign({body:t},n),{timeout:n.timeout||0,method:r||"auto"})).then(e=>{i(e.data)}).catch(e=>a(e))})}async function h(e,t={},n={},o,a){const[l]=await(0,i.l)(["esri/request"]),{api:s,portal:u}=r.c,{customToken:c,addTokenManually:d,addSSL:g,useProxy:p}=n,v=Object.assign({},t);if(e.includes("f=")||!0===(null==a?void 0:a.excludeJson)||(v.f="json"),c)v.token=c;else if(!1!==d){const e=await w(u);e&&(v.token=e)}const m=!1===g?e:function(e){var t;const{config:n}=r.c;return"https:"===window.location.protocol||!0===(null===(t=null==n?void 0:n.self)||void 0===t?void 0:t.allSSL)?e.replace("http:","https:"):e}(e);if(3===s){const e=Object.assign({url:m,content:v,timeout:n.timeout||0},null==a?void 0:a.v3Request);n.withCredentials&&(e.withCredentials=n.withCredentials);return l(e,"post"===o?Object.assign({usePost:!0},n):n)}{const e=Object.assign(Object.assign(Object.assign({query:v,method:o||"auto"},n),{timeout:n.timeout||0,useProxy:p}),(null==n?void 0:n.disableIdentityLookup)?{authMode:"anonymous"}:{});return(await l(m,e)).data}}const f=[2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,15,15,30,30,30,30,30,30,30,30,30,30,120];const y=async(e,t,n)=>{var r,i;const a=null!==(r=null==t?void 0:t.pendingStatuses)&&void 0!==r?r:["processing","partial","Pending","InProgress","EXECUTING"],l=null!==(i=null==t?void 0:t.successStatuses)&&void 0!==i?i:["completed","Completed","COMPLETED"];let s=0;const u=async()=>{const r=await h(e,null==t?void 0:t.requestParams,{},n),i=r.status||r.jobStatus;if(a.includes(i))return await(0,o.t)((c=s++,1e3*f[c>-1&&c<f.length-1?c:f.length-1])),u();if(l.includes(i)||"failed"===i||"esriJobFailed"===i)return r;throw r;var c};try{return u()}catch(e){throw console.error(e),e}},w=async e=>{var t;if(!(null==e?void 0:e.isPortal)||!(0,a.i)(e))return(0,l.g)(e);if(!(null==e?void 0:e.user)&&!(null==e?void 0:e.portalUser)&&(0,a.i)(e))return;const{token:n}=await d(()=>b(e),"platformSelf",null!==(t=v(e.user))&&void 0!==t?t:e.id,{getExpireAfterFromResult:e=>e.expires_in});return n},b=async e=>{const t=await(async e=>{var t,n;const[r]=await(0,i.l)(["esri/identity/IdentityManager"]);return null!==(n=null===(t=(await d(()=>r.getCredential((0,a.g)(e),{oAuthPopupConfirmation:!1}),"credential",v(e.user))).oAuthState)||void 0===t?void 0:t.appId)&&void 0!==n?n:"arcgisonline"})(e),n={"X-Esri-Auth-Client-Id":t,"X-Esri-Auth-Redirect-Uri":window.location.href.replace(/#.*$/,"")};return h(`${(0,a.g)(e)}/oauth2/platformSelf`,{},{disableIdentityLookup:!0,headers:n,addTokenManually:!1,withCredentials:!0},"post",{v3Request:{headers:n}})}},85558:(e,t,n)=>{n.r(t),n.d(t,{arcgis_item_category_schema_editor:()=>d});var r=n(87849),o=n(50315),i=n(12192),a=n(1654),l=n(41473),s=n(96295),u=n(26262),c=n(83692);n(59317),n(37762),n(15332),n(94984),n(931),n(93814),n(46904),n(54251);const d=class{constructor(e){(0,r.r)(this,e),this.workflowCancel=(0,r.c)(this,"workflowCancel",7),this.newSchemaWorkflowComplete=(0,r.c)(this,"newSchemaWorkflowComplete",7),this.deleteAllSchema=(0,r.c)(this,"deleteAllSchema",7),this.getCategorySchema=()=>{const{user:e,portal:t,group:n}=this;return(0,o.g)({user:e,portal:t,group:n})},this.getCategoryAggregation=()=>{const{user:e,portal:t,group:n}=this;return(async(e,t,n)=>{const r=n?`${(0,l.g)(t)}/content/groups/${n.id}/`:`${(0,l.g)(t)}`,o=n?{q:s.H,countFields:"access,contentstatus,groupCategories"}:{q:`orgid:${e.orgId} ${s.H}`,countFields:"categories"};try{const{aggregations:e}=await(0,c.r)(`${r}search`,Object.assign(Object.assign({},o),{countSize:200,num:0,f:"json"}));return{result:n?e.counts.find(({fieldName:e})=>"groupCategories"===e):e.counts[0]}}catch(e){return console.error(e),{error:{code:"unhandledError"}}}})(e,t,n)},this.updateSchema=e=>{const{portal:t,group:n}=this;return(async({portal:e,group:t,categorySchema:n})=>{try{const r=t?(0,u.a)(e,t):`${(0,l.g)(e)}/portals/${e.id}/`;return await(0,c.r)(`${r}assignCategorySchema`,{categorySchema:JSON.stringify({categorySchema:n})},{},"post"),{}}catch(e){return console.error(e),{error:{code:"unhandledError"}}}})({portal:t,categorySchema:e,group:n})},this.deleteSchema=()=>{const{portal:e,group:t}=this;return(async(e,t)=>{try{const n=t?(0,u.a)(e,t):`${(0,l.g)(e)}/portals/${e.id}/`;return await(0,c.r)(`${n}deleteCategorySchema`,{},{},"post"),{}}catch(e){return console.error(e),{error:{code:"unhandledError"}}}})(e,t)},this.updateSchemaFromPath=({path:e,updateInfo:t})=>{const{portal:n,group:r}=this;return(0,o.d)({path:e,portal:n,updateInfo:t,group:r})},this.getStandardSetCategories=()=>{const{portal:e}=this;return(async e=>{try{const[{categorySchema:t},{categorySchema:n},{categorySchema:r}]=await Promise.all([(0,o.a)(e,"LivingAtlas"),(0,o.a)(e,"Inspire"),(0,o.a)(e,"ISO")]);return{result:{LivingAtlas:t,Inspire:n,ISO:r}}}catch(e){return console.error(e),{error:{code:"unhandledError"}}}})(e)},this.user=void 0,this.portal=void 0,this.config=void 0,this.group=void 0,this.isActive=void 0,this.rootCategoryTitle=void 0}async componentWillLoad(){const e=await(0,i.g)(this.el);this.i18n=e[0]}render(){const{user:e,portal:t,config:n,i18n:o,isActive:i,group:l,getCategorySchema:s,getCategoryAggregation:u,updateSchema:c,deleteSchema:d,updateSchemaFromPath:g,getStandardSetCategories:p}=this,v=Boolean(!(0,a.b)(this.user)||this.group),m=l?o.modalGroupHeader:o.modalHeader,h=l?o.helpTextGroup:o.helpText,f=l?o.helpTextGroupDescription:o.helpTextDescription,y=o.template.templateList.custom[l?"messageGroup":"message"];return(0,r.h)("arcgis-category-schema-editor",{key:"c3dc5e63b2d5dd41a81f18150ea2d9e1490229c1",user:e,portal:t,config:n,isActive:i,canFetchCategories:v,dialogHeading:m,noticeTitle:h,noticeDescription:f,customTemplateDescriptionText:y,deleteConfirmMessage:o.warning.deleteInUseCategory.message,changeTitleConfirmMessage:o.warning.changeTitleInUseCategory.message,getCategorySchema:s,getCategoryAggregation:u,updateSchema:c,deleteSchema:d,updateSchemaFromPath:g,getStandardSetCategories:p,onWorkflowCancel:e=>{this.workflowCancel.emit(e.detail)},onNewSchemaWorkflowComplete:e=>{this.newSchemaWorkflowComplete.emit(e.detail)},onDeleteAllSchema:()=>{this.deleteAllSchema.emit()}})}get el(){return(0,r.a)(this)}};d.style=".stage{height:100%;--tw-translate-x:0px;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));overflow:hidden;display:flex}.modal{--calcite-dialog-content-space:0;--calcite-dialog-size-x:48rem;--calcite-dialog-size-y:90vh;--calcite-dialog-background-color:var(--calcite-color-background)}.modal--large{--calcite-dialog-size-x:1080px}.template-container{overflow:auto;width:20rem;padding:1rem}.template-title{margin-top:0px;margin-bottom:0px;margin-bottom:1rem;font-size:1.125rem}.template-link{font-size:0.75rem}.inner-container{overflow:auto;box-sizing:border-box;width:100%;padding:2rem}.inner-container--new-category{padding-inline-start:0.5rem;padding:1rem}.help-text{margin-bottom:0.75rem}.confirm-modal{--calcite-modal-width:32rem;--calcite-modal-height:auto}.confirm-modal-content{padding:1rem}"},94984:(e,t,n)=>{n.d(t,{C:()=>l,a:()=>d,b:()=>c,f:()=>s,g:()=>a,l:()=>i,s:()=>p});var r=n(15332),o=n(931);const i=new Map([["ar","ar"],["bg","bg"],["bs","bs"],["ca","ca"],["cs","cs"],["da","da"],["de","de"],["el","el"],["en","en"],["es","es"],["et","et"],["fi","fi"],["fr","fr"],["he","he"],["hr","hr"],["hu","hu"],["id","id"],["it","it"],["ja","ja"],["ko","ko"],["lt","lt"],["lv","lv"],["nb","no"],["no","no"],["nl","nl"],["pl","pl"],["pt-br","pt-BR"],["pt-pt","pt-PT"],["ro","ro"],["ru","ru"],["sk","sk"],["sl","sl"],["sr","sr"],["sv","sv"],["th","th"],["tr","tr"],["uk","uk"],["vi","vi"],["zh-cn","zh-CN"],["zh-hk","zh-HK"],["zh-tw","zh-TW"]]);function a(e){return function(e,t,n){const o=(0,r.c)(e,`[${t}]`);return o?o.getAttribute(t):n}(e,"dir","ltr")}const l={rtl:"arcgis--rtl"};async function s(e,t){const{api:n,type:r,places:i}=t||{};if(3===n){const[n]=await(0,o.l)(["dojo/number"]);return n.format(e,{type:r,places:i,pattern:null==t?void 0:t.pattern})}const[a]=await(0,o.l)(["esri/intl"]),l=a.convertNumberFormatToIntlOptions({places:i,style:r,digitSeparator:!0});return a.formatNumber(e,Object.assign(Object.assign({},l),{style:r}))}const u={};function c(e,t){let n=document.documentElement.lang;const r="bs"===n;if(r&&(n="hr"),t){const t=`${n}-full`,r={dateStyle:"full",timeStyle:"long"};return u[t]||(u[t]=new Intl.DateTimeFormat(n,r)),u[t].format(e)}const o={year:"numeric",month:r?"numeric":"short",day:"numeric"};return u[n]||(u[n]=new Intl.DateTimeFormat(n,o)),u[n].format(e)}function d(e,t,n,r){const o=null!=e?e:"en";let i=t.unknown;return(1===n||["id","ja","ko","th","vi","zh-cn","zh-hk","zh-tw"].includes(o))&&(i=t.single),1!==n&&["en","ca","da","de","el","es","et","fi","hi","hu","it","nb","nl","pt-pt","sv","tr"].includes(o)&&(i=t.multiple),p(i,Object.assign(Object.assign({},r),{number:n}))}const g=/\$\{([^}]+)\}/g;function p(e,t,n=g){let r=e;try{r=e.replace(n,(e,n)=>function(e,t){const n=e.split(".").reduce((e,t)=>e[t],t);return"string"==typeof n||"number"==typeof n?n:e}(n,t).toString())}catch(e){console.error(e)}return r}},96295:(e,t,n)=>{n.d(t,{H:()=>r,R:()=>o});const r='-typekeywords:("MapAreaPackage") -type:("Map Area" OR "Indoors Map Configuration" OR "Code Attachment")',o="Indoors Map Configuration,Code Attachment"}}]);