/*! For license information please see arcgis_analysis_node_modules_arcgis_map-config-components_dist_components_-df212b.js.LICENSE.txt */
"use strict";(self.webpackChunkexb_client=self.webpackChunkexb_client||[]).push([["extensions_widgets_arcgis_analysis_node_modules_arcgis_map-config-components_dist_components_-df212b"],{28252:(e,t,s)=>{s.d(t,{u:()=>l});var r=s(85282),i=s(34670),o=s(42466);const a=(e,t,s)=>{const r=new Map;for(let i=t;i<=s;i++)r.set(e[i],i);return r},l=(0,i.u$)(class extends i.WL{constructor(e){if(super(e),e.type!==i.OA.CHILD)throw Error("repeat() can only be used in text expressions")}dt(e,t,s){let r;void 0===s?s=t:void 0!==t&&(r=t);const i=[],o=[];let a=0;for(const t of e)i[a]=r?r(t,a):a,o[a]=s(t,a),a++;return{values:o,keys:i}}render(e,t,s){return this.dt(e,t,s).values}update(e,[t,s,i]){const l=(0,o.cN)(e),{values:c,keys:n}=this.dt(t,s,i);if(!Array.isArray(l))return this.ut=n,c;const d=this.ut??=[],g=[];let m,u,p=0,w=l.length-1,b=0,f=c.length-1;for(;p<=w&&b<=f;)if(null===l[p])p++;else if(null===l[w])w--;else if(d[p]===n[b])g[b]=(0,o.lx)(l[p],c[b]),p++,b++;else if(d[w]===n[f])g[f]=(0,o.lx)(l[w],c[f]),w--,f--;else if(d[p]===n[f])g[f]=(0,o.lx)(l[p],c[f]),(0,o.Dx)(e,g[f+1],l[p]),p++,f--;else if(d[w]===n[b])g[b]=(0,o.lx)(l[w],c[b]),(0,o.Dx)(e,l[p],l[w]),w--,b++;else if(void 0===m&&(m=a(n,b,f),u=a(d,p,w)),m.has(d[p]))if(m.has(d[w])){const t=u.get(n[b]),s=void 0!==t?l[t]:null;if(null===s){const t=(0,o.Dx)(e,l[p]);(0,o.lx)(t,c[b]),g[b]=t}else g[b]=(0,o.lx)(s,c[b]),(0,o.Dx)(e,l[p],s),l[t]=null;b++}else(0,o.KO)(l[w]),w--;else(0,o.KO)(l[p]),p++;for(;b<=f;){const t=(0,o.Dx)(e,g[f+1]);(0,o.lx)(t,c[b]),g[b++]=t}for(;p<=w;){const e=l[p++];null!==e&&(0,o.KO)(e)}return this.ut=n,(0,o.mY)(e,g),r.c0}})},56621:(e,t,s)=>{s.r(t),s.d(t,{ArcgisMapConfigPopupBrowseFeatureLayers:()=>d});var r=s(73679),i=s(4395),o=s(28252),a=s(65722),l=s(85643),c=s(73801);const n=i.AH`.browse-feature-layers-dialog{--calcite-dialog-size-y: min(900px, calc(80vh + 100px) );--calcite-dialog-size-x: 1080px;--calcite-dialog-content-space: 0px}`;class d extends c.WF{constructor(){super(),this.itemBrowserNode=(0,l._)(),this.selectedCount=0,this.arcgisClose=(0,c.lh)(),this.listenOn(window,"arcgisItemBrowserCardPreview",this.arcgisItemBrowserCardPreviewHandler)}static{this.properties={items:16,pagination:16,selectedCount:16,_messages:0,portal:0}}static{this.styles=n}arcgisItemBrowserCardPreviewHandler(e){const{portal:t}=this,s=e.detail;if(s?.id){const e=`${(0,a.a)(t)}/home/`;this.openItemDetailsNode.href=`${e}/item.html?id=${s.id}`}else this.openItemDetailsNode.removeAttribute("href")}render(){const{portal:e,_messages:t}=this,s=`${(0,a.a)(e)}/home/`;return i.qy`<calcite-dialog class="browse-feature-layers-dialog" open modal escape-disabled outside-close-disabled @calciteDialogClose=${()=>this.arcgisClose.emit()} .heading=${t.browseForFeatureLayers}><arcgis-item-browser .view=${"list"} .selection=${"single-sublayer"} .filter=${'type:"Feature Service" -typekeywords:"Table"'} .portal=${e} .user=${e.user??void 0} .api=${4} .config=${{baseUrl:s}} @arcgisItemBrowserUpdate=${e=>{const{results:t,num:s,start:r,total:i}=e.detail;this.items=t,this.pagination={start:r,num:s,total:i}}} @arcgisItemBrowserSelect=${()=>this.selectedCount=this.itemBrowserNode.value?.selectedItems?.length} ${(0,l.K)(this.itemBrowserNode)}><arcgis-item-browser-top-bar slot=top-bar><arcgis-item-browser-bucket-select slot=bucket .options=${["my","org","group"]}></arcgis-item-browser-bucket-select><arcgis-item-browser-search slot=search .term=${""}></arcgis-item-browser-search></arcgis-item-browser-top-bar><arcgis-item-browser-sort .options=${["modified","title","relevance"]} slot=sort></arcgis-item-browser-sort><arcgis-item-browser-filters slot=filters>${e.user&&i.qy`<arcgis-item-browser-filter-folder .expanded=${!0}></arcgis-item-browser-filter-folder>`||""}<arcgis-item-browser-filter-categories></arcgis-item-browser-filter-categories><arcgis-item-browser-filter-location></arcgis-item-browser-filter-location><arcgis-item-browser-filter-date property=modified></arcgis-item-browser-filter-date><arcgis-item-browser-filter-date property=created></arcgis-item-browser-filter-date><arcgis-item-browser-filter-tags></arcgis-item-browser-filter-tags><arcgis-item-browser-filter-sharing></arcgis-item-browser-filter-sharing></arcgis-item-browser-filters><arcgis-item-browser-content slot=content>${(0,o.u)(this.items||[],e=>`card-${e.id}`,t=>i.qy`<arcgis-item-browser-card .item=${t} .portal=${e} .baseUrl=${s} .showItemType=${!0} .showDateUpdated=${!0} .showOwner=${!0} .showSummary=${!0} .showThumbnail=${!0}></arcgis-item-browser-card>`)}</arcgis-item-browser-content><arcgis-item-browser-pagination slot=pagination .total=${this.pagination?.total} .start=${this.pagination?.start} .num=${this.pagination?.num}></arcgis-item-browser-pagination></arcgis-item-browser><calcite-button slot=footer-end appearance=outline-fill alignment=center @click=${()=>this.arcgisClose.emit()}>${t.cancel}</calcite-button><calcite-button slot=footer-end alignment=center appearance=solid .disabled=${!this.selectedCount} @click=${()=>this.arcgisClose.emit(this.itemBrowserNode.value.selectedItems.length?this.itemBrowserNode.value.selectedItems.map(e=>e):[])}>${t.add}</calcite-button></calcite-dialog>`}}(0,r.c)("arcgis-map-config-popup-browse-feature-layers",d)},65722:(e,t,s)=>{s.d(t,{a:()=>o,g:()=>a,o:()=>l});var r=s(44345);const i=e=>e&&!e.endsWith("/")?`${e}/`:e;function o(e){const{customBaseUrl:t,portalHostname:s,urlKey:r}=e,{protocol:i}=window.location;return`${i}//${r?`${r}.${t}`:s}`}function a(e){return i(e.restUrl)}async function l(e){if(!e?.user)return!1;const t=`${a(e)}portals/self/signinSettings`,s=await(0,r.default)(t,{query:{f:"json",async:!1},responseType:"json"});return!(s?.data&&!s.data.blockBetaApps)}}}]);