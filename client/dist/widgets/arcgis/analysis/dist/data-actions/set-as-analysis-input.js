System.register(["jimu-core/emotion","jimu-core","jimu-arcgis","jimu-ui","jimu-core/react","esri/portal/Portal.js","esri/identity/IdentityManager.js","esri/request.js","esri/core/urlUtils.js","esri/geometry/Point.js","esri/geometry/Polyline.js","esri/geometry/Polygon.js","esri/core/reactiveUtils.js","esri/rest/support/Query.js","esri/core/promiseUtils.js","esri/geometry/Extent.js","esri/geometry/SpatialReference.js","esri/portal/PortalItemResource.js","esri/geometry/support/jsonUtils.js","esri/Color.js","esri/layers/FeatureLayer.js","esri/layers/Layer.js","esri/symbols/LineSymbolMarker.js","esri/layers/support/MosaicRule.js","esri/portal/PortalItem.js","esri/renderers/SimpleRenderer.js","esri/symbols/SimpleFillSymbol.js","esri/symbols/SimpleLineSymbol.js","esri/symbols/SimpleMarkerSymbol.js","esri/layers/SubtypeGroupLayer.js","esri/layers/MapNotesLayer.js","esri/layers/support/Field.js","esri/renderers/Renderer.js","esri/rest/support/FeatureSet.js","esri/rest/support/ParameterValue.js","esri/smartMapping/statistics/uniqueValues.js","esri/rest/support/JobInfo.js","esri/layers/GroupLayer.js","esri/rest/geoprocessor.js","esri/portal/PortalQueryParams.js","esri/core/sql.js"],function(s,e){var a={},t={},i={},r={},n={},o={},l={},d={},c={},_={},u={},g={},y={},f={},m={},p={},h={},v={},x={},b={},j={},w={},S={},k={},P={},T={},R={},A={},N={},L={},M={},O={},C={},D={},I={},F={},E={},$={},G={},U={},V={};return Object.defineProperty(y,"__esModule",{value:!0}),Object.defineProperty(m,"__esModule",{value:!0}),{setters:[function(s){a.jsx=s.jsx,a.jsxs=s.jsxs},function(s){t.AbstractDataAction=s.AbstractDataAction,t.AllDataSourceTypes=s.AllDataSourceTypes,t.DataLevel=s.DataLevel,t.MutableStoreManager=s.MutableStoreManager,t.React=s.React,t.ReactRedux=s.ReactRedux,t.classNames=s.classNames,t.css=s.css,t.defaultMessages=s.defaultMessages,t.focusElementInKeyboardMode=s.focusElementInKeyboardMode,t.getAppStore=s.getAppStore,t.hooks=s.hooks,t.urlUtils=s.urlUtils},function(s){i.featureUtils=s.featureUtils},function(s){r.Button=s.Button,r.FloatingPanel=s.FloatingPanel,r.Select=s.Select},function(s){n.default=s.default},function(s){o.default=s.default},function(s){l.default=s.default},function(s){d.default=s.default},function(s){c.urlToObject=s.urlToObject},function(s){_.default=s.default},function(s){u.default=s.default},function(s){g.default=s.default},function(s){Object.keys(s).forEach(function(e){y[e]=s[e]})},function(s){f.default=s.default},function(s){Object.keys(s).forEach(function(e){m[e]=s[e]})},function(s){p.default=s.default},function(s){h.default=s.default},function(s){v.default=s.default},function(s){x.getJsonType=s.getJsonType},function(s){b.default=s.default},function(s){j.default=s.default},function(s){w.default=s.default},function(s){S.default=s.default},function(s){k.default=s.default},function(s){P.default=s.default},function(s){T.default=s.default},function(s){R.default=s.default},function(s){A.default=s.default},function(s){N.default=s.default},function(s){L.default=s.default},function(s){M.default=s.default},function(s){O.default=s.default},function(s){C.default=s.default},function(s){D.default=s.default},function(s){I.default=s.default},function(s){F.default=s.default},function(s){E.default=s.default},function(s){$.default=s.default},function(s){G.submitJob=s.submitJob},function(s){U.default=s.default},function(s){V.parseWhereClause=s.parseWhereClause}],execute:function(){s((()=>{var s,e,W={588:s=>{"use strict";s.exports=l},2924:s=>{"use strict";s.exports=w},5258:s=>{"use strict";s.exports=S},5933:s=>{"use strict";s.exports=D},6550:s=>{"use strict";s.exports=j},9316:s=>{"use strict";s.exports=m},13661:s=>{"use strict";s.exports=p},14321:s=>{"use strict";s.exports=r},18423:s=>{"use strict";s.exports=_},21255:s=>{"use strict";s.exports=g},23054:s=>{"use strict";s.exports=N},28927:s=>{"use strict";s.exports=O},28996:s=>{s.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M8 2.125 14.334 14H1.667zm-.882-.47a1 1 0 0 1 1.765 0l6.333 11.874A1 1 0 0 1 14.334 15H1.667a1 1 0 0 1-.882-1.47zM8 4.874a.905.905 0 0 0-.9.995l.35 3.507a.552.552 0 0 0 1.1 0L8.9 5.87a.905.905 0 0 0-.9-.995m1 7a1 1 0 1 1-2 0 1 1 0 0 1 2 0" clip-rule="evenodd"></path></svg>'},32513:s=>{"use strict";s.exports=o},33752:s=>{"use strict";s.exports=P},34031:s=>{"use strict";s.exports=f},35970:s=>{"use strict";s.exports=C},43284:s=>{"use strict";s.exports=V},43786:s=>{"use strict";s.exports=h},44345:s=>{"use strict";s.exports=d},49403:s=>{"use strict";s.exports=R},52373:s=>{"use strict";s.exports=k},53976:s=>{"use strict";s.exports=T},54312:s=>{"use strict";s.exports=y},55448:s=>{"use strict";s.exports=c},56451:s=>{"use strict";s.exports=b},57295:s=>{"use strict";s.exports=I},61320:s=>{"use strict";s.exports=v},62686:s=>{"use strict";s.exports=i},64016:s=>{"use strict";s.exports=x},67386:s=>{"use strict";s.exports=a},68972:s=>{"use strict";s.exports=n},71802:s=>{"use strict";s.exports=G},72349:s=>{"use strict";s.exports=F},73645:s=>{"use strict";s.exports=L},74791:s=>{"use strict";s.exports=U},77462:s=>{"use strict";s.exports=A},79244:s=>{"use strict";s.exports=t},82567:s=>{"use strict";s.exports=M},89962:s=>{"use strict";s.exports=E},91813:s=>{"use strict";s.exports=u},97703:s=>{"use strict";s.exports=$}},B={};function z(s){var e=B[s];if(void 0!==e)return e.exports;var a=B[s]={exports:{}};return W[s](a,a.exports,z),a.exports}z.m=W,z.n=s=>{var e=s&&s.__esModule?()=>s.default:()=>s;return z.d(e,{a:e}),e},z.d=(s,e)=>{for(var a in e)z.o(e,a)&&!z.o(s,a)&&Object.defineProperty(s,a,{enumerable:!0,get:e[a]})},z.f={},z.e=s=>Promise.all(Object.keys(z.f).reduce((e,a)=>(z.f[a](s,e),e),[])),z.u=s=>"vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_index_js"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_index_js.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-78bda4"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-78bda4.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-064589"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-064589.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-3bac4e"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-3bac4e.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-dd8788"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-dd8788.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-1e7eca"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-1e7eca.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-98fd84"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-98fd84.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-2aac66"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-2aac66.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-bbb373"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-bbb373.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-aad150"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-aad150.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-963e18"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-963e18.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-3161b3"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-3161b3.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-8a7ac2"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-8a7ac2.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-dcf760"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-dcf760.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-1cf8a8"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-1cf8a8.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-f29f90"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-f29f90.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-dd331a"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-dd331a.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-305c14"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-305c14.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-265985"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-265985.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-09d547"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-09d547.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-198c62"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-198c62.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-36f054"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-36f054.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-ad24b4"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-ad24b4.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-9f6e64"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-9f6e64.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-d2aa34"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-d2aa34.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-2c2d70"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-2c2d70.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-31dd02"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-31dd02.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-59d271"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-59d271.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-517b2a"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-517b2a.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-991acf"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-991acf.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-8ecd08"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-8ecd08.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-eb760a"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-eb760a.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-3c618f"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-3c618f.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-777dbb"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-777dbb.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-cca393"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-cca393.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-d51569"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-d51569.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-ef031b"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-ef031b.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-89a74e"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-89a74e.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-3f81a5"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-3f81a5.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-d5ff15"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-d5ff15.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-cc041a"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-cc041a.js":"extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-dabe73"===s?"widgets/arcgis/analysis/chunks/arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_errors_t9n_-dabe73.js":void 0,z.o=(s,e)=>Object.prototype.hasOwnProperty.call(s,e),s={},e="exb-client:",z.l=(a,t,i,r)=>{if(s[a])s[a].push(t);else{var n,o;if(void 0!==i)for(var l=document.getElementsByTagName("script"),d=0;d<l.length;d++){var c=l[d];if(c.getAttribute("src")==a||c.getAttribute("data-webpack")==e+i){n=c;break}}n||(o=!0,(n=document.createElement("script")).charset="utf-8",n.timeout=120,z.nc&&n.setAttribute("nonce",z.nc),n.setAttribute("data-webpack",e+i),n.src=a),s[a]=[t];var _=(e,t)=>{n.onerror=n.onload=null,clearTimeout(u);var i=s[a];if(delete s[a],n.parentNode&&n.parentNode.removeChild(n),i&&i.forEach(s=>s(t)),e)return e(t)},u=setTimeout(_.bind(null,void 0,{type:"timeout",target:n}),12e4);n.onerror=_.bind(null,n.onerror),n.onload=_.bind(null,n.onload),o&&document.head.appendChild(n)}},z.r=s=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},z.p="",(()=>{var s={"widgets/arcgis/analysis/dist/data-actions/set-as-analysis-input":0};z.f.j=(e,a)=>{var t=z.o(s,e)?s[e]:void 0;if(0!==t)if(t)a.push(t[2]);else{var i=new Promise((a,i)=>t=s[e]=[a,i]);a.push(t[2]=i);var r=z.p+z.u(e),n=new Error;z.l(r,a=>{if(z.o(s,e)&&(0!==(t=s[e])&&(s[e]=void 0),t)){var i=a&&("load"===a.type?"missing":a.type),r=a&&a.target&&a.target.src;n.message="Loading chunk "+e+" failed.\n("+i+": "+r+")",n.name="ChunkLoadError",n.type=i,n.request=r,t[1](n)}},"chunk-"+e,e)}};var e=(e,a)=>{var t,i,[r,n,o]=a,l=0;if(r.some(e=>0!==s[e])){for(t in n)z.o(n,t)&&(z.m[t]=n[t]);if(o)o(z)}for(e&&e(a);l<r.length;l++)i=r[l],z.o(s,i)&&s[i]&&s[i][0](),s[i]=0},a=self.webpackChunkexb_client=self.webpackChunkexb_client||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))})();var J={};return z.p=window.jimuConfig.baseUrl,(()=>{"use strict";z.r(J),z.d(J,{default:()=>T});var s,e,a=z(67386),t=z(79244),i=z(62686),r=z(14321);!function(s){s.Standard="standard",s.Custom="custom",s.RasterFunction="rfx"}(s||(s={})),function(s){s.None="NONE",s.Error="ERROR",s.Warning="WARNING",s.Info="INFO"}(e||(e={}));var n=z(68972),o=function(s,e,a,t){return new(a||(a=Promise))(function(i,r){function n(s){try{l(t.next(s))}catch(s){r(s)}}function o(s){try{l(t.throw(s))}catch(s){r(s)}}function l(s){var e;s.done?i(s.value):(e=s.value,e instanceof a?e:new a(function(s){s(e)})).then(n,o)}l((t=t.apply(s,e||[])).next())})};class l{constructor(){this.cache={}}static getInstance(){return l.instance||(l.instance=new l),l.instance}getStrings(s){return o(this,void 0,void 0,function*(){return this.cache[s]?this.cache[s]:function(s){return o(this,void 0,void 0,function*(){const e=yield fetch(s);return yield e.json()})}(s).then(e=>(this.cache[s]=e,e))})}}function d(){return s="arcgis-analysis-assets",`${window.location.protocol}//${window.location.host}${t.urlUtils.getFixedRootPath()}widgets/arcgis/analysis/dist/assets/${s}/`;var s}const c=s=>(s=>{const[e,a]=n.default.useState();return n.default.useEffect(()=>{l.getInstance().getStrings(s).then(a).catch(()=>{a({})})},[]),e})(`${d()}assets/t9n/common.t9n.${null!=s?s:"en-US"}.json`),_=(s,e)=>{let a=s;return void 0!==e&&void 0!==s&&s.startsWith("$")&&(a=e[s.replace("$","")]),a},u={_widgetLabel:"Analysis",history:"History",result:"Result",viewDetails:"View details",openTool:"Open tool",historyEmptyPlaceholder:"After you run a tool, you can track the status at history.",run:"Run",completeAtTime:"Complete at {time}",canceling:"Canceling...",canceledAtTime:"Canceled at {time}",canceled:"Canceled",jobFailedAtTime:"Failed at {time}",jobFailed:"Failed",provisioningResources:"Provisioning resources...",submitted:"Submitted...",waiting:"Waiting...",running:"Running",cancelLabel:"Cancel analysis",uncancellableLabel:"This tool cannot be canceled.",cancelWarningText:"Are you sure you want to cancel this analysis? Current process will be lost.",keepRunning:"Keep running",cancelAnalysis:"Cancel analysis",jobAlertStatusCancelled:"{toolName} canceled",jobAlertStatusDeleted:"{toolName} deleted",jobAlertStatusFailed:"{toolName} failed",jobAlertStatusSucceededWithWarnings:"{toolName} succeeded with warnings",jobAlertStatusSucceededWithoutWarnings:"{toolName} succeeded",jobAlertStatusTimedOut:"{toolName} timed out",submittedAlertLabel:"{toolName} submitted",parameters:"Parameters",environments:"Environments",context:"Context",spatialReference:"Spatial reference",environmentSettings:"Environment settings",outputCoordinateSystem:"Output coordinate system",processingExtent:"Processing extent",snapRaster:"Snap raster",cellSize:"Cell size",resamplingMethod:"Resampling method",mask:"Mask",sameAsInput:"Same as input (default)",fullExtent:"Full extent (default)",maxOf:"Maximum of inputs",minOf:"Minimum of inputs",asSpecified:"As specified",fromLayer:"From layer",nearest:"Nearest neighbor (for discrete data)",bilinear:"Bilinear interpolation (for continuous data)",cubic:"Cubic convolution (for continuous data)",xmin:"Left (x-min)",xmax:"Right (x-max)",ymin:"Bottom (y-min)",ymax:"Top (y-max)",nowDate:"Now ({dateString})",optimizeTableView:"Optimize table view",genericFailureMessage:"{toolName} failed.",messages:"Messages",startTime:"Start time",endTime:"Completed",creditMessage:"<a href='{docLink}' target='_blank'>Credits consumed</a>",creditsMessageNoLink:"Credits consumed",zeroCreditsMessage:"No credits were consumed for this tool.",warning:"Warning",elapsedTime:"Elapsed time",failedTime:"Failed time: {failedTime}",minutes:"Minutes",hours:"Hours",days:"Days",jobCancelled:"{toolName} canceled.",jobId:"Run ID",checkCreditUsage:"Administrators can check credit usage through the credit status page. <calcite-link target='_blank' href='{url}'>Learn more.</calcite-link>",noAccess:"You do not have permission to access this result.",invalidUrl:"The result no longer exists. Run the analysis again to recreate it.",defaultLayerFailure:"The result cannot be accessed. Run the analysis again to recreate it.",toolInaccessible:"Tool is inaccessible.",_action_setAsAnalysisInput_label:"Set as Analysis input",selectTool:"Select a tool",selectParameter:"Select a parameter",noApplicableParameter:"No applicable parameter",item:"Item",dataType:"Data type",recycleProcessingWorkers:"Recycle interval of processing workers",parallelProcessingFactor:"Parallel processing factor",retryOnFailures:"Number of retries on failures",processorType:"Processor type",automatic:"Automatic",CPU:"CPU",GPU:"GPU",geographicTransformations:"Geographic transformations"};var g=z(28996),y=z.n(g),f=function(s,e){var a={};for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&e.indexOf(t)<0&&(a[t]=s[t]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(t=Object.getOwnPropertySymbols(s);i<t.length;i++)e.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(s,t[i])&&(a[t[i]]=s[t[i]])}return a};const m=s=>{const e=window.SVG,{className:i}=s,r=f(s,["className"]),n=(0,t.classNames)("jimu-icon jimu-icon-component",i);return e?(0,a.jsx)(e,Object.assign({className:n,src:y()},r)):(0,a.jsx)("svg",Object.assign({className:n},r))};var p=function(s,e,a,t){return new(a||(a=Promise))(function(i,r){function n(s){try{l(t.next(s))}catch(s){r(s)}}function o(s){try{l(t.throw(s))}catch(s){r(s)}}function l(s){var e;s.done?i(s.value):(e=s.value,e instanceof a?e:new a(function(s){s(e)})).then(n,o)}l((t=t.apply(s,e||[])).next())})};const h=s=>s.type===t.AllDataSourceTypes.ImageryLayer||s.type===t.AllDataSourceTypes.ImageryTileLayer,v=s=>{var e;return s.type===t.AllDataSourceTypes.FeatureLayer||"feature"===(null===(e=s.layer)||void 0===e?void 0:e.type)},x={width:320,height:280},b={width:320,height:280},j=e=>{var a;const i=t.ReactRedux.useSelector(s=>window.jimuConfig.isBuilder?s.appStateInBuilder.appConfig.utilities:s.appConfig.utilities),r=null===(a=null==e?void 0:e.getLocaleInfo())||void 0===a?void 0:a.locale,o=c(r),l=(s=>{const e=c(s);return n.default.useMemo(()=>e?Object.assign(Object.assign({},e.toolInfo||{}),e.toolInfoKeys||{}):null,[e])})(r);return{getDisplayedToolName:a=>a&&e?a.type===s.Standard?function(s,e,a,t,i){const r=`${i(s)}${t(e)}`;return(null==a?void 0:a[r])||s}(a.toolName,a.analysisEngine,l,e.formatAnalysisEngineSuffix,e.toCamelToolName):function(s,e){var a;if(!s)return"";const t=s.config,{toolDisplayName:i}=t.option||{};if(i)return i;if(t.utility){const{utilityId:s,task:a}=t.utility,i=null==e?void 0:e[s];if(a){const s=i&&i.tasks?i.tasks.find(s=>s.name===a):null;if(s&&s.label)return s.label}else if(i&&i.label)return i.label}return(null===(a=s.config.toolInfo)||void 0===a?void 0:a.displayName)||s.toolName}(a,i):"",getDisplayedParameterName:s=>_(s.label,o)||s.displayName}},w=s=>{const{translate:e,analysisSharedUtils:t,toolList:i,selectedTool:n,onSelectedToolChange:o,validParameters:l,selectedParameter:d,onSelectedParameterChange:c}=s,{getDisplayedToolName:_,getDisplayedParameterName:u}=j(t);return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"mb-1 form-item-label",children:e("selectTool")}),(0,a.jsx)("div",{children:(0,a.jsx)(r.Select,{value:null==n?void 0:n.id,onChange:o,children:i.map(s=>(0,a.jsx)("option",{value:s.id,children:_(s)},s.id))})})]}),n&&(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("div",{className:"mb-1 form-item-label",children:e("selectParameter")}),(0,a.jsxs)("div",{children:[(0,a.jsx)(r.Select,{value:null==d?void 0:d.name,onChange:c,disabled:!l.length,children:l.map(s=>(0,a.jsx)("option",{value:s.name,children:u(s)},s.name))}),!l.length&&(0,a.jsxs)("div",{className:"mt-2 warning-msg",children:[(0,a.jsx)(m,{className:"mr-2",color:"var(--sys-color-warning-dark)"}),e("noApplicableParameter")]})]})]})]})},S=t.css`
  flex-direction: column;
  justify-content: space-between;
  .form-item-label {
    line-height: 18px;
    font-weight: 500;
    color: var(--sys-color-surface-paper-text);
  }
  .warning-msg {
    display: flex;
    align-items: center;
    line-height: 24px;
  }
  .footer{
    text-align: right;
    .btn {
      min-width: 75px;
      font-weight: 500;
    }
  }
`,k=e=>{const{activeRef:n,widgetId:o,dataSet:l,dataLevel:d,version:c,intl:g}=e,{dataSource:y}=l,[f,m]=t.React.useState(b),[j,k]=t.React.useState(!0),P=(()=>{const[s,e]=t.React.useState();return t.React.useEffect(()=>{z.e("vendors-extensions_widgets_arcgis_analysis_node_modules_arcgis_analysis-shared-utils_dist_index_js").then(z.bind(z,67245)).then(s=>{e(s)})},[]),s})(),T=t.React.useMemo(()=>{var s;return(null===(s=null==P?void 0:P.getLocaleInfo())||void 0===s?void 0:s.locale)||""},[P]),R=s=>g.formatMessage({id:s,defaultMessage:Object.assign(Object.assign({},u),t.defaultMessages)[s]});t.React.useEffect(()=>{k(!0),O(null),F(null)},[c,y.id,o]);const A=()=>{k(!1),setTimeout(()=>{(0,t.focusElementInKeyboardMode)(n)},10)},[N,L]=t.React.useState([]);t.React.useEffect(()=>{var e,a,i,r,n;if(!j)return;const l=null!==(a=null===(e=(0,t.getAppStore)().getState())||void 0===e?void 0:e.appStateInBuilder)&&void 0!==a?a:(0,t.getAppStore)().getState(),d=null===(n=null===(r=null===(i=null==l?void 0:l.appConfig)||void 0===i?void 0:i.widgets)||void 0===r?void 0:r[o])||void 0===n?void 0:n.config;Array.isArray(null==d?void 0:d.toolList)&&L(d.toolList.asMutable({deep:!0}).filter(e=>e.type!==s.RasterFunction))},[j]);const[M,O]=t.React.useState(),[C,D]=t.React.useState([]),[I,F]=t.React.useState(),E=t.React.useMemo(()=>{const s=y.getGeometryType(),e=v(y),a=h(y);return C.filter(i=>{if("esriGPParameterDirectionOutput"===i.direction)return!1;if(e&&("GPRecordSet"===i.dataType||"GPMultiValue:GPRecordSet"===i.dataType))return!0;const r=d===t.DataLevel.DataSource&&e||d===t.DataLevel.Records;if(s&&r&&("GPFeatureRecordSetLayer"===i.dataType||"GPMultiValue:GPFeatureRecordSetLayer"===i.dataType)){const e=(s=>{var e;const{filter:a,defaultValue:t}=s;if("featureClass"===(null==a?void 0:a.type)&&(null===(e=null==a?void 0:a.list)||void 0===e?void 0:e.length))return a.list;if(Array.isArray(t))return t.filter(s=>!!s.geometryType).map(s=>s.geometryType);const i=null==t?void 0:t.geometryType;return i?[i]:[]})(i);return!e.length||e.includes(s)}return!(d!==t.DataLevel.DataSource||!a||"GPRasterDataLayer"!==i.dataType&&"GPMultiValue:GPRasterDataLayer"!==i.dataType)})},[d,y,C]);t.hooks.useUpdateEffect(()=>{if(M&&T){if(M.type===s.Standard){const s=`${window.location.protocol}//${window.location.host}${t.urlUtils.getFixedRootPath()}widgets/arcgis/analysis/`,e=`${M.toolName.toLowerCase()}${null==P?void 0:P.formatAnalysisEngineSuffix(M.analysisEngine)}`,a=`${s}dist/assets/arcgis-analysis-assets/assets/tool-json/${e}.tool.json`,i=`${s}dist/assets/arcgis-analysis-assets/assets/tool-ui-json/${e}.tool.ui.json`,r=`${s}dist/assets/arcgis-analysis-assets/assets/t9n/${e}/${e}.t9n.${T}.json`;Promise.all([fetch(a).then(s=>s.json()),fetch(i).then(s=>s.json()),fetch(r).then(s=>s.json())]).then(([s,e,a])=>{var t;const i=s.parameters,r=e.UIparameters.map(s=>s.UIparameters||[]).flat(),n=null===(t=i.filter(s=>"esriGPParameterDirectionOutput"!==s.direction))||void 0===t?void 0:t.map(s=>{const e=r.find(e=>e.name===s.name),t=Object.assign(Object.assign({},e),s),i=_(t.label,a);return i&&(t.label=i),t});D(n)})}else M.type===s.Custom&&D(M.config.toolInfo.parameters);F(null)}},[M,T]);const $=(s,e)=>{const a=s.dataType.startsWith("GPMultiValue");let t=Object.assign({},e);return"GPRasterDataLayer"!==s.dataType&&"GPMultiValue:GPRasterDataLayer"!==s.dataType||(t.inputType="layer"),a&&(t=[t]),t},G=(s,e,a)=>{if(s.domain)return s.domain;const t=null==e?void 0:e.getFieldCodedValueList(null==s?void 0:s.name);if(!(null==t?void 0:t.length))return;const i=a.map(e=>e.getFieldValue(s.jimuName||s.name));return{codedValues:t.filter(s=>i.includes(s.value)).map(s=>({code:s.value,name:s.label})),type:"codedValue"}};return(0,a.jsx)(r.FloatingPanel,{open:j,headerTitle:R("_action_setAsAnalysisInput_label"),onHeaderClose:A,minSize:x,onResize:s=>{m(s)},dragBounds:"body",defaultSize:f,reference:n,toggle:(s,e)=>{"clickOutside"!==e&&A()},children:(0,a.jsxs)("div",{className:"h-100 p-4 d-flex",css:S,children:[P&&(0,a.jsx)(w,{translate:R,analysisSharedUtils:P,toolList:N,selectedTool:M,onSelectedToolChange:s=>{const e=N.find(e=>e.id===s.target.value);O(e)},validParameters:E,selectedParameter:I,onSelectedParameterChange:s=>{const e=E.find(e=>e.name===s.target.value);F(e)}}),(0,a.jsxs)("div",{className:"footer",children:[(0,a.jsx)(r.Button,{type:"primary",disabled:!M||!I,onClick:()=>p(void 0,void 0,void 0,function*(){var s,e,a,r,n,c,_,u;const{records:g,fields:f,name:m}=l,p=!!y.url,h=d===t.DataLevel.DataSource,v=null===(s=y.getDataSourceJson())||void 0===s?void 0:s.isOutputFromWidget,x=t.MutableStoreManager.getInstance().readStateValue(o,"input")||{};let b;const j=y;if(h&&p&&!v){const{url:s}=j;b={url:s};const t=null===(a=null===(e=j.getCurrentQueryParams)||void 0===e?void 0:e.call(j))||void 0===a?void 0:a.where;t&&(b.filter=t)}else if(h)try{const s=yield j.createJSAPILayerByDataSource();b=yield P.getGPFeatureRecordSetLayerValue(s),p&&v&&(b.title=m)}catch(s){console.error("create feature set error",s)}else try{const s=y.getSchema(),e=(null==f?void 0:f.length)?f:Object.keys(null==s?void 0:s.fields)||[],a=y.getGeometryType(),o=null===(n=(r=y).getLayerDefinition)||void 0===n?void 0:n.call(r),l={name:`${s.label||y.getLabel()}${d===t.DataLevel.Records?" - Selection":""}`,type:a?"Feature Layer":"Table",geometryType:a,fields:e.map(e=>{var a,t,i;return((s,e,a)=>({name:s.name,type:s.esriType,alias:s.alias,format:s.format,domain:G(s,e,a)}))(Object.assign(Object.assign({},(null===(a=s.fields[e])||void 0===a?void 0:a.asMutable({deep:!0}))||{}),(null===(i=null===(t=null==o?void 0:o.fields)||void 0===t?void 0:t.find)||void 0===i?void 0:i.call(t,s=>s.name===e))||{}),y,g)}),objectIdField:s.idField},p=yield i.featureUtils.convertDataRecordSetToFeatureSet({dataSource:y,records:g,fields:l.fields.map(s=>s.name),name:m});l.spatialReference=null===(c=p.spatialReference)||void 0===c?void 0:c.toJSON();const h=null===(u=(_=y).getCurrentQueryParams)||void 0===u?void 0:u.call(_);(null==h?void 0:h.where)&&(l.definitionExpression=h.where,l.defaultVisibility=!0),b={layerDefinition:l,featureSet:p.toJSON()}}catch(s){console.error("create feature set error",s)}t.MutableStoreManager.getInstance().updateStateValue(o,"toolId",M.id),t.MutableStoreManager.getInstance().updateStateValue(o,"input",Object.assign(Object.assign({},x),{[I.name]:$(I,b)})),A()}),children:R("ok")}),(0,a.jsx)(r.Button,{className:"ml-2",onClick:A,children:R("cancel")})]})]})})};var P=function(s,e,a,t){return new(a||(a=Promise))(function(i,r){function n(s){try{l(t.next(s))}catch(s){r(s)}}function o(s){try{l(t.throw(s))}catch(s){r(s)}}function l(s){var e;s.done?i(s.value):(e=s.value,e instanceof a?e:new a(function(s){s(e)})).then(n,o)}l((t=t.apply(s,e||[])).next())})};class T extends t.AbstractDataAction{constructor(){super(...arguments),this.supportProviderWidget=!0}isSupported(s,e){return P(this,void 0,void 0,function*(){if(s.length>1)return!1;const a=s[0];if(h(a.dataSource))return!0;if(e===t.DataLevel.DataSource)return v(a.dataSource);const{dataSource:r,records:n,fields:o,name:l}=a;try{if((yield i.featureUtils.convertDataRecordSetToFeatureSet({dataSource:r,records:n,fields:o,name:l})).features.length)return!0}catch(s){return!1}})}onExecute(s,e){const t=s[0];return this._version||(this._version=0,this._versionPrefix=Date.now()),Promise.resolve((0,a.jsx)(k,{activeRef:document.querySelector(".active-data-action-item"),widgetId:this.widgetId,dataSet:t,dataLevel:e,version:`${this._versionPrefix}_${this._version++}`,intl:this.intl}))}}})(),J})())}}});