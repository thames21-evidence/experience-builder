System.register(["jimu-core/emotion","jimu-core","jimu-for-builder","jimu-ui","jimu-ui/advanced/setting-components","jimu-layouts/layout-runtime"],function(e,t){var a={},s={},i={},n={},l={},r={};return{setters:[function(e){a.jsx=e.jsx,a.jsxs=e.jsxs},function(e){s.LayoutItemType=e.LayoutItemType,s.LayoutType=e.LayoutType,s.React=e.React,s.classNames=e.classNames,s.css=e.css,s.defaultMessages=e.defaultMessages,s.hooks=e.hooks},function(e){i.getAppConfigAction=e.getAppConfigAction},function(e){n.Alert=e.Alert,n.Button=e.Button,n.Checkbox=e.Checkbox,n.Icon=e.Icon,n.Label=e.Label,n.Select=e.Select,n.Switch=e.Switch,n.defaultMessages=e.defaultMessages},function(e){l.MapWidgetSelector=e.MapWidgetSelector,l.SettingRow=e.SettingRow,l.SettingSection=e.SettingSection},function(e){r.LayoutItemSizeModes=e.LayoutItemSizeModes,r.searchUtils=e.searchUtils}],execute:function(){e((()=>{var e={4108:e=>{"use strict";e.exports=i},14321:e=>{"use strict";e.exports=n},31027:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M12 6.5c0 .527-.074 1.036-.212 1.518l.912.438a6.5 6.5 0 1 0-6.586 4.533l-.077-1.008A5.5 5.5 0 1 1 12 6.5m-9 0a3.5 3.5 0 0 0 2.88 3.445L5.8 8.901a2.501 2.501 0 1 1 3.194-2.224l.949.456A3.5 3.5 0 1 0 3 6.5M15.5 11l-5 1-3 4-1-9.5zm-5.57.094-1.702 2.269-.542-5.152 4.76 2.38z" clip-rule="evenodd"></path></svg>'},41496:e=>{"use strict";e.exports=r},49579:e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGwAAABICAYAAAATWxDtAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJdSURBVHgB7dlNa+JAHMfx/3Zb2kJbFBQU9KCg6FFBDx59ZbtvzBfgxYMHFfEBFBQUFBV8QNztP1BBN8YkPmyV7+fmOJPM+EtmxkQEAAAAAAAAAAAAAAAAAAAAwPf341iFRCLxR3A11WrVMpMHwU0hsBtDYDfmUVwKBAISj8fl8dH6EIvFQprNpvT7/bO2D4VC0u12d8r0WMFg8Ogxz2G9XstgMDD6Z0b7EA6Hxev1isfjMcqm06nR516vJ265vsOi0aitH+bl5cUI5tztzepls1l5e3uTa9DzpNNp0zF89SUSiWzDUu/v75JMJiWXyxl13HB9KTo54aFBndJ+n9/vl9FoJJVKRa5Ff3y9ozudzk65Bmk1Pv1O6xSLReNOdeJu1jAN9dD0dCl6vv2LSQO0czFqHZ3Wnbr8ZP+f5PN5catQKIhbum7Zpetbu90WJ+42sHOKxWLbIHT6q9frB+s6WUM1MKcIzAYN6GvzYBXWNRCYTeVy2Va98Xi8szO0ott8p+42sFPWITN2NzS6U7Ub2P7u0o672SXq9tjtfxu39Hz723INYT6fH22rdfYfBtjh+g7Tjtp9omA2gFPb79OnB5lMxvhvdI3tvYald1Kr1dop13GVSiVJpVLy+vpq2lbHo3Xc+Hmsgs/n+2VWvlwujR3R09OTZXsdQKPRkNlsdtb2Hx8fMplMtp83m40Mh0PjeA8Pl5849KKo1WqyWq3++U77rI+gNBgN9vn52SjX6VIvrM9XKKbt1OcYfosF3od9M7wPuzMEdmMIDAAAAAAAAAAAAAAAAAAAAADO7i8CkeMWEeT35gAAAABJRU5ErkJggg=="},67386:e=>{"use strict";e.exports=a},79244:e=>{"use strict";e.exports=s},79298:e=>{"use strict";e.exports=l},79702:(e,t,a)=>{var s={"./classic.png":96130,"./toolbar.png":49579};function i(e){var t=n(e);return a(t)}function n(e){if(!a.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}i.keys=function(){return Object.keys(s)},i.resolve=n,e.exports=i,i.id=79702},96130:e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGwAAABICAYAAAATWxDtAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFASURBVHgB7dk9boNAFADhl8iFj+DClQvEOTg450AU0FBwAyiQEpE6wmjBP2Pmq3mytKNd22yEJEmSJOmZvu49kOf5T+hpqqpabPIdQjEYjMFgDAZjMJhTJLhcLpFlWZxOy+PjOEbTNNH3/a7zR5a0w263293Fnp3P578we88fWVKweSHX+i/M1vkj8zsMxmAwBoMxGIzBYAwGYzCYpGDTNK1+dhiG3eePLClYXderFnIO07bt7vNH5o3zm/HG+cMYDMZgMAaDMRhM0mXT9XoNbdN1XaRICpb6YdrOIxHGYDAGgzEYjMFgDAZjMBiDwRgMJulNR1EU8QhlWYaWucNgDAaTdCR6dL2OOwzGYDAGgzEYjMFg3uqP8yN82i9adxiMwWAMBmMwGIPB+C4Rxh0GYzAYg8EYDMZgkiRJkiQt+AWTS06XiGZauQAAAABJRU5ErkJggg=="}},t={};function o(a){var s=t[a];if(void 0!==s)return s.exports;var i=t[a]={exports:{}};return e[a](i,i.exports,o),i.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var a in t)o.o(t,a)&&!o.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.p="";var c={};return o.p=window.jimuConfig.baseUrl,(()=>{"use strict";o.r(c),o.d(c,{__set_webpack_public_path__:()=>h,default:()=>v});var e=o(67386),t=o(79244),a=o(4108),s=o(14321),i=o(79298),n=o(31027),l=o.n(n),r=function(e,t){var a={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(a[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(a[s[i]]=e[s[i]])}return a};const u=a=>{const s=window.SVG,{className:i}=a,n=r(a,["className"]),o=(0,t.classNames)("jimu-icon jimu-icon-component",i);return s?(0,e.jsx)(s,Object.assign({className:o,src:l()},n)):(0,e.jsx)("svg",Object.assign({className:o},n))};var d;!function(e){e.Classic="CLASSIC",e.Toolbar="TOOLBAR"}(d||(d={}));const A=[{key:"unitsLabelMetric",value:"metric"},{key:"unitsLabelImperial",value:"imperial"}],g=[{key:"unitsInches",value:"inches"},{key:"unitsLabelFeet",value:"feet"},{key:"unitsLabelYards",value:"yards"},{key:"unitsLabelMiles",value:"miles"},{key:"unitsLabelNauticalMiles",value:"nautical-miles"},{key:"unitsLabelFeetUS",value:"us-feet"},{key:"unitsLabelMeters",value:"meters"},{key:"unitsLabelKilometers",value:"kilometers"}],p=[{key:"unitsLabelSquareInches",value:"square-inches"},{key:"unitsLabelSquareFeet",value:"square-feet"},{key:"unitsLabelSquareYards",value:"square-yards"},{key:"unitsLabelSquareMiles",value:"square-miles"},{key:"unitsLabelSquareNauticalMiles",value:"square-nautical-miles"},{key:"unitsLabelSquareFeetUS",value:"square-us-feet"},{key:"unitsLabelSquareMeters",value:"square-meters"},{key:"unitsLabelSquareKilometers",value:"square-kilometers"},{key:"unitsLabelAcres",value:"acres"},{key:"unitsLabelAres",value:"ares"},{key:"unitsLabelHectares",value:"hectares"}],m={distance:"Distance",area:"Area",atLeastOne:"At least one tool should be selected",toolbar:"Toolbar",disableSnapping:"Disable snapping in 2D map"};var b=o(41496);const y=t.css`
.placeholder-container {
  height: calc(100% - 100px);
  font-weight: 500;
  color: var(--sys-color-surface-paper-hint);
  .placeholder-hint {
    font-size: 14px;
    max-width: 160px;
  }
}
.arrangement {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: var(--sys-spacing-3);
  .arrangement-item {
    min-width: 0;
    .arrangement-btn {
      padding: 0;
      overflow: visible;
      min-width: 0;
      margin-bottom: var(--sys-spacing-2);
      .arrangement-img {
        width: 100%;
        height: auto;
        margin-right: 0;
        background: var(--sys-color-action-pressed);
      }
      .arrangement-img.active {
        outline: 2px solid var(--sys-color-primary-main);
      }
    }
  }
}
`,v=n=>{const{id:l,onSettingChange:r,config:c,useMapWidgetIds:v}=n,{enableDistance:h=!0,defaultDistanceUnit:x="metric",enableArea:f=!0,defaultAreaUnit:S="metric",disableSnapping:j=!1,arrangement:M=d.Classic}=c,w=(null==v?void 0:v.length)>0,k=[...A,...g],L=[...A,...p],N=[{key:"classic",value:d.Classic},{key:"toolbar",value:d.Toolbar}],I=t.hooks.useTranslation(s.defaultMessages,t.defaultMessages,m);return(0,e.jsxs)("div",{className:"widget-setting-measurement w-100 h-100",css:y,children:[(0,e.jsx)(i.SettingSection,{title:I("selectMapWidget"),children:(0,e.jsx)(i.SettingRow,{children:(0,e.jsx)(i.MapWidgetSelector,{onSelect:e=>{r({id:l,useMapWidgetIds:e})},useMapWidgetIds:v,"aria-describedby":"measurement-blank-msg"})})}),!w&&(0,e.jsx)("div",{className:"d-flex justify-content-center align-items-center placeholder-container",children:(0,e.jsxs)("div",{className:"text-center",children:[(0,e.jsx)(u,{size:48,className:"d-inline-block placeholder-icon mb-2"}),(0,e.jsx)("p",{id:"measurement-blank-msg",className:"placeholder-hint",children:I("selectMapHint")})]})}),w&&(0,e.jsxs)(t.React.Fragment,{children:[(0,e.jsxs)(i.SettingSection,{title:I("tools"),role:"group","aria-label":I("tools"),children:[(0,e.jsx)(i.SettingRow,{children:(0,e.jsxs)(s.Label,{children:[(0,e.jsx)(s.Checkbox,{className:"mr-2",checked:h,onChange:(e,t)=>{r({id:l,config:c.set("enableDistance",t)})}}),I("distance")]})}),h&&(0,e.jsx)(i.SettingRow,{label:I("defaultUnit"),truncateLabel:!0,children:(0,e.jsx)(s.Select,{size:"sm",value:x,className:"w-50",onChange:e=>{var t;r({id:l,config:c.set("defaultDistanceUnit",null===(t=null==e?void 0:e.target)||void 0===t?void 0:t.value)})},"aria-label":I("distance")+" "+I("defaultUnit"),children:k.map(t=>(0,e.jsx)("option",{value:t.value,children:I(t.key)},t.key))})}),(0,e.jsx)(i.SettingRow,{children:(0,e.jsxs)(s.Label,{children:[(0,e.jsx)(s.Checkbox,{className:"mr-2",checked:f,onChange:(e,t)=>{r({id:l,config:c.set("enableArea",t)})}}),I("area")]})}),f&&(0,e.jsx)(i.SettingRow,{label:I("defaultUnit"),truncateLabel:!0,children:(0,e.jsx)(s.Select,{size:"sm",value:S,className:"w-50",onChange:e=>{var t;r({id:l,config:c.set("defaultAreaUnit",null===(t=null==e?void 0:e.target)||void 0===t?void 0:t.value)})},"aria-label":I("area")+" "+I("defaultUnit"),children:L.map(t=>(0,e.jsx)("option",{value:t.value,children:I(t.key)},t.key))})}),(f||h)&&(0,e.jsx)(i.SettingRow,{tag:"label",label:I("disableSnapping"),truncateLabel:!0,children:(0,e.jsx)(s.Switch,{checked:j,"aria-label":I("disableSnapping"),onChange:(e,t)=>{r({id:l,config:c.set("disableSnapping",t)})}})}),!h&&!f&&(0,e.jsx)(i.SettingRow,{children:(0,e.jsx)(s.Alert,{form:"basic",type:"warning",className:"w-100",open:!0,text:I("atLeastOne")})})]}),(0,e.jsx)(i.SettingSection,{title:I("arrangement"),role:"radiogroup","aria-label":I("arrangement"),children:(0,e.jsx)(i.SettingRow,{className:"arrangement",children:N.map(i=>(0,e.jsxs)("div",{className:"arrangement-item",children:[(0,e.jsx)(s.Button,{type:"tertiary",disableRipple:!0,title:I(i.key),className:"arrangement-btn",role:"radio","aria-checked":M===i.value,onClick:()=>{(e=>{const s=(0,a.getAppConfigAction)();s.editWidget({id:l,config:c.set("arrangement",e)}),b.searchUtils.getLayoutInfosHoldContent(s.appConfig,t.LayoutItemType.Widget,l).forEach(a=>{s.appConfig.layouts[a.layoutId].type===t.LayoutType.FixedLayout?e===d.Toolbar?s.editLayoutItemProperty(a,"setting.autoProps.width",b.LayoutItemSizeModes.Auto).editLayoutItemProperty(a,"setting.autoProps.height",b.LayoutItemSizeModes.Auto).editWidgetProperty(l,"offPanel",!0).exec():e===d.Classic&&s.editLayoutItemProperty(a,"setting.autoProps.width",b.LayoutItemSizeModes.Custom).editLayoutItemProperty(a,"setting.autoProps.height",b.LayoutItemSizeModes.Custom).editLayoutItemProperty(a,"bbox.width","300px").editLayoutItemProperty(a,"bbox.height","420px").editWidgetProperty(l,"offPanel",!1).exec():s.exec()})})(i.value)},children:(0,e.jsx)(s.Icon,{autoFlip:!0,icon:o(79702)(`./${i.key}.png`),className:(0,t.classNames)("arrangement-img",{active:M===i.value})})}),(0,e.jsx)("div",{className:"text-truncate text-center",title:I(i.key),children:I(i.key)})]},i.value))})})]})]})};function h(e){o.p=e}})(),c})())}}});