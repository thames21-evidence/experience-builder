System.register(["jimu-core/emotion","jimu-core","jimu-arcgis","jimu-theme","jimu-ui","esri/core/Collection","esri/widgets/BuildingExplorer","esri/widgets/BuildingExplorer/BuildingExplorerViewModel","esri/core/reactiveUtils"],function(e,t){var n={},r={},o={},i={},a={},l={},s={},c={},u={};return{setters:[function(e){n.jsx=e.jsx,n.jsxs=e.jsxs},function(e){r.AllDataSourceTypes=e.AllDataSourceTypes,r.React=e.React,r.classNames=e.classNames,r.css=e.css,r.hooks=e.hooks,r.lodash=e.lodash},function(e){o.JimuMapViewComponent=e.JimuMapViewComponent,o.zoomToUtils=e.zoomToUtils},function(e){i.useTheme=e.useTheme},function(e){a.Dropdown=e.Dropdown,a.DropdownButton=e.DropdownButton,a.DropdownItem=e.DropdownItem,a.DropdownMenu=e.DropdownMenu,a.Paper=e.Paper,a.Tooltip=e.Tooltip,a.WidgetPlaceholder=e.WidgetPlaceholder,a.defaultMessages=e.defaultMessages},function(e){l.default=e.default},function(e){s.default=e.default},function(e){c.default=e.default},function(e){u.watch=e.watch,u.whenOnce=e.whenOnce}],execute:function(){e((()=>{var e={1888:e=>{"use strict";e.exports=i},14321:e=>{"use strict";e.exports=a},23321:e=>{"use strict";e.exports=l},28996:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M8 2.125 14.334 14H1.667zm-.882-.47a1 1 0 0 1 1.765 0l6.333 11.874A1 1 0 0 1 14.334 15H1.667a1 1 0 0 1-.882-1.47zM8 4.874a.905.905 0 0 0-.9.995l.35 3.507a.552.552 0 0 0 1.1 0L8.9 5.87a.905.905 0 0 0-.9-.995m1 7a1 1 0 1 1-2 0 1 1 0 0 1 2 0" clip-rule="evenodd"></path></svg>'},40280:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20"><path fill="#000" fill-rule="evenodd" d="M7.469 1.66a1 1 0 0 0-1.003.115L.7 6.1a.5.5 0 1 0 .6.8l5.299-3.974A1 1 0 0 1 7.6 2.81L15.3 5.957a.5.5 0 1 0 .402-.915zM1.5 10.83l4.959-3.815V18.16L1.5 17.327zm5.376 8.413q.089.015.173-.001l12.364-1.999a.5.5 0 0 0 .42-.493v-6.167a.5.5 0 0 0-.326-.469L7.132 5.531a.5.5 0 0 0-.479.073L.695 10.187a.5.5 0 0 0-.195.396v7.167a.5.5 0 0 0 .417.493zm3.915-8.774a.5.5 0 0 1 .45-.069l4.125 1.375a.5.5 0 0 1 .342.475v4.58l3.126-.506v-5.393L7.459 6.718v11.444l3.124-.505v-6.782a.5.5 0 0 1 .208-.406m3.917 2.141v4.38l-3.125.506v-5.927z" clip-rule="evenodd"></path></svg>'},45508:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" d="M8 5.5a1 1 0 1 0 0-2 1 1 0 0 0 0 2M6.5 7.5A.5.5 0 0 1 7 7h1.5v4.5h1a.5.5 0 0 1 0 1h-3a.5.5 0 0 1 0-1h1V8H7a.5.5 0 0 1-.5-.5"></path><path fill="#000" fill-rule="evenodd" d="M8 16A8 8 0 1 1 8 0a8 8 0 0 1 0 16m0-1A7 7 0 1 0 8 1a7 7 0 0 0 0 14" clip-rule="evenodd"></path></svg>'},62243:e=>{"use strict";e.exports=u},62686:e=>{"use strict";e.exports=o},63990:e=>{"use strict";e.exports=c},67386:e=>{"use strict";e.exports=n},75889:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20"><path fill="#000" fill-rule="evenodd" d="M7.469 1.66a1 1 0 0 0-1.003.115L.7 6.1a.5.5 0 1 0 .6.8l5.299-3.974A1 1 0 0 1 7.6 2.81L15.3 5.957a.5.5 0 1 0 .402-.915zM1.5 10.83l4.959-3.815V18.16L1.5 17.327zm5.376 8.413q.089.015.173-.001l12.364-1.999a.5.5 0 0 0 .42-.493v-6.167a.5.5 0 0 0-.326-.469L7.132 5.531a.5.5 0 0 0-.479.073L.695 10.187a.5.5 0 0 0-.195.396v7.167a.5.5 0 0 0 .417.493zm3.915-8.774a.5.5 0 0 1 .45-.069l4.125 1.375a.5.5 0 0 1 .342.475v4.58l3.126-.506v-5.393L7.459 6.718v11.444l3.124-.505v-6.782a.5.5 0 0 1 .208-.406m3.917 2.141v4.38l-3.125.506v-5.927z" clip-rule="evenodd"></path></svg>'},79244:e=>{"use strict";e.exports=r},83214:e=>{"use strict";e.exports=s}},t={};function d(n){var r=t[n];if(void 0!==r)return r.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,d),o.exports}d.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return d.d(t,{a:t}),t},d.d=(e,t)=>{for(var n in t)d.o(t,n)&&!d.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},d.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),d.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},d.p="";var v={};return d.p=window.jimuConfig.baseUrl,(()=>{"use strict";d.r(v),d.d(v,{__set_webpack_public_path__:()=>zn,default:()=>En});var e=d(67386),t=d(79244),n=d(62686),r=d(1888);const o=function(){this.__data__=[],this.size=0};const i=function(e,t){return e===t||e!=e&&t!=t};const a=function(e,t){for(var n=e.length;n--;)if(i(e[n][0],t))return n;return-1};var l=Array.prototype.splice;const s=function(e){var t=this.__data__,n=a(t,e);return!(n<0)&&(n==t.length-1?t.pop():l.call(t,n,1),--this.size,!0)};const c=function(e){var t=this.__data__,n=a(t,e);return n<0?void 0:t[n][1]};const u=function(e){return a(this.__data__,e)>-1};const p=function(e,t){var n=this.__data__,r=a(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function f(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}f.prototype.clear=o,f.prototype.delete=s,f.prototype.get=c,f.prototype.has=u,f.prototype.set=p;const g=f;const h=function(){this.__data__=new g,this.size=0};const y=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};const b=function(e){return this.__data__.get(e)};const m=function(e){return this.__data__.has(e)};const w="object"==typeof global&&global&&global.Object===Object&&global;var j="object"==typeof self&&self&&self.Object===Object&&self;const _=w||j||Function("return this")();const x=_.Symbol;var M=Object.prototype,O=M.hasOwnProperty,V=M.toString,L=x?x.toStringTag:void 0;const S=function(e){var t=O.call(e,L),n=e[L];try{e[L]=void 0;var r=!0}catch(e){}var o=V.call(e);return r&&(t?e[L]=n:delete e[L]),o};var R=Object.prototype.toString;const k=function(e){return R.call(e)};var C=x?x.toStringTag:void 0;const I=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":C&&C in Object(e)?S(e):k(e)};const E=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};const z=function(e){if(!E(e))return!1;var t=I(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t};const N=_["__core-js_shared__"];var P,T=(P=/[^.]+$/.exec(N&&N.keys&&N.keys.IE_PROTO||""))?"Symbol(src)_1."+P:"";const A=function(e){return!!T&&T in e};var D=Function.prototype.toString;const B=function(e){if(null!=e){try{return D.call(e)}catch(e){}try{return e+""}catch(e){}}return""};var F=/^\[object .+?Constructor\]$/,J=Function.prototype,U=Object.prototype,W=J.toString,$=U.hasOwnProperty,H=RegExp("^"+W.call($).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const G=function(e){return!(!E(e)||A(e))&&(z(e)?H:F).test(B(e))};const q=function(e,t){return null==e?void 0:e[t]};const Q=function(e,t){var n=q(e,t);return G(n)?n:void 0};const K=Q(_,"Map");const X=Q(Object,"create");const Y=function(){this.__data__=X?X(null):{},this.size=0};const Z=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t};var ee=Object.prototype.hasOwnProperty;const te=function(e){var t=this.__data__;if(X){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return ee.call(t,e)?t[e]:void 0};var ne=Object.prototype.hasOwnProperty;const re=function(e){var t=this.__data__;return X?void 0!==t[e]:ne.call(t,e)};const oe=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=X&&void 0===t?"__lodash_hash_undefined__":t,this};function ie(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ie.prototype.clear=Y,ie.prototype.delete=Z,ie.prototype.get=te,ie.prototype.has=re,ie.prototype.set=oe;const ae=ie;const le=function(){this.size=0,this.__data__={hash:new ae,map:new(K||g),string:new ae}};const se=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};const ce=function(e,t){var n=e.__data__;return se(t)?n["string"==typeof t?"string":"hash"]:n.map};const ue=function(e){var t=ce(this,e).delete(e);return this.size-=t?1:0,t};const de=function(e){return ce(this,e).get(e)};const ve=function(e){return ce(this,e).has(e)};const pe=function(e,t){var n=ce(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function fe(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}fe.prototype.clear=le,fe.prototype.delete=ue,fe.prototype.get=de,fe.prototype.has=ve,fe.prototype.set=pe;const ge=fe;const he=function(e,t){var n=this.__data__;if(n instanceof g){var r=n.__data__;if(!K||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new ge(r)}return n.set(e,t),this.size=n.size,this};function ye(e){var t=this.__data__=new g(e);this.size=t.size}ye.prototype.clear=h,ye.prototype.delete=y,ye.prototype.get=b,ye.prototype.has=m,ye.prototype.set=he;const be=ye;const me=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this};const we=function(e){return this.__data__.has(e)};function je(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new ge;++t<n;)this.add(e[t])}je.prototype.add=je.prototype.push=me,je.prototype.has=we;const _e=je;const xe=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1};const Me=function(e,t){return e.has(t)};const Oe=function(e,t,n,r,o,i){var a=1&n,l=e.length,s=t.length;if(l!=s&&!(a&&s>l))return!1;var c=i.get(e),u=i.get(t);if(c&&u)return c==t&&u==e;var d=-1,v=!0,p=2&n?new _e:void 0;for(i.set(e,t),i.set(t,e);++d<l;){var f=e[d],g=t[d];if(r)var h=a?r(g,f,d,t,e,i):r(f,g,d,e,t,i);if(void 0!==h){if(h)continue;v=!1;break}if(p){if(!xe(t,function(e,t){if(!Me(p,t)&&(f===e||o(f,e,n,r,i)))return p.push(t)})){v=!1;break}}else if(f!==g&&!o(f,g,n,r,i)){v=!1;break}}return i.delete(e),i.delete(t),v};const Ve=_.Uint8Array;const Le=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n};const Se=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n};var Re=x?x.prototype:void 0,ke=Re?Re.valueOf:void 0;const Ce=function(e,t,n,r,o,a,l){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!a(new Ve(e),new Ve(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=Le;case"[object Set]":var c=1&r;if(s||(s=Se),e.size!=t.size&&!c)return!1;var u=l.get(e);if(u)return u==t;r|=2,l.set(e,t);var d=Oe(s(e),s(t),r,o,a,l);return l.delete(e),d;case"[object Symbol]":if(ke)return ke.call(e)==ke.call(t)}return!1};const Ie=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e};const Ee=Array.isArray;const ze=function(e,t,n){var r=t(e);return Ee(e)?r:Ie(r,n(e))};const Ne=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i};const Pe=function(){return[]};var Te=Object.prototype.propertyIsEnumerable,Ae=Object.getOwnPropertySymbols;const De=Ae?function(e){return null==e?[]:(e=Object(e),Ne(Ae(e),function(t){return Te.call(e,t)}))}:Pe;const Be=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r};const Fe=function(e){return null!=e&&"object"==typeof e};const Je=function(e){return Fe(e)&&"[object Arguments]"==I(e)};var Ue=Object.prototype,We=Ue.hasOwnProperty,$e=Ue.propertyIsEnumerable,He=Je(function(){return arguments}())?Je:function(e){return Fe(e)&&We.call(e,"callee")&&!$e.call(e,"callee")};const Ge=He;const qe=function(){return!1};var Qe="object"==typeof exports&&exports&&!exports.nodeType&&exports,Ke=Qe&&"object"==typeof module&&module&&!module.nodeType&&module,Xe=Ke&&Ke.exports===Qe?_.Buffer:void 0;const Ye=(Xe?Xe.isBuffer:void 0)||qe;var Ze=/^(?:0|[1-9]\d*)$/;const et=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&Ze.test(e))&&e>-1&&e%1==0&&e<t};const tt=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991};var nt={};nt["[object Float32Array]"]=nt["[object Float64Array]"]=nt["[object Int8Array]"]=nt["[object Int16Array]"]=nt["[object Int32Array]"]=nt["[object Uint8Array]"]=nt["[object Uint8ClampedArray]"]=nt["[object Uint16Array]"]=nt["[object Uint32Array]"]=!0,nt["[object Arguments]"]=nt["[object Array]"]=nt["[object ArrayBuffer]"]=nt["[object Boolean]"]=nt["[object DataView]"]=nt["[object Date]"]=nt["[object Error]"]=nt["[object Function]"]=nt["[object Map]"]=nt["[object Number]"]=nt["[object Object]"]=nt["[object RegExp]"]=nt["[object Set]"]=nt["[object String]"]=nt["[object WeakMap]"]=!1;const rt=function(e){return Fe(e)&&tt(e.length)&&!!nt[I(e)]};const ot=function(e){return function(t){return e(t)}};var it="object"==typeof exports&&exports&&!exports.nodeType&&exports,at=it&&"object"==typeof module&&module&&!module.nodeType&&module,lt=at&&at.exports===it&&w.process,st=function(){try{var e=at&&at.require&&at.require("util").types;return e||lt&&lt.binding&&lt.binding("util")}catch(e){}}();var ct=st&&st.isTypedArray;const ut=ct?ot(ct):rt;var dt=Object.prototype.hasOwnProperty;const vt=function(e,t){var n=Ee(e),r=!n&&Ge(e),o=!n&&!r&&Ye(e),i=!n&&!r&&!o&&ut(e),a=n||r||o||i,l=a?Be(e.length,String):[],s=l.length;for(var c in e)!t&&!dt.call(e,c)||a&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||et(c,s))||l.push(c);return l};var pt=Object.prototype;const ft=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||pt)};const gt=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object);var ht=Object.prototype.hasOwnProperty;const yt=function(e){if(!ft(e))return gt(e);var t=[];for(var n in Object(e))ht.call(e,n)&&"constructor"!=n&&t.push(n);return t};const bt=function(e){return null!=e&&tt(e.length)&&!z(e)};const mt=function(e){return bt(e)?vt(e):yt(e)};const wt=function(e){return ze(e,mt,De)};var jt=Object.prototype.hasOwnProperty;const _t=function(e,t,n,r,o,i){var a=1&n,l=wt(e),s=l.length;if(s!=wt(t).length&&!a)return!1;for(var c=s;c--;){var u=l[c];if(!(a?u in t:jt.call(t,u)))return!1}var d=i.get(e),v=i.get(t);if(d&&v)return d==t&&v==e;var p=!0;i.set(e,t),i.set(t,e);for(var f=a;++c<s;){var g=e[u=l[c]],h=t[u];if(r)var y=a?r(h,g,u,t,e,i):r(g,h,u,e,t,i);if(!(void 0===y?g===h||o(g,h,n,r,i):y)){p=!1;break}f||(f="constructor"==u)}if(p&&!f){var b=e.constructor,m=t.constructor;b==m||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof m&&m instanceof m||(p=!1)}return i.delete(e),i.delete(t),p};const xt=Q(_,"DataView");const Mt=Q(_,"Promise");const Ot=Q(_,"Set");const Vt=Q(_,"WeakMap");var Lt="[object Map]",St="[object Promise]",Rt="[object Set]",kt="[object WeakMap]",Ct="[object DataView]",It=B(xt),Et=B(K),zt=B(Mt),Nt=B(Ot),Pt=B(Vt),Tt=I;(xt&&Tt(new xt(new ArrayBuffer(1)))!=Ct||K&&Tt(new K)!=Lt||Mt&&Tt(Mt.resolve())!=St||Ot&&Tt(new Ot)!=Rt||Vt&&Tt(new Vt)!=kt)&&(Tt=function(e){var t=I(e),n="[object Object]"==t?e.constructor:void 0,r=n?B(n):"";if(r)switch(r){case It:return Ct;case Et:return Lt;case zt:return St;case Nt:return Rt;case Pt:return kt}return t});const At=Tt;var Dt="[object Arguments]",Bt="[object Array]",Ft="[object Object]",Jt=Object.prototype.hasOwnProperty;const Ut=function(e,t,n,r,o,i){var a=Ee(e),l=Ee(t),s=a?Bt:At(e),c=l?Bt:At(t),u=(s=s==Dt?Ft:s)==Ft,d=(c=c==Dt?Ft:c)==Ft,v=s==c;if(v&&Ye(e)){if(!Ye(t))return!1;a=!0,u=!1}if(v&&!u)return i||(i=new be),a||ut(e)?Oe(e,t,n,r,o,i):Ce(e,t,s,n,r,o,i);if(!(1&n)){var p=u&&Jt.call(e,"__wrapped__"),f=d&&Jt.call(t,"__wrapped__");if(p||f){var g=p?e.value():e,h=f?t.value():t;return i||(i=new be),o(g,h,n,r,i)}}return!!v&&(i||(i=new be),_t(e,t,n,r,o,i))};const Wt=function e(t,n,r,o,i){return t===n||(null==t||null==n||!Fe(t)&&!Fe(n)?t!=t&&n!=n:Ut(t,n,r,o,e,i))};const $t=function(e,t){return Wt(e,t)};var Ht=d(14321);const Gt={_widgetLabel:"Building Explorer",select3DScene:"Please select a 3D scene to active this widget",selectLayerToExplore:"Select a layer to explore",noBuildingLayers:"The map does not contain any building scene layers",noTool:"No available tools.",preConfigTool:"Please re-configure the tools to continue.",layersSelected:"{number} layers selected"},qt=t.React.memo(n=>{const r=t.hooks.useTranslation(Gt,Ht.defaultMessages),[o,i]=t.React.useState(!1),[a,l]=t.React.useState(n.defaultValue||null);t.React.useEffect(()=>{l(n.defaultValue)},[n.defaultValue]);const s=e=>{l(e),i(!1),n.onOptionClick(e)};return(0,e.jsx)("div",{className:"single-mode-selector",children:(0,e.jsxs)(Ht.Dropdown,{isOpen:o,toggle:()=>{i(!o)},activeIcon:!0,direction:"down",size:"sm",fluid:!0,children:[(0,e.jsx)(Ht.DropdownButton,{size:"sm",type:"default",children:(()=>{var e;let t="";if(""===a)t=r("selectLayerToExplore");else{const r=n.allVisibleBuildingLayerViews.find(e=>e.id===a);t=null===(e=null==r?void 0:r.layer)||void 0===e?void 0:e.title}return t})()}),(0,e.jsx)(Ht.DropdownMenu,{css:t.css`
      & {
        max-width: 536px;
        overflow: hidden;
      }
    `,children:(()=>{const t=[];if(n.allVisibleBuildingLayerViews&&n.allVisibleBuildingLayerViews.length>0){const n="";t.push((0,e.jsx)(Ht.DropdownItem,{header:!1,active:a===n,onClick:()=>{s(n)},children:r("none")},n))}return n.allVisibleBuildingLayerViews.forEach((n,r)=>{var o;t.push((0,e.jsx)(Ht.DropdownItem,{header:!1,active:a===n.id,onClick:()=>{s(n.id)},children:(0,e.jsx)("div",{className:"text-truncate",children:null===(o=n.layer)||void 0===o?void 0:o.title})},r))}),t})()})]})})});var Qt,Kt=d(23321);function Xt(e){var t;const n=[];return null===(t=null==e?void 0:e.getAllJimuLayerViews())||void 0===t||t.forEach(e=>{"building-scene"===e.type&&n.push(e)}),n}function Yt(e,t){const n=Xt(t),r=new Kt.default;return null==n||n.forEach(t=>{(null==e?void 0:e.includes(t.id))&&r.push(t.layer)}),r}!function(e){e.Single="SINGLE"}(Qt||(Qt={}));const Zt=t.React.memo(r=>{var o,i,a,l,s,c,u;const[d,v]=t.React.useState(null!==(o=r.selectedLayerViewIdsState)&&void 0!==o?o:[]),p=t.React.useRef([]);p.current=d;const[f,g]=t.React.useState([]);t.React.useEffect(()=>{var e,t;g(Xt(r.jimuMapView));const n=e=>{g(Xt(r.jimuMapView))};null===(e=r.jimuMapView)||void 0===e||e.addJimuLayerViewCreatedListener(n);return null===(t=r.jimuMapView)||void 0===t||t.addJimuLayerViewRemovedListener(e=>{g(Xt(r.jimuMapView)),e.id===p.current[0]&&v([""])}),()=>{var e,t;null===(e=r.jimuMapView)||void 0===e||e.removeJimuLayerViewCreatedListener(n),null===(t=r.jimuMapView)||void 0===t||t.removeJimuLayerViewRemovedListener(n)}},[r.jimuMapView]);const h=t.React.useRef(null),y=t.React.useCallback(e=>{var t;let n=!1;return null===h.current&&(n=!0,h.current=new Map),h.current.set(null===(t=null==b?void 0:b.current)||void 0===t?void 0:t.dataSourceId,e),n},[]),b=t.React.useRef(null);b.current=r.jimuMapView;const m=t.React.useCallback(e=>{var t;const o=y(e);if(r.generalConfig.zoomToLayer&&!o){const r=Yt(e,null==b?void 0:b.current),o=null==r?void 0:r.toArray();o&&o.length>0&&n.zoomToUtils.zoomTo(null===(t=null==b?void 0:b.current)||void 0===t?void 0:t.view,o,{})}},[r.generalConfig.zoomToLayer,y]),{onLayerSelectChanged:w}=r;t.React.useEffect(()=>{m(d),w(d)},[d,m,w]),t.React.useEffect(()=>{var e;const t=null===(e=r.mapConfig)||void 0===e?void 0:e.layersOnLoad,n=function(e){return!e||(null==e?void 0:e.length)<=0||!(!e||1!==e.length||""!==e[0])}(t);let o=[];o=n?[]:t.asMutable(),v(o)},[null===(i=r.mapConfig)||void 0===i?void 0:i.layerMode,null===(a=r.mapConfig)||void 0===a?void 0:a.layersOnLoad,null===(l=r.jimuMapView)||void 0===l?void 0:l.dataSourceId]),t.React.useEffect(()=>{var e,t;const n=null===(e=h.current)||void 0===e?void 0:e.get(null===(t=r.jimuMapView)||void 0===t?void 0:t.dataSourceId);n&&n&&v(n)},[null===(s=r.jimuMapView)||void 0===s?void 0:s.dataSourceId]);const j=null!==(u=null===(c=r.mapConfig)||void 0===c?void 0:c.layerMode)&&void 0!==u?u:Qt.Single;return(0,e.jsx)("div",{className:"layer-selector w-100 pt-2 px-2",children:j===Qt.Single&&(0,e.jsx)(qt,{defaultValue:(()=>{var e,t,n;const o=(null===(e=r.mapConfig)||void 0===e?void 0:e.layersOnLoad)&&(null===(t=r.mapConfig)||void 0===t?void 0:t.layersOnLoad[0])||"";return null!==(n=r.selectedLayerViewIdsState&&r.selectedLayerViewIdsState[0])&&void 0!==n?n:o})(),allVisibleBuildingLayerViews:f,onOptionClick:e=>{$t([e],d)&&m(d),v([e])}})})});var en=d(83214),tn=d(63990),nn=d(62243),rn=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function l(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,l)}s((r=r.apply(e,t||[])).next())})};const on=t.lodash.debounce(function(e,n,r){if(n){const n=function(e){const t=new Map;for(const n of e.layers)for(const e of n.filters)for(const r of e.filterBlocks)"solid"===r.filterMode.type&&t.set(n.id,r.filterExpression);return t}(e);if(n.size<=0)return;Yt(r.selectedLayerViewIds,r.jimuMapView).forEach(e=>rn(this,void 0,void 0,function*(){const o=n.get(e.id),i=r.jimuMapView.getJimuLayerViewByAPILayer(e),a=yield null==i?void 0:i.createLayerDataSource();(null==a?void 0:a.isDataSourceSet())&&(yield null==a?void 0:a.childDataSourcesReady()),function(e,n,r){const o=function(e){const t=e.length>1?e.map(e=>`(${e})`).join(" and "):e[0];return{where:t?`${t}`:""}}(n.map(e=>null==e?void 0:e.where)),i=(null==e?void 0:e.isDataSourceSet())&&(null==e?void 0:e.getAllChildDataSources().filter(e=>e.type===t.AllDataSourceTypes.BuildingComponentSubLayer));null==i||i.forEach((e,t)=>{e.updateQueryParams(o,r)})}(a,[{where:o}],r.widgetId)}))}},200);function an(e,t){let n="";return t===Qt.Single?n=e[0]:t===Qt.Multiple&&(n=Qt.Multiple),n}function ln(e,t,n,r){r.widgetStatesRef.current&&!n||(r.widgetStatesRef.current=null,r.widgetStatesRef.current=new Map);let o=function(e){var t;return null===(t=e.widgetStatesRef.current)||void 0===t?void 0:t.get(e.dsID)}(r);o||(o={layerMode:t,caches:new Map},r.widgetStatesRef.current.set(r.dsID,o));const i=an(e,t);let a;a=o.caches.has(i)?o.caches.get(i):{_initLevel:{enable:r.vm.level.enabled,value:r.vm.level.value,allowedValues:r.vm.level.allowedValues},_initPhase:{enable:r.vm.phase.enabled,value:r.vm.phase.value,allowedValues:r.vm.phase.allowedValues}},a=Object.assign(a,{level:{enable:r.vm.level.enabled,value:r.vm.level.value,allowedValues:r.vm.level.allowedValues},phase:{enable:r.vm.phase.enabled,value:r.vm.phase.value,allowedValues:r.vm.phase.allowedValues}}),o.caches.set(i,a)}function sn(e){var t;const n=null===(t=null==e?void 0:e.sublayers)||void 0===t?void 0:t.find(e=>"Overview"===e.modelName);return"building-component"===(null==n?void 0:n.type)?n:null}function cn(e){var t;const n=null===(t=null==e?void 0:e.sublayers)||void 0===t?void 0:t.find(e=>"FullModel"===e.modelName);return"building-group"===(null==n?void 0:n.type)?n:e}function un(e,t,n){n&&!n.isDestroyed()&&(null==e||e.forEach(e=>{let n=!1;"fullModel"===t&&(n=!0);const r=cn(e),o=sn(e);r&&(r.visible=n),o&&(o.visible=!n)}))}var dn;!function(e){e.Init="init",e.SwitchMap="switchMap",e.SettingChange="settingChange",e.LayersChange="layersChange",e.LevelChange="levelChange",e.LevelEnabledOn="levelEnabledOn",e.LevelEnabledOff="levelEnabledOff",e.PhaseChange="phaseChange"}(dn||(dn={}));const vn=e=>{const{onUpdated:n}=e,r=t.React.useRef(null),o=t.React.useRef(null);o.current=e;const i=t.React.useRef(null),a=()=>{var e;null===(e=r.current)||void 0===e||e.when(()=>{var e;!function(e){var t,n;const r=null===(t=e.widgetStatesRef.current)||void 0===t?void 0:t.get(e.dsID);r&&(null===(n=null==r?void 0:r.caches)||void 0===n||n.forEach((e,t,n)=>{e.level=null,e.phase=null}))}({widgetStatesRef:i,dsID:null===(e=o.current.jimuMapView)||void 0===e?void 0:e.dataSourceId})})},l=t.React.useCallback(()=>{var e;a(),null===(e=r.current)||void 0===e||e.when(()=>{var e,t;ln(o.current.selectedLayerViewIds,(null===(e=o.current.mapConfig)||void 0===e?void 0:e.layerMode)||Qt.Single,true,{widgetStatesRef:i,dsID:null===(t=o.current.jimuMapView)||void 0===t?void 0:t.dataSourceId,vm:r.current.viewModel})})},[]),s=e=>{var t,n;ln(o.current.selectedLayerViewIds,(null===(t=o.current.mapConfig)||void 0===t?void 0:t.layerMode)||Qt.Single,!1,{widgetStatesRef:i,dsID:null===(n=o.current.jimuMapView)||void 0===n?void 0:n.dataSourceId,vm:r.current.viewModel})},c=t.React.useCallback(()=>{const e=r.current.viewModel;on(e,o.current.settingConfig.general.applyFilterOnDs,{selectedLayerViewIds:o.current.selectedLayerViewIds,jimuMapView:o.current.jimuMapView,widgetId:o.current.widgetId})},[]),u=e=>{var t,n,r;return{visibleElements:{levels:null===(t=null==e?void 0:e.enableLevel)||void 0===t||t,phases:null===(n=null==e?void 0:e.enablePhase)||void 0===n||n,disciplines:null===(r=null==e?void 0:e.enableCtegories)||void 0===r||r}}},d=t.React.useCallback((e,t)=>{const n=Yt(o.current.selectedLayerViewIds,o.current.jimuMapView);$t(r.current.layers,n)||un(r.current.layers,"overview",o.current.jimuMapView),r.current.layers=n,un(n,"fullModel",o.current.jimuMapView),[dn.SettingChange].includes(t)&&o.current.settingConfig.general.applyFilterOnDs&&c()},[c]),v=t.React.useCallback((e,t)=>{nn.whenOnce(()=>"ready"===e.state).then(()=>{t!==dn.Init&&null!==i.current||(l(),c()),nn.watch(()=>[e.level.state,e.level.value,e.level.enabled,e.level.allowedValues],([e,t,n,r])=>{"ready"===e&&(s(n?dn.LevelEnabledOn:dn.LevelEnabledOff),c())}),nn.watch(()=>[e.phase.state,e.phase.value,e.phase.allowedValues],([e,t,n])=>{"ready"===e&&(s(dn.PhaseChange),c())})})},[c,l]),p=t.React.useCallback((e,t)=>{if(!o.current.jimuMapView)return;let i={container:e,view:o.current.jimuMapView.view,viewModel:null,layers:[]};const a={view:o.current.jimuMapView.view},l=o.current.mapConfig;o.current.mapConfig&&(i=Object.assign(i,u(l))),i.viewModel=new tn.default(a),r.current=new en.default(i);const s=r.current.viewModel;return v(s,t),d(s,t),r.current.when(()=>{n&&n(),d(r.current.viewModel,dn.Init)}),r.current},[n,v,d]);t.React.useEffect(()=>{var e;null===(e=r.current)||void 0===e||e.when(()=>{d(r.current.viewModel,dn.LayersChange)})},[e.selectedLayerViewIds,d]),t.React.useEffect(()=>{var e;null===(e=r.current)||void 0===e||e.when(()=>{r.current.visibleElements=u(o.current.mapConfig).visibleElements,d(r.current.viewModel,dn.SettingChange)})},[e.settingConfig,d]);const f=t.React.useCallback(()=>{},[]);return{buildingExplorerRef:r.current,updateBuildingExplorerWidget:p,destroyBuildingExplorerWidget:f,clearToInit:a}};var pn=d(28996),fn=d.n(pn),gn=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const hn=n=>{const r=window.SVG,{className:o}=n,i=gn(n,["className"]),a=(0,t.classNames)("jimu-icon jimu-icon-component",o);return r?(0,e.jsx)(r,Object.assign({className:a,src:fn()},i)):(0,e.jsx)("svg",Object.assign({className:a},i))};var yn=d(45508),bn=d.n(yn),mn=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const wn=n=>{const r=window.SVG,{className:o}=n,i=mn(n,["className"]),a=(0,t.classNames)("jimu-icon jimu-icon-component",o);return r?(0,e.jsx)(r,Object.assign({className:a,src:bn()},i)):(0,e.jsx)("svg",Object.assign({className:a},i))};var jn=d(75889),_n=d.n(jn),xn=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const Mn=n=>{const r=window.SVG,{className:o}=n,i=xn(n,["className"]),a=(0,t.classNames)("jimu-icon jimu-icon-component",o);return r?(0,e.jsx)(r,Object.assign({className:a,src:_n()},i)):(0,e.jsx)("svg",Object.assign({className:a},i))},On=t.React.memo(n=>{const r=t.hooks.useTranslation(Gt,Ht.defaultMessages);return(0,e.jsxs)("div",{className:"status-tips d-flex flex-column h-100 align-items-center justify-content-center",children:[(0,e.jsxs)("div",{className:"",children:[n.isNoSelectedLayersFlag&&!n.isNoBuildingLayersFlag&&(0,e.jsx)(Mn,{size:40,color:"var(--ref-palette-neutral-600)"}),n.isNoBuildingLayersFlag&&(0,e.jsx)(hn,{size:40,color:"var(--sys-color-warning-dark)"}),n.isNoToolFlag&&(0,e.jsx)(wn,{size:32,color:"var(--sys-color-info-main)"})]}),(0,e.jsxs)("div",{className:"mt-2",style:{textAlign:"center"},children:[n.isNoBuildingLayersFlag&&r("noBuildingLayers"),n.isNoToolFlag&&(0,e.jsxs)("div",{className:"d-flex flex-column h-100 align-items-center justify-content-center",children:[(0,e.jsx)("div",{children:r("noTool")}),(0,e.jsx)("div",{children:r("preConfigTool")})]})]})]})});function Vn(e){return t.css`
    .status-tips {
      min-width: 200px;
      min-height: 200px;
    }

    .layer-selector {

      .single-mode-selector,
      .jimu-multi-select {
        .jimu-dropdown-button {
          padding-left: 6px;
          justify-content: flex-start;
        }

        .jimu-dropdown-button,
        .jimu-dropdown-button:hover {
          color: var(--sys-color-surface-paper-text);
          background-color: transparent;
          border: none;

          .dropdown-button-content {
            flex: none;
            max-width: 100%;
          }
        }
      }

      .jimu-multi-select .dropdown >.dropdown-button {
        padding-left: 6px;
        padding-right: 6px;
      }
      .jimu-multi-select .dropdown >.dropdown-button:hover {
        border: none;
      }
    }

    .widget-container.esri-building-explorer {
      max-height: calc(100%);
      background: transparent;
    }
    .widget-container {
      overflow-y: hidden;
      background-color: var(--sys-color-surface-paper);

      // For layer title label
      --calcite-label-text-color: var(--sys-color-surface-paper-text);
      .esri-building-disciplines-tree-node__label {
        font-family: ${e.sys.typography.body.fontFamily};
      }

      .esri-building-level-picker {
        background: transparent;
        .esri-building-level-picker__label-container {
          --calcite-color-foreground-1: var(--sys-color-action);

          // Select level msg
          .esri-building-level-picker-label--empty {
            color: var(--sys-color-surface-paper-text);
          }

          // For the clear button
          --calcite-color-text-1: var(--sys-color-action-text);
          calcite-fab {
            --calcite-color-foreground-2: var(--sys-color-action-hover);
          }

          calcite-action {
            --calcite-icon-color: var(--sys-color-surface-paper-text);
            background-color: transparent;
          }
        }
      }

      .esri-building-phase-picker {
        // For level clear button
        --calcite-icon-color: var(--sys-color-action-text);
        background-color: transparent;
        --calcite-icon-color: var(--sys-color-surface-paper-text);
        // Level up/down button
        calcite-action, calcite-button {
          --calcite-internal-action-text-color: var(--sys-color-surface-paper-text);
        }
      }

      // Level arrow button, bg
      --calcite-action-background-color: transparent;

      // Level header, phase picker
      .esri-widget__heading, .esri-building-phase-picker__phase {
        color: var(--sys-color-surface-paper-text);
        font-family: ${e.sys.typography.body.fontFamily};
        font-size: ${e.sys.typography.body.fontSize};
      }

      .esri-building-phase-picker__phase.esri-building-phase-picker__phase--active {
        color: var(--sys-color-action-text);
        background-color: var(--sys-color-action);
      }
      .esri-building-phase-picker__phase.esri-building-phase-picker__phase--active.esri-building-phase-picker__phase--current {
        color: var(--sys-color-action-selected-text);
        background-color: var(--sys-color-action-selected);
      }

      // Floor number
      .esri-building-level-picker-label {
        color: var(--sys-color-action-selected);
        font-size: var(--calcite-font-size-5);
      }

      .esri-building-level-picker-label.esri-building-level-picker-label--active,
      .esri-building-level-picker-label--empty.esri-building-level-picker-label--active {
        color: var(--sys-color-surface-paper-text);
      }

      // For normal buttons
      .esri-building-level-picker-item .esri-building-level-picker-item__base .rect{
        --calcite-color-foreground-1: var(--sys-color-action);
        border-color: var(--sys-color-divider-secondary);
      }

      // For the selected button
      .esri-building-level-picker-item--active .esri-building-level-picker-item__base .rect{
        border-color: var(--sys-color-action-selected);
        background-color: var(--sys-color-action-selected);
      }

      // For hovering on the buttons
      .esri-building-level-picker-item--hover{
        .esri-building-level-picker-item__base{
          .rect{
            --calcite-color-foreground-1: var(--sys-color-action-selected);
            border-color: var(--sys-color-action-selected);
            box-shadow: 0 0 2px 1px 'var(--sys-color-action-selected)';
          }
        }
      }

      // Layer list
      .esri-building-explorer__section.esri-building-explorer__disciplines {
        // Expand button
        --calcite-color-text-3: var(--sys-color-surface-paper-text);
        // Unchecked bg
        --calcite-color-foreground-1: transparent;
        --calcite-checkbox-border-color: var(--sys-color-action-selected);
        // Checked bg
        --calcite-color-brand: var(--sys-color-action-selected);
      }

      .esri-building-phase-picker__phase:focus:focus-visible, .esri-building-level-picker__label-container:focus:focus-visible {
        --calcite-color-brand: var(--sys-color-action-focus);
      }
    }
  `}const Ln=t.React.memo(n=>{var o,i;const a=(0,r.useTheme)(),l=t.React.useRef(null),s=t.React.useRef(null),c=n.config.mapSettings[null===(o=n.jimuMapView)||void 0===o?void 0:o.dataSourceId],[u,d]=t.React.useState([]),{updateBuildingExplorerWidget:v,destroyBuildingExplorerWidget:p,clearToInit:f}=vn({jimuMapView:n.jimuMapView,settingConfig:n.config,mapConfig:c,selectedLayerViewIds:u,widgetId:n.widgetId}),g=t.React.useRef(void 0);g.current=v;const h=t.React.useRef(void 0);function y(){const e=document.createElement("div");return e.className="widget-container w-100",l.current.innerHTML="",l.current.appendChild(e),e}h.current=f;const b=t.React.useCallback(()=>{var e,t,n;(null===(t=null===(e=s.current)||void 0===e?void 0:e.view)||void 0===t?void 0:t.map)&&p(),null===(n=null==s?void 0:s.current)||void 0===n||n.destroy(),s.current=null,(null==l?void 0:l.current)&&(l.current.innerHTML="")},[p]);t.React.useEffect(()=>{b()},[b]);const m=t.React.useRef(!1);t.React.useEffect(()=>{g.current(y(),dn.SwitchMap),m.current=!0},[null===(i=n.jimuMapView)||void 0===i?void 0:i.dataSourceId]),t.React.useEffect(()=>{m.current||(h.current(),g.current(y(),dn.Init)),m.current=!1},[null==c?void 0:c.layerMode,null==c?void 0:c.layersOnLoad]);const w=t.React.useCallback(()=>{const e=Xt(n.jimuMapView);return!(e&&e.length>0)},[n.jimuMapView]),[j,_]=t.React.useState(!0);t.React.useEffect(()=>{var e,t;_(w());const r=e=>{const t=Xt(n.jimuMapView),r=!(t&&t.length>0);_(r)};null===(e=n.jimuMapView)||void 0===e||e.addJimuLayerViewCreatedListener(r);return null===(t=n.jimuMapView)||void 0===t||t.addJimuLayerViewRemovedListener(e=>{const t=Xt(n.jimuMapView),r=!(t&&t.length>0);_(r)}),()=>{var e,t;null===(e=n.jimuMapView)||void 0===e||e.removeJimuLayerViewCreatedListener(r),null===(t=n.jimuMapView)||void 0===t||t.removeJimuLayerViewRemovedListener(r)}},[n.jimuMapView,w]);const x=0===(null==u?void 0:u.length)||""===u[0],M=!((null==c?void 0:c.enableLevel)||void 0===(null==c?void 0:c.enableLevel)||(null==c?void 0:c.enablePhase)||void 0===(null==c?void 0:c.enablePhase)||(null==c?void 0:c.enableCtegories)||void 0===(null==c?void 0:c.enableCtegories));return(0,e.jsxs)("div",{className:"d-flex flex-column w-100 p-2 ",css:Vn(a),children:[(0,e.jsx)("div",{className:"w-100 "+(j?"d-none":"d-flex"),children:(0,e.jsx)(Zt,{generalConfig:n.config.general,mapConfig:c,jimuMapView:n.jimuMapView,selectedLayerViewIdsState:u,onLayerSelectChanged:d})}),(x||j||M)&&(0,e.jsx)(On,{isNoSelectedLayersFlag:x,isNoBuildingLayersFlag:j,isNoToolFlag:M}),(0,e.jsx)("div",{className:x?"d-none":"d-flex ",ref:l})]})});var Sn=d(40280),Rn=d.n(Sn);const kn={crossAxis:!0},Cn=t.React.memo(n=>{const o=t.hooks.useTranslation(Gt,Ht.defaultMessages),i=((0,r.useTheme)(),o("select3DMapHint")),a=!0;return(0,e.jsx)(t.React.Fragment,{children:(0,e.jsx)(Ht.Tooltip,{disableHoverListener:a,disableTouchListener:a,disableFocusListener:a,shiftOptions:kn,showArrow:!0,title:(0,e.jsx)("div",{className:"p-2",style:{background:"var(--ref-palette-neutral-300)",border:"1px solid var(--ref-palette-neutral-700)"},children:i}),arrowStyle:{background:"var(--ref-palette-neutral-300)",border:{color:"var(--ref-palette-neutral-700)",width:"1px"}},children:(0,e.jsx)("div",{className:(0,t.classNames)("h-100",{"hide-msg":!1}),css:t.css`
    &.hide-msg {
      .message-wrapper {
        display: none;
      }
    }

    .jimu-widget-placeholder {
      min-width: 200px;
      min-height: 200px;
    }
  `,children:(0,e.jsx)(Ht.WidgetPlaceholder,{widgetId:n.widgetId,icon:Rn(),title:i,name:o("_widgetLabel"),direction:"vertical",message:i})})})})});var In=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function l(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,l)}s((r=r.apply(e,t||[])).next())})};const En=r=>{var o,i;const a=null===(o=r.useMapWidgetIds)||void 0===o?void 0:o[0],[l,s]=t.React.useState(null),c=t.React.useCallback(e=>In(void 0,void 0,void 0,function*(){var t;"3d"===(null===(t=null==e?void 0:e.view)||void 0===t?void 0:t.type)?(yield e.whenJimuMapViewLoaded(),s(e)):s(null)}),[]),u=!(a&&"3d"===(null===(i=null==l?void 0:l.view)||void 0===i?void 0:i.type)),d=l&&!u;return(0,e.jsxs)(Ht.Paper,{variant:"flat",className:"widget-building-explorer jimu-widget",css:t.css`
      background-color: var(--sys-color-surface-paper);
      overflow: auto;
    `,shape:"none",children:[u&&(0,e.jsx)(Cn,{widgetId:r.id}),(0,e.jsx)("div",{className:d?"d-flex h-100 ":"d-none",children:(0,e.jsx)(Ln,{widgetId:r.id,config:r.config,jimuMapView:l})}),a&&(0,e.jsx)(n.JimuMapViewComponent,{useMapWidgetId:a,onActiveViewChange:c})]})};function zn(e){d.p=e}})(),v})())}}});