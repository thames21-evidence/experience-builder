System.register(["jimu-core/emotion","jimu-core","jimu-layouts/layout-runtime","jimu-for-builder","jimu-ui/advanced/setting-components","jimu-ui","jimu-arcgis","jimu-ui/advanced/map","jimu-core/react","jimu-ui/advanced/style-setting-components","jimu-ui/advanced/resource-selector","jimu-ui/basic/list-tree","jimu-ui/basic/color-picker","jimu-ui/advanced/rich-text-editor","jimu-theme"],function(e,t){var i={},a={},o={},s={},n={},l={},r={},g={},I={},d={},c={},m={},p={},h={},C={};return{setters:[function(e){i.jsx=e.jsx,i.jsxs=e.jsxs},function(e){a.APP_FRAME_NAME_IN_BUILDER=e.APP_FRAME_NAME_IN_BUILDER,a.AnimationDirection=e.AnimationDirection,a.AnimationEffectType=e.AnimationEffectType,a.AnimationType=e.AnimationType,a.Immutable=e.Immutable,a.LayoutParentType=e.LayoutParentType,a.LayoutType=e.LayoutType,a.React=e.React,a.ResourceType=e.ResourceType,a.TransitionDirection=e.TransitionDirection,a.TransitionType=e.TransitionType,a.classNames=e.classNames,a.css=e.css,a.defaultMessages=e.defaultMessages,a.focusElementInKeyboardMode=e.focusElementInKeyboardMode,a.getAppStore=e.getAppStore,a.getNextAnimationId=e.getNextAnimationId,a.hooks=e.hooks,a.lodash=e.lodash,a.polished=e.polished},function(e){o.LayoutItemSizeModes=e.LayoutItemSizeModes,o.defaultMessages=e.defaultMessages,o.utils=e.utils},function(e){s.AppResourceManager=e.AppResourceManager,s.builderAppSync=e.builderAppSync,s.getAppConfigAction=e.getAppConfigAction,s.templateUtils=e.templateUtils,s.widgetService=e.widgetService},function(e){n.MapWidgetSelector=e.MapWidgetSelector,n.SettingRow=e.SettingRow,n.SettingSection=e.SettingSection},function(e){l.AdvancedButtonGroup=e.AdvancedButtonGroup,l.Button=e.Button,l.Checkbox=e.Checkbox,l.CollapsablePanel=e.CollapsablePanel,l.ConfirmDialog=e.ConfirmDialog,l.DistanceUnits=e.DistanceUnits,l.FloatingPanel=e.FloatingPanel,l.FontFamilyValue=e.FontFamilyValue,l.Icon=e.Icon,l.ImageFillMode=e.ImageFillMode,l.Label=e.Label,l.NumericInput=e.NumericInput,l.Popper=e.Popper,l.Select=e.Select,l.Slider=e.Slider,l.Switch=e.Switch,l.Tab=e.Tab,l.Tabs=e.Tabs,l.TextArea=e.TextArea,l.TextInput=e.TextInput,l.Tooltip=e.Tooltip,l.defaultMessages=e.defaultMessages,l.utils=e.utils},function(e){r.loadArcGISJSAPIModules=e.loadArcGISJSAPIModules},function(e){g.JimuDraw=e.JimuDraw,g.JimuMap=e.JimuMap},function(e){I.Fragment=e.Fragment},function(e){d.FontStyle=e.FontStyle,d.InputRatio=e.InputRatio,d.InputUnit=e.InputUnit,d.SizeEditor=e.SizeEditor,d.TransitionSetting=e.TransitionSetting},function(e){c.ImageSelector=e.ImageSelector},function(e){m.List=e.List,m.TreeItemActionType=e.TreeItemActionType,m.TreeStyle=e.TreeStyle},function(e){p.ThemeColorPicker=e.ThemeColorPicker},function(e){h.FontFamily=e.FontFamily},function(e){C.getTheme2=e.getTheme2}],execute:function(){e((()=>{var e={778:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M8.829 2.535a.909.909 0 0 0-1.657 0L2.291 13.356a.456.456 0 0 0 .831.377L4.818 10h6.365l1.696 3.733a.456.456 0 0 0 .831-.377zM5.272 9 8 3l2.729 6z" clip-rule="evenodd"></path></svg>'},1888:e=>{"use strict";e.exports=C},4108:e=>{"use strict";e.exports=s},8547:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M7.5 0A3.5 3.5 0 0 1 11 3.5V6h1a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h1V3.5A3.5 3.5 0 0 1 7.5 0M5 6h5V3.5a2.5 2.5 0 0 0-2.336-2.495L7.5 1a2.5 2.5 0 0 0-2.495 2.336L5 3.5zm6 1H3v8h9V7zm-3.5 5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3" clip-rule="evenodd"></path></svg>'},12971:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" d="M7.5 1c.291 0 .527.231.527.516v11.508L11.6 9.527a.535.535 0 0 1 .746 0 .51.51 0 0 1 0 .73L7.5 15l-4.846-4.743a.51.51 0 0 1 0-.73.535.535 0 0 1 .746 0l3.573 3.497V1.516c0-.285.236-.516.527-.516"></path></svg>'},13495:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20"><path fill="#000" fill-rule="evenodd" d="M0 4v15l7-3 6 3 7-3V1l-7 3-6-3zm1 13.5v-13l5.5-2.292v13zm6.5-2.25 5 2.5v-13l-5-2.5zm6 2.542v-13L19 2.5v13z" clip-rule="evenodd"></path></svg>'},14321:e=>{"use strict";e.exports=l},15562:e=>{"use strict";e.exports=d},19794:e=>{"use strict";e.exports=JSON.parse('{"widgetId":"widget_x","config":{"layouts":{"layout_4":{"type":"FIXED","content":{"0":{"type":"WIDGET","bbox":{"left":"3.5000%","right":"3.5000%","top":"2.0000%","bottom":"86.6241%","width":"93.0000%","height":"9.3759%"},"widgetId":"widget_6","setting":{"vCenter":false,"hCenter":false},"isPending":false},"1":{"type":"WIDGET","bbox":{"left":0,"right":0,"top":"12.8709%","bottom":0,"width":"100.0000%","height":"87.1094%"},"widgetId":"widget_7","setting":{"vCenter":false,"hCenter":false},"isPending":false}},"order":["0","1"],"label":"Default"}},"widgets":{"widget_x":{"config":{"templateType":"CUSTOM1","isTemplateConfirm":false,"isInitialed":false,"bookmarks":[],"runtimeAddAllow":false,"autoPlayAllow":false,"autoInterval":3,"direction":"HORIZON","pageStyle":"PAGING","space":10,"scrollBarOpen":true,"navigatorOpen":false,"transition":"None","displayType":"SELECTED","runtimeUuid":"","itemHeight":240,"itemWidth":240},"layouts":{"DEFAULT":{"LARGE":"layout_4"}}},"widget_6":{"uri":"widgets/common/text/","config":{"text":"","placeholder":"<p><span style=\\"font-size: 16px;\\">${textPlaceholder}</span></p>","style":{"verticalAlign":"start","wrap":true}}},"widget_7":{"uri":"widgets/common/image/","config":{"functionConfig":{"altText":"","toolTip":"","linkParam":{},"scale":"Fit","imageParam":{}},"styleConfig":{}}}},"views":{},"sections":{}}}')},20635:e=>{e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjEwOHB4IiBoZWlnaHQ9IjEwOHB4IiB2aWV3Qm94PSIwIDAgMTA4IDEwOCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4NCiAgICA8ZyBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4NCiAgICAgICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEzMTYuMDAwMDAwLCAtNzAyLjAwMDAwMCkiIGZpbGwtcnVsZT0ibm9uemVybyI+DQogICAgICAgICAgICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMzE2LjAwMDAwMCwgNzAyLjAwMDAwMCkiPg0KICAgICAgICAgICAgICAgIDxnPg0KICAgICAgICAgICAgICAgICAgICA8cmVjdCBmaWxsPSIjMjgyODI4IiB4PSI4IiB5PSI4IiB3aWR0aD0iOTIiIGhlaWdodD0iNTQiPjwvcmVjdD4NCiAgICAgICAgICAgICAgICAgICAgPHJlY3QgZmlsbD0iIzM2MzYzNiIgeD0iOCIgeT0iNjIiIHdpZHRoPSI5MiIgaGVpZ2h0PSIzOSI+PC9yZWN0Pg0KICAgICAgICAgICAgICAgICAgICA8cmVjdCBmaWxsPSIjNkE2QTZBIiB4PSIxMiIgeT0iNzIiIHdpZHRoPSI4NCIgaGVpZ2h0PSIzIj48L3JlY3Q+DQogICAgICAgICAgICAgICAgICAgIDxyZWN0IGZpbGw9IiM2QTZBNkEiIHg9IjcwIiB5PSI1NyIgd2lkdGg9IjI0IiBoZWlnaHQ9IjEwIiByeD0iMSI+PC9yZWN0Pg0KICAgICAgICAgICAgICAgICAgICA8cmVjdCBmaWxsPSIjMjgyODI4IiB4PSI4IiB5PSI4MiIgd2lkdGg9IjkyIiBoZWlnaHQ9IjEiPjwvcmVjdD4NCiAgICAgICAgICAgICAgICAgICAgPHBvbHlnb24gZmlsbD0iIzUyNTI1MiIgcG9pbnRzPSI1MS42MTQ1NTUzIDM1LjMzOTYyMjYgNTguMjg1NzE0MyAyNiA2OSA0MSAzOSA0MSA0Ny41NzE0Mjg2IDMwLjI4NTcxNDMiPjwvcG9seWdvbj4NCiAgICAgICAgICAgICAgICAgICAgPHJlY3QgZmlsbD0iIzZBNkE2QSIgeD0iMTIiIHk9Ijg4IiB3aWR0aD0iOCIgaGVpZ2h0PSI4IiByeD0iNCI+PC9yZWN0Pg0KICAgICAgICAgICAgICAgICAgICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0Mi4wMDAwMDAsIDg5LjAwMDAwMCkiPg0KICAgICAgICAgICAgICAgICAgICAgICAgPHJlY3QgZmlsbD0iIzAwMDAwMCIgb3BhY2l0eT0iMCIgeD0iMCIgeT0iMCIgd2lkdGg9IjYiIGhlaWdodD0iNiI+PC9yZWN0Pg0KICAgICAgICAgICAgICAgICAgICAgICAgPHBvbHlnb24gZmlsbD0iIzZBNkE2QSIgcG9pbnRzPSI1LjI1IDAgMi45OTIwODkwNyAzIDUuMjUgNiAzLjc1NzkxMDkzIDYgMS41IDMgMy43NTc5MTA5MyAwIj48L3BvbHlnb24+DQogICAgICAgICAgICAgICAgICAgIDwvZz4NCiAgICAgICAgICAgICAgICAgICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNjMuMDAwMDAwLCA5Mi4wMDAwMDApIHNjYWxlKC0xLCAxKSB0cmFuc2xhdGUoLTYzLjAwMDAwMCwgLTkyLjAwMDAwMCkgdHJhbnNsYXRlKDYwLjAwMDAwMCwgODkuMDAwMDAwKSI+DQogICAgICAgICAgICAgICAgICAgICAgICA8cmVjdCBmaWxsPSIjMDAwMDAwIiBvcGFjaXR5PSIwIiB4PSIwIiB5PSIwIiB3aWR0aD0iNiIgaGVpZ2h0PSI2Ij48L3JlY3Q+DQogICAgICAgICAgICAgICAgICAgICAgICA8cG9seWdvbiBmaWxsPSIjNkE2QTZBIiBwb2ludHM9IjUuMjUgMCAyLjk5MjA4OTA3IDMgNS4yNSA2IDMuNzU3OTEwOTMgNiAxLjUgMyAzLjc1NzkxMDkzIDAiPjwvcG9seWdvbj4NCiAgICAgICAgICAgICAgICAgICAgPC9nPg0KICAgICAgICAgICAgICAgICAgICA8cmVjdCBmaWxsPSIjNkE2QTZBIiB4PSI4OCIgeT0iODgiIHdpZHRoPSI4IiBoZWlnaHQ9IjgiIHJ4PSI0Ij48L3JlY3Q+DQogICAgICAgICAgICAgICAgPC9nPg0KICAgICAgICAgICAgPC9nPg0KICAgICAgICA8L2c+DQogICAgPC9nPg0KPC9zdmc+"},28996:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M8 2.125 14.334 14H1.667zm-.882-.47a1 1 0 0 1 1.765 0l6.333 11.874A1 1 0 0 1 14.334 15H1.667a1 1 0 0 1-.882-1.47zM8 4.874a.905.905 0 0 0-.9.995l.35 3.507a.552.552 0 0 0 1.1 0L8.9 5.87a.905.905 0 0 0-.9-.995m1 7a1 1 0 1 1-2 0 1 1 0 0 1 2 0" clip-rule="evenodd"></path></svg>'},33949:e=>{"use strict";e.exports=h},35809:e=>{"use strict";e.exports=c},36686:e=>{"use strict";e.exports=JSON.parse('{"displayFromWeb":true,"galleryItemWidth":200,"galleryItemHeight":237.5,"galleryItemSpace":24,"cardItemWidth":"50%"}')},37568:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M11.347 2.146a.485.485 0 0 1 0 .708L5.76 8l5.587 5.146a.486.486 0 0 1 0 .708.54.54 0 0 1-.738 0l-5.956-5.5a.485.485 0 0 1 0-.708l5.956-5.5a.54.54 0 0 1 .738 0" clip-rule="evenodd"></path></svg>'},39272:e=>{e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjEwOHB4IiBoZWlnaHQ9IjEwOHB4IiB2aWV3Qm94PSIwIDAgMTA4IDEwOCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4NCiAgICA8ZyBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4NCiAgICAgICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTExOTYuMDAwMDAwLCAtNzAyLjAwMDAwMCkiIGZpbGwtcnVsZT0ibm9uemVybyI+DQogICAgICAgICAgICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMTk2LjAwMDAwMCwgNzAyLjAwMDAwMCkiPg0KICAgICAgICAgICAgICAgIDxnPg0KICAgICAgICAgICAgICAgICAgICA8cmVjdCBmaWxsPSIjMjgyODI4IiB4PSI4IiB5PSI4IiB3aWR0aD0iOTIiIGhlaWdodD0iOTIiPjwvcmVjdD4NCiAgICAgICAgICAgICAgICAgICAgPHJlY3QgZmlsbD0iIzM2MzYzNiIgeD0iOCIgeT0iOCIgd2lkdGg9IjkyIiBoZWlnaHQ9IjE4Ij48L3JlY3Q+DQogICAgICAgICAgICAgICAgICAgIDxyZWN0IGZpbGw9IiMzNjM2MzYiIHg9IjgiIHk9IjgzIiB3aWR0aD0iOTIiIGhlaWdodD0iMTgiPjwvcmVjdD4NCiAgICAgICAgICAgICAgICAgICAgPHJlY3QgZmlsbD0iIzZBNkE2QSIgeD0iMTIiIHk9IjEyIiB3aWR0aD0iNTEiIGhlaWdodD0iNCI+PC9yZWN0Pg0KICAgICAgICAgICAgICAgICAgICA8cmVjdCBmaWxsPSIjNkE2QTZBIiB4PSIxMiIgeT0iMjAiIHdpZHRoPSI4NCIgaGVpZ2h0PSIyIj48L3JlY3Q+DQogICAgICAgICAgICAgICAgICAgIDxwb2x5Z29uIGZpbGw9IiM1MjUyNTIiIHBvaW50cz0iNTEuNjE0NTU1MyA1NS4zMzk2MjI2IDU4LjI4NTcxNDMgNDYgNjkgNjEgMzkgNjEgNDcuNTcxNDI4NiA1MC4yODU3MTQzIj48L3BvbHlnb24+DQogICAgICAgICAgICAgICAgICAgIDxyZWN0IGZpbGw9IiM2QTZBNkEiIHg9IjEyIiB5PSI4OCIgd2lkdGg9IjgiIGhlaWdodD0iOCIgcng9IjQiPjwvcmVjdD4NCiAgICAgICAgICAgICAgICAgICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNDIuMDAwMDAwLCA4OS4wMDAwMDApIj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxyZWN0IGZpbGw9IiMwMDAwMDAiIG9wYWNpdHk9IjAiIHg9IjAiIHk9IjAiIHdpZHRoPSI2IiBoZWlnaHQ9IjYiPjwvcmVjdD4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxwb2x5Z29uIGZpbGw9IiM2QTZBNkEiIHBvaW50cz0iNS4yNSAwIDIuOTkyMDg5MDcgMyA1LjI1IDYgMy43NTc5MTA5MyA2IDEuNSAzIDMuNzU3OTEwOTMgMCI+PC9wb2x5Z29uPg0KICAgICAgICAgICAgICAgICAgICA8L2c+DQogICAgICAgICAgICAgICAgICAgIDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDYzLjAwMDAwMCwgOTIuMDAwMDAwKSBzY2FsZSgtMSwgMSkgdHJhbnNsYXRlKC02My4wMDAwMDAsIC05Mi4wMDAwMDApIHRyYW5zbGF0ZSg2MC4wMDAwMDAsIDg5LjAwMDAwMCkiPg0KICAgICAgICAgICAgICAgICAgICAgICAgPHJlY3QgZmlsbD0iIzAwMDAwMCIgb3BhY2l0eT0iMCIgeD0iMCIgeT0iMCIgd2lkdGg9IjYiIGhlaWdodD0iNiI+PC9yZWN0Pg0KICAgICAgICAgICAgICAgICAgICAgICAgPHBvbHlnb24gZmlsbD0iIzZBNkE2QSIgcG9pbnRzPSI1LjI1IDAgMi45OTIwODkwNyAzIDUuMjUgNiAzLjc1NzkxMDkzIDYgMS41IDMgMy43NTc5MTA5MyAwIj48L3BvbHlnb24+DQogICAgICAgICAgICAgICAgICAgIDwvZz4NCiAgICAgICAgICAgICAgICAgICAgPHJlY3QgZmlsbD0iIzZBNkE2QSIgeD0iODgiIHk9Ijg4IiB3aWR0aD0iOCIgaGVpZ2h0PSI4IiByeD0iNCI+PC9yZWN0Pg0KICAgICAgICAgICAgICAgIDwvZz4NCiAgICAgICAgICAgIDwvZz4NCiAgICAgICAgPC9nPg0KICAgIDwvZz4NCjwvc3ZnPg=="},41496:e=>{"use strict";e.exports=o},45075:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" d="M1 7.5c0-.291.231-.527.516-.527h11.508L9.527 3.4a.535.535 0 0 1 0-.746.51.51 0 0 1 .73 0L15 7.5l-4.743 4.846a.51.51 0 0 1-.73 0 .535.535 0 0 1 0-.746l3.497-3.573H1.516A.52.52 0 0 1 1 7.5"></path></svg>'},45508:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" d="M8 5.5a1 1 0 1 0 0-2 1 1 0 0 0 0 2M6.5 7.5A.5.5 0 0 1 7 7h1.5v4.5h1a.5.5 0 0 1 0 1h-3a.5.5 0 0 1 0-1h1V8H7a.5.5 0 0 1-.5-.5"></path><path fill="#000" fill-rule="evenodd" d="M8 16A8 8 0 1 1 8 0a8 8 0 0 1 0 16m0-1A7 7 0 1 0 8 1a7 7 0 0 0 0 14" clip-rule="evenodd"></path></svg>'},48993:e=>{"use strict";e.exports=g},49365:e=>{e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjEwOHB4IiBoZWlnaHQ9IjEwOHB4IiB2aWV3Qm94PSIwIDAgMTA4IDEwOCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4NCiAgICA8ZyBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4NCiAgICAgICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEzMTYuMDAwMDAwLCAtMzI2LjAwMDAwMCkiIGZpbGwtcnVsZT0ibm9uemVybyI+DQogICAgICAgICAgICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMzE2LjAwMDAwMCwgMzI2LjAwMDAwMCkiPg0KICAgICAgICAgICAgICAgIDxnPg0KICAgICAgICAgICAgICAgICAgICA8cmVjdCBmaWxsPSIjMjgyODI4IiB4PSI4IiB5PSI4IiB3aWR0aD0iOTIiIGhlaWdodD0iMzgiPjwvcmVjdD4NCiAgICAgICAgICAgICAgICAgICAgPHJlY3QgZmlsbD0iIzUyNTI1MiIgeD0iOCIgeT0iNTIiIHdpZHRoPSI1NiIgaGVpZ2h0PSI0Ij48L3JlY3Q+DQogICAgICAgICAgICAgICAgICAgIDxyZWN0IGZpbGw9IiM2QTZBNkEiIHg9IjgiIHk9IjkyIiB3aWR0aD0iOCIgaGVpZ2h0PSI4IiByeD0iNCI+PC9yZWN0Pg0KICAgICAgICAgICAgICAgICAgICA8cmVjdCBmaWxsPSIjMDAwMDAwIiBvcGFjaXR5PSIwIiB4PSI0MiIgeT0iOTMiIHdpZHRoPSI2IiBoZWlnaHQ9IjYiPjwvcmVjdD4NCiAgICAgICAgICAgICAgICAgICAgPHBvbHlnb24gZmlsbD0iIzZBNkE2QSIgcG9pbnRzPSI0Ny4yNSA5MyA0NC45OTIwODkxIDk2IDQ3LjI1IDk5IDQ1Ljc1NzkxMDkgOTkgNDMuNSA5NiA0NS43NTc5MTA5IDkzIj48L3BvbHlnb24+DQogICAgICAgICAgICAgICAgICAgIDxyZWN0IGZpbGw9IiMwMDAwMDAiIG9wYWNpdHk9IjAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDYzLjAwMDAwMCwgOTYuMDAwMDAwKSBzY2FsZSgtMSwgMSkgdHJhbnNsYXRlKC02My4wMDAwMDAsIC05Ni4wMDAwMDApICIgeD0iNjAiIHk9IjkzIiB3aWR0aD0iNiIgaGVpZ2h0PSI2Ij48L3JlY3Q+DQogICAgICAgICAgICAgICAgICAgIDxwb2x5Z29uIGZpbGw9IiM2QTZBNkEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDYyLjYyNTAwMCwgOTYuMDAwMDAwKSBzY2FsZSgtMSwgMSkgdHJhbnNsYXRlKC02Mi42MjUwMDAsIC05Ni4wMDAwMDApICIgcG9pbnRzPSI2NC41IDkzIDYyLjI0MjA4OTEgOTYgNjQuNSA5OSA2My4wMDc5MTA5IDk5IDYwLjc1IDk2IDYzLjAwNzkxMDkgOTMiPjwvcG9seWdvbj4NCiAgICAgICAgICAgICAgICAgICAgPHJlY3QgZmlsbD0iIzZBNkE2QSIgeD0iOTIiIHk9IjkyIiB3aWR0aD0iOCIgaGVpZ2h0PSI4IiByeD0iNCI+PC9yZWN0Pg0KICAgICAgICAgICAgICAgICAgICA8cmVjdCBmaWxsPSIjNTI1MjUyIiB4PSI4IiB5PSI2MiIgd2lkdGg9IjkyIiBoZWlnaHQ9IjIiPjwvcmVjdD4NCiAgICAgICAgICAgICAgICAgICAgPHJlY3QgZmlsbD0iIzUyNTI1MiIgeD0iOCIgeT0iNjgiIHdpZHRoPSI5MiIgaGVpZ2h0PSIyIj48L3JlY3Q+DQogICAgICAgICAgICAgICAgICAgIDxyZWN0IGZpbGw9IiM1MjUyNTIiIHg9IjgiIHk9Ijc0IiB3aWR0aD0iOTIiIGhlaWdodD0iMiI+PC9yZWN0Pg0KICAgICAgICAgICAgICAgICAgICA8cmVjdCBmaWxsPSIjNTI1MjUyIiB4PSI4IiB5PSI4MCIgd2lkdGg9IjQwIiBoZWlnaHQ9IjIiPjwvcmVjdD4NCiAgICAgICAgICAgICAgICAgICAgPHBvbHlnb24gZmlsbD0iIzUyNTI1MiIgcG9pbnRzPSI1Mi43Mjc3NjI4IDI3Ljk4MTEzMjEgNTYuMjg1NzE0MyAyMyA2MiAzMSA0NiAzMSA1MC41NzE0Mjg2IDI1LjI4NTcxNDMiPjwvcG9seWdvbj4NCiAgICAgICAgICAgICAgICA8L2c+DQogICAgICAgICAgICA8L2c+DQogICAgICAgIDwvZz4NCiAgICA8L2c+DQo8L3N2Zz4="},51334:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M16 3.5a3.5 3.5 0 1 0-7 0V6H3a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h9a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1h-2V3.5l.005-.164A2.5 2.5 0 0 1 12.5 1l.164.005A2.5 2.5 0 0 1 15 3.5a.5.5 0 0 0 1 0M9 7H3v8h9V7H9m-1.5 5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3" clip-rule="evenodd"></path></svg>'},54337:e=>{"use strict";e.exports=p},61142:e=>{e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjEwOHB4IiBoZWlnaHQ9IjEwOHB4IiB2aWV3Qm94PSIwIDAgMTA4IDEwOCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4NCiAgICA8ZyBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4NCiAgICAgICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTExOTYuMDAwMDAwLCAtMzI2LjAwMDAwMCkiIGZpbGwtcnVsZT0ibm9uemVybyI+DQogICAgICAgICAgICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMTk2LjAwMDAwMCwgMzI2LjAwMDAwMCkiPg0KICAgICAgICAgICAgICAgIDxnPg0KICAgICAgICAgICAgICAgICAgICA8cmVjdCBmaWxsPSIjMjgyODI4IiB4PSI4IiB5PSI4IiB3aWR0aD0iOTIiIGhlaWdodD0iOTIiPjwvcmVjdD4NCiAgICAgICAgICAgICAgICAgICAgPHJlY3QgZmlsbD0iIzM2MzYzNiIgeD0iOCIgeT0iOCIgd2lkdGg9IjkyIiBoZWlnaHQ9IjE4Ij48L3JlY3Q+DQogICAgICAgICAgICAgICAgICAgIDxyZWN0IGZpbGw9IiM2QTZBNkEiIHg9IjEyIiB5PSIxMiIgd2lkdGg9IjUxIiBoZWlnaHQ9IjQiPjwvcmVjdD4NCiAgICAgICAgICAgICAgICAgICAgPHJlY3QgZmlsbD0iIzZBNkE2QSIgeD0iMTIiIHk9IjIwIiB3aWR0aD0iODQiIGhlaWdodD0iMiI+PC9yZWN0Pg0KICAgICAgICAgICAgICAgICAgICA8cG9seWdvbiBmaWxsPSIjNTI1MjUyIiBwb2ludHM9IjUxLjYxNDU1NTMgNTUuMzM5NjIyNiA1OC4yODU3MTQzIDQ2IDY5IDYxIDM5IDYxIDQ3LjU3MTQyODYgNTAuMjg1NzE0MyI+PC9wb2x5Z29uPg0KICAgICAgICAgICAgICAgICAgICA8cmVjdCBmaWxsPSIjNkE2QTZBIiB4PSIxMiIgeT0iODgiIHdpZHRoPSI4IiBoZWlnaHQ9IjgiIHJ4PSI0Ij48L3JlY3Q+DQogICAgICAgICAgICAgICAgICAgIDxyZWN0IGZpbGw9IiMwMDAwMDAiIG9wYWNpdHk9IjAiIHg9IjQyIiB5PSI4OSIgd2lkdGg9IjYiIGhlaWdodD0iNiI+PC9yZWN0Pg0KICAgICAgICAgICAgICAgICAgICA8cG9seWdvbiBmaWxsPSIjNkE2QTZBIiBwb2ludHM9IjQ3LjI1IDg5IDQ0Ljk5MjA4OTEgOTIgNDcuMjUgOTUgNDUuNzU3OTEwOSA5NSA0My41IDkyIDQ1Ljc1NzkxMDkgODkiPjwvcG9seWdvbj4NCiAgICAgICAgICAgICAgICAgICAgPHJlY3QgZmlsbD0iIzAwMDAwMCIgb3BhY2l0eT0iMCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNjMuMDAwMDAwLCA5Mi4wMDAwMDApIHNjYWxlKC0xLCAxKSB0cmFuc2xhdGUoLTYzLjAwMDAwMCwgLTkyLjAwMDAwMCkgIiB4PSI2MCIgeT0iODkiIHdpZHRoPSI2IiBoZWlnaHQ9IjYiPjwvcmVjdD4NCiAgICAgICAgICAgICAgICAgICAgPHBvbHlnb24gZmlsbD0iIzZBNkE2QSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNjIuNjI1MDAwLCA5Mi4wMDAwMDApIHNjYWxlKC0xLCAxKSB0cmFuc2xhdGUoLTYyLjYyNTAwMCwgLTkyLjAwMDAwMCkgIiBwb2ludHM9IjY0LjUgODkgNjIuMjQyMDg5MSA5MiA2NC41IDk1IDYzLjAwNzkxMDkgOTUgNjAuNzUgOTIgNjMuMDA3OTEwOSA4OSI+PC9wb2x5Z29uPg0KICAgICAgICAgICAgICAgICAgICA8cmVjdCBmaWxsPSIjNkE2QTZBIiB4PSI4OCIgeT0iODgiIHdpZHRoPSI4IiBoZWlnaHQ9IjgiIHJ4PSI0Ij48L3JlY3Q+DQogICAgICAgICAgICAgICAgPC9nPg0KICAgICAgICAgICAgPC9nPg0KICAgICAgICA8L2c+DQogICAgPC9nPg0KPC9zdmc+"},62402:e=>{e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjEwOHB4IiBoZWlnaHQ9IjEwOHB4IiB2aWV3Qm94PSIwIDAgMTA4IDEwOCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4NCiAgICA8ZyBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4NCiAgICAgICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTExOTYuMDAwMDAwLCAtMTkzLjAwMDAwMCkiIGZpbGwtcnVsZT0ibm9uemVybyI+DQogICAgICAgICAgICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMTk2LjAwMDAwMCwgMTkzLjAwMDAwMCkiPg0KICAgICAgICAgICAgICAgIDxnPg0KICAgICAgICAgICAgICAgICAgICA8cmVjdCBmaWxsPSIjMjgyODI4IiB4PSI4IiB5PSI4IiB3aWR0aD0iMjgiIGhlaWdodD0iMjgiPjwvcmVjdD4NCiAgICAgICAgICAgICAgICAgICAgPHJlY3Qgc3Ryb2tlPSIjMjgyODI4IiB4PSI4LjUiIHk9IjU5LjUiIHdpZHRoPSIyNyIgaGVpZ2h0PSIyNyI+PC9yZWN0Pg0KICAgICAgICAgICAgICAgICAgICA8cmVjdCBmaWxsPSIjMDAwMDAwIiBvcGFjaXR5PSIwIiB4PSIxNiIgeT0iNjciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiI+PC9yZWN0Pg0KICAgICAgICAgICAgICAgICAgICA8cG9seWdvbiBmaWxsPSIjNTI1MjUyIiBwb2ludHM9IjI4IDczLjc1IDIyLjc1IDczLjc1IDIyLjc1IDc5IDIxLjI1IDc5IDIxLjI1IDczLjc1IDE2IDczLjc1IDE2IDcyLjI1IDIxLjI1IDcyLjI1IDIxLjI1IDY3IDIyLjc1IDY3IDIyLjc1IDcyLjI1IDI4IDcyLjI1Ij48L3BvbHlnb24+DQogICAgICAgICAgICAgICAgICAgIDxyZWN0IGZpbGw9IiMyODI4MjgiIHg9IjQwIiB5PSI4IiB3aWR0aD0iMjgiIGhlaWdodD0iMjgiPjwvcmVjdD4NCiAgICAgICAgICAgICAgICAgICAgPHJlY3QgZmlsbD0iIzI4MjgyOCIgeD0iNzIiIHk9IjgiIHdpZHRoPSIyOCIgaGVpZ2h0PSIyOCI+PC9yZWN0Pg0KICAgICAgICAgICAgICAgICAgICA8cmVjdCBmaWxsPSIjNTI1MjUyIiB4PSI4IiB5PSI0MCIgd2lkdGg9IjI0IiBoZWlnaHQ9IjMiPjwvcmVjdD4NCiAgICAgICAgICAgICAgICAgICAgPHJlY3QgZmlsbD0iIzI4MjgyOCIgeD0iOCIgeT0iNTAiIHdpZHRoPSI5MiIgaGVpZ2h0PSIxIj48L3JlY3Q+DQogICAgICAgICAgICAgICAgICAgIDxyZWN0IGZpbGw9IiM1MjUyNTIiIHg9IjQwIiB5PSI0MCIgd2lkdGg9IjI0IiBoZWlnaHQ9IjMiPjwvcmVjdD4NCiAgICAgICAgICAgICAgICAgICAgPHJlY3QgZmlsbD0iIzUyNTI1MiIgeD0iNzIiIHk9IjQwIiB3aWR0aD0iMjQiIGhlaWdodD0iMyI+PC9yZWN0Pg0KICAgICAgICAgICAgICAgICAgICA8cG9seWdvbiBmaWxsPSIjNTI1MjUyIiBwb2ludHM9IjIwLjcyNzc2MjggMjIuOTgxMTMyMSAyNC4yODU3MTQzIDE4IDMwIDI2IDE0IDI2IDE4LjU3MTQyODYgMjAuMjg1NzE0MyI+PC9wb2x5Z29uPg0KICAgICAgICAgICAgICAgICAgICA8cG9seWdvbiBmaWxsPSIjNTI1MjUyIiBwb2ludHM9IjUyLjcyNzc2MjggMjIuOTgxMTMyMSA1Ni4yODU3MTQzIDE4IDYyIDI2IDQ2IDI2IDUwLjU3MTQyODYgMjAuMjg1NzE0MyI+PC9wb2x5Z29uPg0KICAgICAgICAgICAgICAgICAgICA8cG9seWdvbiBmaWxsPSIjNTI1MjUyIiBwb2ludHM9Ijg0LjcyNzc2MjggMjIuOTgxMTMyMSA4OC4yODU3MTQzIDE4IDk0IDI2IDc4IDI2IDgyLjU3MTQyODYgMjAuMjg1NzE0MyI+PC9wb2x5Z29uPg0KICAgICAgICAgICAgICAgIDwvZz4NCiAgICAgICAgICAgIDwvZz4NCiAgICAgICAgPC9nPg0KICAgIDwvZz4NCjwvc3ZnPg=="},62686:e=>{"use strict";e.exports=r},62838:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" d="m8.745 8 6.1 6.1a.527.527 0 1 1-.745.746L8 8.746l-6.1 6.1a.527.527 0 1 1-.746-.746l6.1-6.1-6.1-6.1a.527.527 0 0 1 .746-.746l6.1 6.1 6.1-6.1a.527.527 0 0 1 .746.746z"></path></svg>'},63216:e=>{e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjEwOHB4IiBoZWlnaHQ9IjEwOHB4IiB2aWV3Qm94PSIwIDAgMTA4IDEwOCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4NCiAgICA8ZyBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4NCiAgICAgICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEzMTUuMDAwMDAwLCAtMTkzLjAwMDAwMCkiIGZpbGwtcnVsZT0ibm9uemVybyI+DQogICAgICAgICAgICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMzE1LjAwMDAwMCwgMTkzLjAwMDAwMCkiPg0KICAgICAgICAgICAgICAgIDxnPg0KICAgICAgICAgICAgICAgICAgICA8cmVjdCBmaWxsPSIjNTI1MjUyIiB4PSIyNCIgeT0iMTAiIHdpZHRoPSI1MSIgaGVpZ2h0PSI0Ij48L3JlY3Q+DQogICAgICAgICAgICAgICAgICAgIDxyZWN0IGZpbGw9IiM1MjUyNTIiIHg9IjI0IiB5PSI0MSIgd2lkdGg9IjY1IiBoZWlnaHQ9IjQiPjwvcmVjdD4NCiAgICAgICAgICAgICAgICAgICAgPHJlY3QgZmlsbD0iIzUyNTI1MiIgeD0iMjQiIHk9IjI1IiB3aWR0aD0iNzYiIGhlaWdodD0iNCI+PC9yZWN0Pg0KICAgICAgICAgICAgICAgICAgICA8cmVjdCBmaWxsPSIjMjgyODI4IiB4PSI4IiB5PSI1NSIgd2lkdGg9IjkzIiBoZWlnaHQ9IjEiPjwvcmVjdD4NCiAgICAgICAgICAgICAgICAgICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoOC4wMDAwMDAsIDY0LjAwMDAwMCkiPg0KICAgICAgICAgICAgICAgICAgICAgICAgPHJlY3Qgc3Ryb2tlPSIjMzYzNjM2IiB4PSIwLjUiIHk9IjAuNSIgd2lkdGg9IjkxIiBoZWlnaHQ9IjE5Ij48L3JlY3Q+DQogICAgICAgICAgICAgICAgICAgICAgICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0MS4wMDAwMDAsIDUuMDAwMDAwKSIgZmlsbD0iIzUyNTI1MiI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHBvbHlnb24gcG9pbnRzPSIxMCA1LjYyNSA1LjYyNSA1LjYyNSA1LjYyNSAxMCA0LjM3NSAxMCA0LjM3NSA1LjYyNSAwIDUuNjI1IDAgNC4zNzUgNC4zNzUgNC4zNzUgNC4zNzUgMCA1LjYyNSAwIDUuNjI1IDQuMzc1IDEwIDQuMzc1Ij48L3BvbHlnb24+DQogICAgICAgICAgICAgICAgICAgICAgICA8L2c+DQogICAgICAgICAgICAgICAgICAgIDwvZz4NCiAgICAgICAgICAgICAgICAgICAgPHJlY3QgZmlsbD0iIzUyNTI1MiIgeD0iOCIgeT0iOCIgd2lkdGg9IjgiIGhlaWdodD0iOCI+PC9yZWN0Pg0KICAgICAgICAgICAgICAgICAgICA8cmVjdCBmaWxsPSIjNTI1MjUyIiB4PSI4IiB5PSIzOSIgd2lkdGg9IjgiIGhlaWdodD0iOCI+PC9yZWN0Pg0KICAgICAgICAgICAgICAgICAgICA8cmVjdCBmaWxsPSIjNTI1MjUyIiB4PSI4IiB5PSIyMyIgd2lkdGg9IjgiIGhlaWdodD0iOCI+PC9yZWN0Pg0KICAgICAgICAgICAgICAgIDwvZz4NCiAgICAgICAgICAgIDwvZz4NCiAgICAgICAgPC9nPg0KICAgIDwvZz4NCjwvc3ZnPg=="},67386:e=>{"use strict";e.exports=i},68972:e=>{"use strict";e.exports=I},73304:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M3.937 12.34a.8.8 0 0 0 .08-.297c.007-.237.049-.472.125-.696a6.2 6.2 0 0 1-2.04-1.276A3.36 3.36 0 0 1 1 7.65c.009-2.45 3.044-4.49 6.91-4.648L8.118 3c.5-.044.994.119 1.371.449.326.46.446 1.034.331 1.585l-.068.949 1.003.12c.382-.262.806-.555 1.24-.856a63 63 0 0 0-.76-.093l-.417-.05a2.92 2.92 0 0 0-.604-2.345 2.8 2.8 0 0 0-2.117-.76l-.227.005C3.395 2.186.01 4.613 0 7.644a4.35 4.35 0 0 0 1.4 3.139 7.3 7.3 0 0 0 2.537 1.556M7 4a1 1 0 1 0 0 2 1 1 0 0 0 0-2m0 1.4a.4.4 0 1 1 0-.8.4.4 0 0 1 0 .8M4 9a1 1 0 1 1 2 0 1 1 0 0 1-2 0m1 .4a.4.4 0 1 1 0-.8.4.4 0 0 1 0 .8m10.567.229a2.7 2.7 0 0 0 .11-2.741 2 2 0 0 0-.256-.358q-.346.33-.726.7.054.06.098.126c.3.556.269 1.233-.083 1.759-.799 1.324-2.885 2.27-4.955 2.67l-.867.773q-.014.188-.057.372c2.599-.271 5.603-1.423 6.736-3.301M5 5.999a1 1 0 1 1-2 0 1 1 0 0 1 2 0m-1-.4a.4.4 0 1 1 0 .8.4.4 0 0 1 0-.8m2.567 5.228 1.325 1.556s.097 1.197-1.548 1.928a3.26 3.26 0 0 1-2.951-.11s1.594-.823 1.624-2.136c.03-1.327 1.55-1.238 1.55-1.238m-.992 2.699c.274-.43.427-.928.442-1.438a.204.204 0 0 1 .134-.206l.673.79a1.7 1.7 0 0 1-.886.724 2.6 2.6 0 0 1-.363.13m6.642-5.276s3.3-3.238 3.783-3.63l-.251-.31-.254-.31c-.483.388-4.29 3.006-4.29 3.006l-3.665 3.27 1.027 1.228z" clip-rule="evenodd"></path></svg>'},75769:e=>{e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjIyN3B4IiBoZWlnaHQ9IjY5cHgiIHZpZXdCb3g9IjAgMCAyMjcgNjkiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+DQogICAgPGcgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+DQogICAgICAgIDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMTk2LjAwMDAwMCwgLTU2Ni4wMDAwMDApIiBmaWxsLXJ1bGU9Im5vbnplcm8iPg0KICAgICAgICAgICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTE5Ni4wMDAwMDAsIDU2Ni4wMDAwMDApIj4NCiAgICAgICAgICAgICAgICA8Zz4NCiAgICAgICAgICAgICAgICAgICAgPHJlY3QgZmlsbD0iIzI4MjgyOCIgeD0iOCIgeT0iOCIgd2lkdGg9IjQ2IiBoZWlnaHQ9IjQ2Ij48L3JlY3Q+DQogICAgICAgICAgICAgICAgICAgIDxyZWN0IGZpbGw9IiMyODI4MjgiIHg9IjYyIiB5PSI4IiB3aWR0aD0iNDYiIGhlaWdodD0iNDYiPjwvcmVjdD4NCiAgICAgICAgICAgICAgICAgICAgPHJlY3QgZmlsbD0iIzI4MjgyOCIgeD0iMTE2IiB5PSI4IiB3aWR0aD0iNDYiIGhlaWdodD0iNDYiPjwvcmVjdD4NCiAgICAgICAgICAgICAgICAgICAgPHJlY3Qgc3Ryb2tlPSIjMjgyODI4IiB4PSIxNzIuNSIgeT0iOC41IiB3aWR0aD0iNDUiIGhlaWdodD0iNDUiPjwvcmVjdD4NCiAgICAgICAgICAgICAgICAgICAgPHJlY3QgZmlsbD0iIzAwMDAwMCIgb3BhY2l0eT0iMCIgeD0iMTg5IiB5PSIyNSIgd2lkdGg9IjEzIiBoZWlnaHQ9IjEzIj48L3JlY3Q+DQogICAgICAgICAgICAgICAgICAgIDxwb2x5Z29uIGZpbGw9IiM1MjUyNTIiIHBvaW50cz0iMjAyIDMyLjMxMjUgMTk2LjMxMjUgMzIuMzEyNSAxOTYuMzEyNSAzOCAxOTQuNjg3NSAzOCAxOTQuNjg3NSAzMi4zMTI1IDE4OSAzMi4zMTI1IDE4OSAzMC42ODc1IDE5NC42ODc1IDMwLjY4NzUgMTk0LjY4NzUgMjUgMTk2LjMxMjUgMjUgMTk2LjMxMjUgMzAuNjg3NSAyMDIgMzAuNjg3NSI+PC9wb2x5Z29uPg0KICAgICAgICAgICAgICAgICAgICA8cmVjdCBmaWxsPSIjNTI1MjUyIiB4PSI4IiB5PSI1OCIgd2lkdGg9IjMyIiBoZWlnaHQ9IjMiPjwvcmVjdD4NCiAgICAgICAgICAgICAgICAgICAgPHJlY3QgZmlsbD0iIzUyNTI1MiIgeD0iNjIiIHk9IjU4IiB3aWR0aD0iMzIiIGhlaWdodD0iMyI+PC9yZWN0Pg0KICAgICAgICAgICAgICAgICAgICA8cmVjdCBmaWxsPSIjNTI1MjUyIiB4PSIxMTYiIHk9IjU4IiB3aWR0aD0iMzIiIGhlaWdodD0iMyI+PC9yZWN0Pg0KICAgICAgICAgICAgICAgICAgICA8cG9seWdvbiBmaWxsPSIjNTI1MjUyIiBwb2ludHM9IjMwLjQwOTcwMzUgMzMuMjI2NDE1MSAzNC44NTcxNDI5IDI3IDQyIDM3IDIyIDM3IDI3LjcxNDI4NTcgMjkuODU3MTQyOSI+PC9wb2x5Z29uPg0KICAgICAgICAgICAgICAgICAgICA8cG9seWdvbiBmaWxsPSIjNTI1MjUyIiBwb2ludHM9Ijg0LjQwOTcwMzUgMzMuMjI2NDE1MSA4OC44NTcxNDI5IDI3IDk2IDM3IDc2IDM3IDgxLjcxNDI4NTcgMjkuODU3MTQyOSI+PC9wb2x5Z29uPg0KICAgICAgICAgICAgICAgICAgICA8cG9seWdvbiBmaWxsPSIjNTI1MjUyIiBwb2ludHM9IjEzOC40MDk3MDQgMzMuMjI2NDE1MSAxNDIuODU3MTQzIDI3IDE1MCAzNyAxMzAgMzcgMTM1LjcxNDI4NiAyOS44NTcxNDI5Ij48L3BvbHlnb24+DQogICAgICAgICAgICAgICAgPC9nPg0KICAgICAgICAgICAgPC9nPg0KICAgICAgICA8L2c+DQogICAgPC9nPg0KPC9zdmc+"},76756:e=>{e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjEwOHB4IiBoZWlnaHQ9IjEwOHB4IiB2aWV3Qm94PSIwIDAgMTA4IDEwOCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4NCiAgICA8ZyBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4NCiAgICAgICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTExOTYuMDAwMDAwLCAtNDQ2LjAwMDAwMCkiPg0KICAgICAgICAgICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTE5Ni4wMDAwMDAsIDQ0Ni4wMDAwMDApIj4NCiAgICAgICAgICAgICAgICA8Zz4NCiAgICAgICAgICAgICAgICAgICAgPHJlY3QgZmlsbD0iIzI4MjgyOCIgZmlsbC1ydWxlPSJub256ZXJvIiB4PSI4IiB5PSI4IiB3aWR0aD0iOTIiIGhlaWdodD0iOTIiPjwvcmVjdD4NCiAgICAgICAgICAgICAgICAgICAgPHJlY3QgZmlsbD0iIzQ0NDQ0NCIgZmlsbC1ydWxlPSJub256ZXJvIiB4PSI4IiB5PSI4MiIgd2lkdGg9IjkyIiBoZWlnaHQ9IjE4Ij48L3JlY3Q+DQogICAgICAgICAgICAgICAgICAgIDxyZWN0IGZpbGw9IiM2QTZBNkEiIHg9IjEyIiB5PSI4NiIgd2lkdGg9IjUxIiBoZWlnaHQ9IjQiPjwvcmVjdD4NCiAgICAgICAgICAgICAgICAgICAgPHJlY3QgZmlsbD0iIzZBNkE2QSIgeD0iMTIiIHk9Ijk0IiB3aWR0aD0iODQiIGhlaWdodD0iMiI+PC9yZWN0Pg0KICAgICAgICAgICAgICAgICAgICA8cG9seWdvbiBmaWxsPSIjNTI1MjUyIiBmaWxsLXJ1bGU9Im5vbnplcm8iIHBvaW50cz0iNTEuNjE0NTU1MyA0Ny4zMzk2MjI2IDU4LjI4NTcxNDMgMzggNjkgNTMgMzkgNTMgNDcuNTcxNDI4NiA0Mi4yODU3MTQzIj48L3BvbHlnb24+DQogICAgICAgICAgICAgICAgICAgIDxyZWN0IGZpbGw9IiMwMDAwMDAiIGZpbGwtcnVsZT0ibm9uemVybyIgb3BhY2l0eT0iMCIgeD0iMTIiIHk9IjQ2IiB3aWR0aD0iOCIgaGVpZ2h0PSI4Ij48L3JlY3Q+DQogICAgICAgICAgICAgICAgICAgIDxwb2x5Z29uIGZpbGw9IiM2QTZBNkEiIGZpbGwtcnVsZT0ibm9uemVybyIgcG9pbnRzPSIxOSA0NiAxNS45ODk0NTIxIDUwIDE5IDU0IDE3LjAxMDU0NzkgNTQgMTQgNTAgMTcuMDEwNTQ3OSA0NiI+PC9wb2x5Z29uPg0KICAgICAgICAgICAgICAgICAgICA8cmVjdCBmaWxsPSIjMDAwMDAwIiBmaWxsLXJ1bGU9Im5vbnplcm8iIG9wYWNpdHk9IjAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDkyLjAwMDAwMCwgNTAuMDAwMDAwKSBzY2FsZSgtMSwgMSkgdHJhbnNsYXRlKC05Mi4wMDAwMDAsIC01MC4wMDAwMDApICIgeD0iODgiIHk9IjQ2IiB3aWR0aD0iOCIgaGVpZ2h0PSI4Ij48L3JlY3Q+DQogICAgICAgICAgICAgICAgICAgIDxwb2x5Z29uIGZpbGw9IiM2QTZBNkEiIGZpbGwtcnVsZT0ibm9uemVybyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoOTEuNTAwMDAwLCA1MC4wMDAwMDApIHNjYWxlKC0xLCAxKSB0cmFuc2xhdGUoLTkxLjUwMDAwMCwgLTUwLjAwMDAwMCkgIiBwb2ludHM9Ijk0IDQ2IDkwLjk4OTQ1MjEgNTAgOTQgNTQgOTIuMDEwNTQ3OSA1NCA4OSA1MCA5Mi4wMTA1NDc5IDQ2Ij48L3BvbHlnb24+DQogICAgICAgICAgICAgICAgICAgIDxyZWN0IGZpbGw9IiM2QTZBNkEiIGZpbGwtcnVsZT0ibm9uemVybyIgeD0iMTIiIHk9IjEyIiB3aWR0aD0iOCIgaGVpZ2h0PSI4IiByeD0iNCI+PC9yZWN0Pg0KICAgICAgICAgICAgICAgICAgICA8cmVjdCBmaWxsPSIjNkE2QTZBIiBmaWxsLXJ1bGU9Im5vbnplcm8iIHg9Ijg0IiB5PSI3NiIgd2lkdGg9IjEyIiBoZWlnaHQ9IjEyIiByeD0iNiI+PC9yZWN0Pg0KICAgICAgICAgICAgICAgICAgICA8cmVjdCBmaWxsPSIjNkE2QTZBIiBmaWxsLXJ1bGU9Im5vbnplcm8iIHg9IjgxIiB5PSIxMiIgd2lkdGg9IjE1IiBoZWlnaHQ9IjgiIHJ4PSI0Ij48L3JlY3Q+DQogICAgICAgICAgICAgICAgPC9nPg0KICAgICAgICAgICAgPC9nPg0KICAgICAgICA8L2c+DQogICAgPC9nPg0KPC9zdmc+"},79244:e=>{"use strict";e.exports=a},79298:e=>{"use strict";e.exports=n},93303:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M9.438.994c.213 0 .397.146.44.35q.227 1.084.316 1.852.562.242 1.048.599l1.728-.676a.455.455 0 0 1 .556.188l1.42 2.394a.43.43 0 0 1-.091.547 22 22 0 0 1-1.49 1.194q.03.27.03.552 0 .32-.038.63l1.465 1.12a.43.43 0 0 1 .111.563l-1.42 2.394a.454.454 0 0 1-.53.197 23 23 0 0 1-1.807-.66q-.49.35-1.055.586l-.263 1.794a.446.446 0 0 1-.445.376H6.574a.446.446 0 0 1-.44-.35 21 21 0 0 1-.317-1.853 5.3 5.3 0 0 1-1.047-.598l-1.728.675a.455.455 0 0 1-.556-.187l-1.42-2.395a.43.43 0 0 1 .091-.546q.85-.735 1.49-1.194a5.167 5.167 0 0 1 .008-1.183L1.19 6.243a.43.43 0 0 1-.112-.562l1.42-2.395a.455.455 0 0 1 .531-.196q1.078.35 1.807.66c.324-.233.679-.43 1.056-.587l.262-1.794A.446.446 0 0 1 6.6.994zm-.365 1H6.985l-.28 1.866-.467.19q-.353.144-.672.34l-.207.136-.42.293-.476-.197q-.492-.205-1.169-.433l-.221-.074-1.045 1.719L3.59 6.999l-.06.479a4 4 0 0 0-.021.816l.014.144.058.492-.419.294q-.433.304-.979.746l-.177.145 1.043 1.72 1.845-.703.406.29q.307.219.645.384l.228.103.474.199.059.49q.06.507.19 1.177l.043.219h2.088l.282-1.867.466-.19q.354-.144.672-.34l.207-.136.419-.293.476.198q.495.204 1.17.433l.22.072 1.044-1.718-1.56-1.165.06-.479a4 4 0 0 0 .02-.815l-.013-.144-.06-.492.42-.295a18 18 0 0 0 .98-.746l.176-.146-1.043-1.72-1.844.705-.406-.29a4.5 4.5 0 0 0-.646-.385l-.228-.103-.474-.199-.058-.49q-.049-.405-.14-.916zm-1.067 3a3 3 0 1 1 0 6 3 3 0 0 1 0-6m0 1a2 2 0 1 0 0 4 2 2 0 0 0 0-4" clip-rule="evenodd"></path></svg>'},95043:e=>{"use strict";e.exports=JSON.parse('{"widgetId":"widget_x","config":{"layouts":{"layout_79":{"type":"FIXED","content":{"0":{"type":"WIDGET","bbox":{"left":0,"right":0,"top":0,"bottom":"19.9574%","width":"100.0000%","height":"80.0426%"},"widgetId":"widget_2","setting":{}},"1":{"type":"WIDGET","bbox":{"left":"3.5000%","right":"3.5000%","top":"85.3310%","bottom":0,"width":"93.0000%","height":"13.9141%"},"widgetId":"widget_3","setting":{"vCenter":false,"hCenter":false},"isPending":false},"2":{"type":"WIDGET","bbox":{"left":"66.3645%","right":"4.2824%","top":"76.2567%","bottom":"16.6765%","width":"29.3531%","height":"7.8668%"},"widgetId":"widget_4","setting":{"vCenter":false,"hCenter":false},"isPending":false}},"order":["0","1","2"],"label":"Default"}},"widgets":{"widget_x":{"config":{"templateType":"CUSTOM2","isTemplateConfirm":false,"isInitialed":false,"bookmarks":[],"runtimeAddAllow":false,"autoPlayAllow":false,"autoInterval":3,"direction":"HORIZON","pageStyle":"PAGING","space":10,"scrollBarOpen":true,"navigatorOpen":false,"transition":"None","displayType":"SELECTED","runtimeUuid":"","itemHeight":240,"itemWidth":240},"layouts":{"DEFAULT":{"LARGE":"layout_79"}}},"widget_2":{"uri":"widgets/common/image/","config":{"functionConfig":{"altText":"","toolTip":"","linkParam":{},"scale":"Fit","imageParam":{}},"styleConfig":{}}},"widget_3":{"uri":"widgets/common/text/","config":{"text":"","placeholder":"<p><span style=\\"font-size: 16px;\\">${textPlaceholder}</span></p>","style":{"verticalAlign":"start","wrap":true}}},"widget_4":{"uri":"widgets/common/button/","config":{"functionConfig":{},"styleConfig":{"themeStyle":{"quickStyleType":"primary"},"useCustom":false,"customStyle":{"regular":{"iconProps":{"color":"#fff","size":14}},"hover":{"iconProps":{"size":14}}}}}}},"views":{},"sections":{}}}')},98640:e=>{"use strict";e.exports=m}},t={};function A(i){var a=t[i];if(void 0!==a)return a.exports;var o=t[i]={exports:{}};return e[i](o,o.exports,A),o.exports}A.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return A.d(t,{a:t}),t},A.d=(e,t)=>{for(var i in t)A.o(t,i)&&!A.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},A.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),A.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},A.p="";var u={};return A.p=window.jimuConfig.baseUrl,(()=>{"use strict";A.r(u),A.d(u,{__set_webpack_public_path__:()=>Qe,default:()=>Ve});var e,t,i,a,o,s,n,l=A(67386),r=A(79244),g=A(41496),I=A(4108),d=A(79298),c=A(14321),m=A(62686),p=A(48993);!function(e){e.Horizon="HORIZON",e.Vertical="VERTICAL"}(e||(e={})),function(e){e.Scroll="SCROLL",e.Paging="PAGING"}(t||(t={})),function(e){e.All="ALL",e.Selected="SELECTED"}(i||(i={})),function(e){e.Card="CARD",e.List="LIST",e.Slide1="SLIDE1",e.Slide2="SLIDE2",e.Slide3="SLIDE3",e.Gallery="GALLERY",e.Navigator="NAVIGATOR",e.Custom1="CUSTOM1",e.Custom2="CUSTOM2"}(a||(a={})),function(e){e.Default="DEFAULT",e.Regular="REGULAR",e.Hover="HOVER"}(o||(o={})),function(e){e.Snapshot="SNAPSHOT",e.Custom="CUSTOM"}(s||(s={})),function(e){e.HonorMap="HONOR_MAP",e.Custom="CUSTOM"}(n||(n={}));var h=A(28996),C=A.n(h),y=function(e,t){var i={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(i[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(i[a[o]]=e[a[o]])}return i};const w=e=>{const t=window.SVG,{className:i}=e,a=y(e,["className"]),o=(0,r.classNames)("jimu-icon jimu-icon-component",i);return t?(0,l.jsx)(t,Object.assign({className:o,src:C()},a)):(0,l.jsx)("svg",Object.assign({className:o},a))};var j=A(37568),S=A.n(j),b=function(e,t){var i={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(i[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(i[a[o]]=e[a[o]])}return i};const M=e=>{const t=window.SVG,{className:i}=e,a=b(e,["className"]),o=(0,r.classNames)("jimu-icon jimu-icon-component",i);return t?(0,l.jsx)(t,Object.assign({className:o,src:S()},a)):(0,l.jsx)("svg",Object.assign({className:o},a))};var v=A(73304),x=A.n(v),D=function(e,t){var i={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(i[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(i[a[o]]=e[a[o]])}return i};const f=e=>{const t=window.SVG,{className:i}=e,a=D(e,["className"]),o=(0,r.classNames)("jimu-icon jimu-icon-component",i);return t?(0,l.jsx)(t,Object.assign({className:o,src:x()},a)):(0,l.jsx)("svg",Object.assign({className:o},a))},k=(e,t)=>{let i=!0;const a=Math.floor(e/t*1e6)/1e6;return.999999!==a&&1!==a&&(i=!1),i};const N=e=>{const t=(e,i)=>(e.forEach(e=>{var a;if("string"==typeof e.id&&e.id.includes("jimu-draw"))return;i[e.id]={layers:{}},i[e.id].visibility=null==e?void 0:e.visible;const o=e.layers||e.sublayers||e.allSublayers;o&&o.length>0&&t(o,null===(a=i[e.id])||void 0===a?void 0:a.layers)}),i);return t(e,{})};var T=function(e,t,i,a){return new(i||(i=Promise))(function(o,s){function n(e){try{r(a.next(e))}catch(e){s(e)}}function l(e){try{r(a.throw(e))}catch(e){s(e)}}function r(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(n,l)}r((a=a.apply(e,t||[])).next())})};const P=840;class B extends r.React.PureComponent{constructor(e){var t;super(e),this.Graphic=null,this.GraphicsLayer=null,this.LayerList=null,this.Extent=null,this.Viewpoint=null,this.reactiveUtils=null,this.mapTaskQueue=[],this.watchLayerViewVisibleChangeHandles=[],this.formatMessage=(e,t)=>this.props.formatMessage(e,t),this.changeLayerWithGraphics=e=>{const{graphics:t,currentSketch:i,currentBookmark:a}=this.state,o=null==i?void 0:i.layer,s=null==a?void 0:a.asMutable({deep:!0}),n=e?null==s?void 0:s.graphics:t;e&&this.setState({graphics:n});const l=(null==n?void 0:n.length)>0;null==o||o.removeAll(),l&&n&&n.forEach(e=>{const t=this.Graphic.fromJSON(e);t.layer=o,null==o||o.add(t)})},this.isGraphicsChanged=e=>{const{graphics:t}=this.state;return e&&!r.lodash.isDeepEqual(e.graphics,t)},this.locateAndSetLayersConfig=()=>{const{currentJimuMapView:e}=this.state;if(!e||!e.view)return;const{currentBookmark:t}=this.state,i=t.asMutable({deep:!0}),{viewpoint:a}=i;e.view.goTo(this.Viewpoint.fromJSON(a));const o=e.view.map.layers.toArray(),s=e.dataSourceId!==i.mapDataSourceId;((e,t,i=!1)=>{if(i)return;const a=(e,t)=>{e.forEach(e=>{var i,o,s;(e=>"hide"!==(null==e?void 0:e.listMode))(e)&&void 0!==(null===(i=t[e.id])||void 0===i?void 0:i.visibility)&&(e.visible=null===(o=t[e.id])||void 0===o?void 0:o.visibility);const n=e.layers||e.sublayers||e.allSublayers,l=null===(s=null==t?void 0:t[e.id])||void 0===s?void 0:s.layers;n&&n.length>0&&l&&Object.keys(l).length>0&&a(n.toArray(),l)})};a(e,t)})(o,i.layersConfig,s)},this.dataURLtoFile=(e,t)=>{const i=e.split(","),a=i[0].match(/:(.*?);/)[1],o=atob(i[1]);let s=o.length;const n=new Uint8Array(s);for(;s--;)n[s]=o.charCodeAt(s);return new File([n],t,{type:a})},this.uploadSnapFile=(e,t,i)=>{const{id:a}=this.props,o=(new Date).getTime(),s=this.dataURLtoFile(e,`${a}-snap${t}-${o}`),n=(new Date).getTime().toString(),l=s.name,g=`${l}.jpg`,d=s.size,c=s.type,m={file:s,fileName:g,originalName:l,type:r.ResourceType.Image,widgetId:a?a.replace(/\./g,"_").replace(/\-/g,"_"):null};let p;I.AppResourceManager.assignBlobUrlToResourceItem(m).then(e=>{I.AppResourceManager.getInstance().uploadAppResource(e),p={fileName:g,originalName:l,url:e.blobUrl,type:r.ResourceType.Image,size:d,created:Number(n),resourcesPrefix:e.resourcesPrefix,fileFormat:c},i(p)},e=>{console.error(e)})},this.focusOnCloseButton=()=>{this.floatingPanelCloseButton||(this.floatingPanelCloseButton=document.querySelector('div[role="dialog"] .bookmark-panel-header button.action-close')),(0,r.focusElementInKeyboardMode)(this.floatingPanelCloseButton)},this.handleClickUpdate=()=>{const{currentSketch:e,completeOperation:t}=this.state;this.isSaving=!0,this.focusOnCloseButton(),e&&(e.cancel(),t().then(()=>{this.isSaving=!1;const{currentJimuMapView:e,graphics:t}=this.state,{activeBookmarkId:i,jimuMapConfig:o}=this.props,n=o.bookmarks.find(e=>e.id===i),l=[a.Custom1,a.Custom2];this.setState({isShowDialog:!0,isChanged:!1});const g=e.view,I=g.map.layers.toArray(),d=N(I),c=n.snapParam,m=a=>{const s={id:i,name:n.name,title:n.title,description:n.description,type:g.type,imgParam:n.imgParam,snapParam:a||c,imagePosition:n.imagePosition,imgSourceType:n.imgSourceType,extent:g.extent.toJSON(),viewpoint:g.viewpoint.toJSON(),graphics:t,showFlag:!0,mapDataSourceId:e.dataSourceId,layersConfig:d};l.includes(o.templateType)&&(s.layoutId=n.layoutId,s.layoutName=n.layoutName),this.setState({currentBookmark:(0,r.Immutable)(s)}),this.props.onBookmarkUpdated(s)};n.imgSourceType===s.Snapshot?g.takeScreenshot().then(e=>{e.dataUrl&&this.uploadSnapFile(e.dataUrl,i,m)}):m()}))},this.handleClickClose=(e,t)=>{var i,a,o;const s=null===(i=null==e?void 0:e.target)||void 0===i?void 0:i.getBoundingClientRect();this.popperRef={getBoundingClientRect:()=>s};const{isChanged:n}=this.state;n&&!t?this.setState({closeConfirmOpen:!0}):(this.setState({isShowDialog:!1,viewEditable:!0}),(0,r.focusElementInKeyboardMode)(this.addTemplateButtonRef.current),null===(o=(a=this.props).onClose)||void 0===o||o.call(a))},this.handleClickReset=()=>{this.focusOnCloseButton(),this.changeLayerWithGraphics(!0),this.locateAndSetLayersConfig()},this.addNewShowConfig=()=>T(this,void 0,void 0,function*(){const{currentJimuMapView:e}=this.state;if(!e||!e.view)return;const t=e.view,i=i=>{this.bookmarkId++;const n=t.map.layers.toArray(),l=N(n),g={id:this.bookmarkId,name:`${this.formatMessage("bookmarkName")}-${this.bookmarkId}`,title:`${this.formatMessage("bookmarkName")}-${this.bookmarkId}`,type:t.type,imgParam:{},snapParam:i||{},imagePosition:c.ImageFillMode.Fill,imgSourceType:s.Snapshot,extent:t.extent.toJSON(),viewpoint:t.viewpoint.toJSON(),graphics:[],showFlag:!0,mapDataSourceId:(null==e||e.dataSourceId,null==e?void 0:e.dataSourceId),layersConfig:l},{jimuMapConfig:d,id:m,tempLayoutType:p}=this.props;if([a.Custom1,a.Custom2].includes(d.templateType)){let e;if(d.bookmarks&&d.bookmarks.length>0){const t=d.bookmarks.asMutable();e=t[t.length-1].layoutId}else{const t=(0,r.getAppStore)().getState().appStateInBuilder,i=t.appConfig;e=i.widgets[m].layouts[o.Default][t.browserSizeMode||i.mainSizeMode]}const t=this.props.duplicateNewLayouts(e,m,`Bookmark-${this.bookmarkId}`,`Bookmark-${this.bookmarkId}-label`,p);if(g.layoutName=`Bookmark-${this.bookmarkId}`,g.layoutId=t,0===d.bookmarks.length){const e=(0,r.getAppStore)().getState().appStateInBuilder.appConfig,t=(0,I.getAppConfigAction)(e);t.removeLayoutFromWidget(m,"DEFAULT");const i=t.appConfig;t.editWidgetProperty(m,"config",i).exec()}}this.setState({graphics:[],isChanged:!1,viewEditable:!0,currentBookmark:(0,r.Immutable)(g)},()=>{this.locateAndSetLayersConfig()}),this.props.onAddNewBookmark(g)};yield Promise.race([this.reactiveUtils.whenOnce(()=>!t.updating),new Promise(e=>setTimeout(e,3e3))]);const n=yield t.takeScreenshot();n.dataUrl&&this.uploadSnapFile(n.dataUrl,this.bookmarkId+1,i)}),this.showDialogAndEdit=()=>T(this,void 0,void 0,function*(){var e;const{activeBookmarkId:t,jimuMapConfig:i}=this.props,{currentBookmark:a,viewGroup:o,currentJimuMapView:s}=this.state,n=a.asMutable({deep:!0}),l=i.bookmarks.find(e=>e.id===t),r=((null==o?void 0:o.jimuMapViews)?Object.keys(o.jimuMapViews).map(e=>o.jimuMapViews[e].dataSourceId):[]).findIndex(e=>e===(null==l?void 0:l.mapDataSourceId))>-1,g=null===(e=null==o?void 0:o.getActiveJimuMapView())||void 0===e?void 0:e.dataSourceId;r&&n&&g&&g!==n.mapDataSourceId&&(null==o||o.switchMap());const I=s.view;yield this.reactiveUtils.whenOnce(()=>!I.updating),this.changeLayerWithGraphics(),this.locateAndSetLayersConfig(),this.setState({viewEditable:!0})}),this.handleActiveViewChange=e=>{const{currentJimuMapView:t}=this.state;t&&t.id!==e.id&&this.setState({isSwitching:!0},()=>{this.setState({isSwitching:!1})}),this.setState({currentJimuMapView:e},()=>{this.checkChange()})},this.handleEditWhenOpen=e=>{const{isShowDialog:t}=this.state;t&&this.handleNewOrEdit(e)},this.getDialogStatus=()=>{const{isShowDialog:e}=this.state;return e},this.handleNewOrEdit=e=>{var t;const{viewEditable:i,currentSketch:a}=this.state;i&&(a&&a.cancel(),this.setState({isShowDialog:!0,viewEditable:!1,currentBookmark:e,graphics:(null===(t=null==e?void 0:e.asMutable({deep:!0}))||void 0===t?void 0:t.graphics)||[],newFlag:!e},()=>{this.whenMapViewReady(()=>{e?this.showDialogAndEdit():this.addNewShowConfig()})}))},this.handleViewGroupCreate=e=>{this.setState({viewGroup:e})},this.handleJimuMapViewCreated=e=>{const t=e.view.map.layers,i=e=>{e.forEach(e=>{this.watchLayerViewVisibleChangeHandles.push(this.reactiveUtils.watch(()=>e.visible,(e,t)=>{e!==t&&this.checkChange(!0)}));const t=(null==e?void 0:e.layers)||e.sublayers||e.allSublayers;t&&t.length>0&&i(t.toArray())})};i(t)},this.getDefaultSize=()=>{const e=this.querySelector(`div.widget-renderer[data-widgetid="${this.props.useMapWidgetIds[0]}"]`),t=document.querySelector("#default")?document.querySelector("#default").clientHeight-20:1080;let i={width:P,height:850},a={width:P,height:P};if(e){const o=e.getBoundingClientRect(),s=o.width/o.height||1;let n=1.1*o.width,l=1.1*o.height+111,r=1.1*o.width,g=1.1*o.height;n<P?(n=P,l=P/s+111,r=P,g=P/s):n>1080&&(n=1080,l=1080/s+111,r=1080,g=1080/s),l>t&&(l=t,n=(t-111)*s>P?(t-111)*s:P),g>t-111&&(g=t-111,r=(t-111)*s),i={width:n,height:l},a={width:r-2,height:g}}return{innerSize:i,innerMapSize:a}},this.getMapRatio=()=>{const e=this.querySelector(`div.widget-renderer[data-widgetid="${this.props.useMapWidgetIds[0]}"]`);let t=1;if(e){const i=e.getBoundingClientRect();t=i.width/i.height||1}return t},this.getWidgetPosition=()=>{const e=(0,r.getAppStore)().getState().appStateInBuilder.appContext.isRTL;let t={x:500,y:50};const{innerSize:i}=this.getDefaultSize();return t={x:e?260:document.body.clientWidth-i.width-260,y:50},t},this.onDrawCreatedCallback=e=>{const{sketch:t,completeOperation:i,enableSymbolSelector:a}=e;this.setState({currentSketch:t,completeOperation:i,enableSymbolSelector:a})},this.toggleDrawTools=()=>{const{isDrawToolsOpen:e,enableSymbolSelector:t}=this.state;t(!!e),this.setState({isDrawToolsOpen:!e})},this.onDrawEndCallback=e=>{const{graphics:t}=this.state,i=e.toJSON();this.setState({graphics:t.concat(i)},()=>{this.checkChange()})},this.onDrawUpdatedCallback=({type:e,graphics:t})=>{const{graphics:i}=this.state;let a=0;t.forEach(t=>{const o=t.toJSON(),s=i.findIndex(e=>e.attributes.jimuDrawId===o.attributes.jimuDrawId),n=s>-1?i[s].geometry:{},l=o.geometry,g=s>-1?i[s].symbol:{},I=o.symbol;if(this.isSaving){if(r.lodash.isDeepEqual(n,l)&&r.lodash.isDeepEqual(g,I))return void a++}else if(r.lodash.isDeepEqual(n,l)&&"complete"===e)return void a++;if("deleted"===e)s>-1&&i.splice(s,1);else if("complete"===e&&s>-1){const e=i[s];i[s]=o,i[s].symbol=e.symbol}}),a!==t.length&&this.setState({graphics:i},()=>{this.checkChange()})},this.onDrawClearedCallback=()=>{this.setState({graphics:[]},()=>{this.checkChange()})},this.handleCloseOk=()=>{var e,t;const{currentSketch:i,completeOperation:a}=this.state;a&&a(),null==i||i.destroy(),(0,r.focusElementInKeyboardMode)(this.addTemplateButtonRef.current),this.setState({isShowDialog:!1,closeConfirmOpen:!1,viewEditable:!0}),null===(t=(e=this.props).onClose)||void 0===t||t.call(e)},this.handleCloseBtn=()=>{this.setState({closeConfirmOpen:!1})},this.getPopperStyle=e=>r.css`
      .popper-content {
        width: 100%;
        height: 100%;
        display: flex;
        flex-direction: column;
        .popper-header {
          width: 100%;
          flex-shrink: 0;
          flex-grow: 0;
          cursor: move;
        }
        .map-container {
          width: 100%;
          height: 100%;
          background-color: gray;
          display: contents;
        }
        .popper-footer {
          background: ${e.ref.palette.neutral[400]};
          color: ${e.ref.palette.neutral[1e3]};
          padding: ${e.sys.spacing(2)} ${e.sys.spacing(3)};
          .left-btn {
            position: absolute;
            margin: 6px;
          }
          .left-tool {
            position: absolute;
            left: 55px;
            z-index: 10;
            min-width: 440px;
          }
          .hidden-tool {
            display: none;
          }
          .right-btn {
            height: 45px;
            padding: 6px 2px;
            .btn {
              min-width: 80px;
            }
          }
          /* TODO hack API v4.32, /Beijing-R-D-Center/ExperienceBuilder/issues/23070 */
          .esri-sketch {
            background-color: var(--sys-color-secondary-dark) !important;
          }
        }
      }
    `,this.resizeRatio=e=>{const t=this.querySelector("body").getBoundingClientRect(),{mapRatio:i}=this.state;let{width:a}=e;a>1080&&(a=1080);let o=a/i+111;o>t.height&&(o=t.height,a=(t.height-111)*i),this.setState({mapSize:{width:a,height:o}})};const{jimuMapConfig:i,activeBookmarkId:n}=e,l=(null===(t=null==i?void 0:i.bookmarks)||void 0===t?void 0:t[n])||null;this.state={apiLoaded:!1,isShowDialog:!1,isChanged:!1,isSwitching:!1,currentJimuMapView:null,viewGroup:void 0,currentSketch:null,graphics:[],currentBookmark:l,closeConfirmOpen:!1,mapSize:this.getDefaultSize().innerSize,mapRatio:this.getMapRatio(),isDrawToolsOpen:!0,viewEditable:!0,newFlag:!1,completeOperation:void 0,enableSymbolSelector:null},e.onShowBookmarkConfig&&e.onShowBookmarkConfig(this),this.bookmarkId=e.maxBookmarkId,this.addTemplateButtonRef=r.React.createRef(),this.isSaving=!1,this._uiOptions={isHideBgColor:!0,isHideBorder:!0},this._drawingOptions={drawingElevationMode3D:"relative-to-scene",visibleElements:{createTools:{customText:"text"}}}}componentDidMount(){this.state.apiLoaded||(0,m.loadArcGISJSAPIModules)(["esri/Graphic","esri/layers/GraphicsLayer","esri/widgets/LayerList","esri/Viewpoint","esri/core/reactiveUtils"]).then(e=>{[this.Graphic,this.GraphicsLayer,this.LayerList,this.Viewpoint,this.reactiveUtils]=e,this.setState({apiLoaded:!0})})}componentDidUpdate(e,t){var i,a;const{currentSketch:o,graphics:s,currentJimuMapView:n}=this.state,{currentSketch:l,graphics:r}=t,{activeBookmarkId:g,jimuMapConfig:I,onClose:d}=this.props;0!==g&&I&&!I.bookmarks.some(e=>e.id===g)&&(null==d||d(!0),this.setState({isShowDialog:!1,viewEditable:!0}));const c=(null==o?void 0:o.layer)&&(null===(i=o.layer)||void 0===i?void 0:i.id)!==(null===(a=null==l?void 0:l.layer)||void 0===a?void 0:a.id),m=(null==o?void 0:o.layer)&&s!==r;if((c||m)&&this.changeLayerWithGraphics(),n&&n.view)for(;this.mapTaskQueue.length>0;){const e=this.mapTaskQueue.shift();"function"==typeof e&&e()}}whenMapViewReady(e){const{currentJimuMapView:t}=this.state;t&&t.view?e():this.mapTaskQueue.push(e)}componentWillUnmount(){const{currentSketch:e,completeOperation:t}=this.state;t&&t(),null==e||e.destroy(),this.watchLayerViewVisibleChangeHandles&&this.watchLayerViewVisibleChangeHandles.forEach(e=>{null==e||e.remove(),e=null})}checkChange(e=!1){const{currentBookmark:t}=this.state;if(!t)return;const i=null==t?void 0:t.asMutable({deep:!0}),a=this.isGraphicsChanged(i),o=this.isExtentViewpointChanged(i),s=this.isDataSourceIdChanged(i),n=e&&this.isLayersConfigChanged(i);this.setState({isChanged:a||o||s||n})}isExtentViewpointChanged(e){const{currentJimuMapView:t}=this.state;if(!t||!t.view)return!1;let i,a;const o=t.view;return"2d"===e.type&&(i=(null==e?void 0:e.extent)&&JSON.parse(JSON.stringify(e.extent)),a=(null==o?void 0:o.extent)&&JSON.parse(JSON.stringify(o.extent.toJSON()))),"3d"===e.type&&(i=(null==e?void 0:e.viewpoint)&&JSON.parse(JSON.stringify(e.viewpoint)),a=(null==o?void 0:o.viewpoint)&&JSON.parse(JSON.stringify(o.viewpoint.toJSON()))),!((e,t,i)=>{let a=!0;if(!e)return a;"2d"===i?["xmin","ymin","xmax","ymax"].forEach(i=>{k(null==e?void 0:e[i],null==t?void 0:t[i])||(a=!1)}):["camera","rotation","scale","targetGeometry"].forEach(i=>{"camera"===i?["heading","position","tilt"].forEach(i=>{var o,s;"position"===i?["x","y","z"].forEach(i=>{var o,s,n,l;k(null===(s=null===(o=null==e?void 0:e.camera)||void 0===o?void 0:o.position)||void 0===s?void 0:s[i],null===(l=null===(n=null==t?void 0:t.camera)||void 0===n?void 0:n.position)||void 0===l?void 0:l[i])||(a=!1)}):k(null===(o=null==e?void 0:e.camera)||void 0===o?void 0:o[i],null===(s=null==t?void 0:t.camera)||void 0===s?void 0:s[i])||(a=!1)}):"targetGeometry"===i?["x","y","z"].forEach(i=>{var o,s;k(null===(o=null==e?void 0:e.targetGeometry)||void 0===o?void 0:o[i],null===(s=null==t?void 0:t.targetGeometry)||void 0===s?void 0:s[i])||(a=!1)}):k(null==e?void 0:e[i],null==t?void 0:t[i])||(a=!1)});return a})(i,a,e.type)}isDataSourceIdChanged(e){const{currentJimuMapView:t}=this.state;return!(!t||!t.view)&&t.dataSourceId!==e.mapDataSourceId}isLayersConfigChanged(e){const{currentJimuMapView:t}=this.state;if(!t||!t.view)return!1;const i=t.view.map.layers.toArray(),a=N(i);return a&&!r.lodash.isDeepEqual(e.layersConfig,a)}querySelector(e){const t=document.querySelector(`iframe[name="${r.APP_FRAME_NAME_IN_BUILDER}"]`);if(t){return(t.contentDocument||t.contentWindow.document).querySelector(e)}return null}render(){var e;const{currentJimuMapView:t,isShowDialog:i,isSwitching:a,isChanged:o,closeConfirmOpen:s,isDrawToolsOpen:n,viewEditable:g,newFlag:I}=this.state,{title:d,theme:m}=this.props,h=this.props.useMapWidgetIds&&this.props.useMapWidgetIds[0],C=(0,r.getAppStore)().getState().appStateInBuilder.appConfig,A=(0,r.getAppStore)().getState().appStateInBuilder.appContext.isRTL;if(!C.widgets[h])return null;let u=C.widgets[h].useDataSources;if(I){const t=null===(e=C.widgets[h].config)||void 0===e?void 0:e.initialMapDataSourceID;(()=>u&&u.length>1&&t&&u[0].dataSourceId!==t)()&&(u=(0,r.Immutable)(u.asMutable({deep:!0}).reverse()))}const y=this.props.jimuMapConfig?this.props.jimuMapConfig.set("toolConfig",{canZoom:!0,canHome:!0,canSearch:!0,canCompass:!0,canNavigation:!0,canLayers:!0}):(0,r.Immutable)({}),j=r.css`
      .panel-header {
        background: ${m.ref.palette.neutral[400]};
        color: ${m.ref.palette.neutral[1e3]};
        height: 50px;
        flex-shrink: 0;
        font-size: 1rem;
        font-weight: 500;
        .jimu-btn {
          color: ${m.ref.palette.neutral[1e3]} !important;
        }
        & >.actions >.jimu-btn.action-close :hover {
          color: ${m.ref.palette.black};
        }
      }
    `,{innerMapSize:S,innerSize:b}=this.getDefaultSize(),v=(0,l.jsx)(c.Popper,{open:s,reference:this.popperRef,placement:"top",children:(0,l.jsx)("div",{css:r.css`
            position: absolute;
            z-index: 11;
            top: -16px;
            left: -${b.width-27}px;
            background-color: ${r.polished.rgba(m.sys.color.secondary.main,.65)};
            width: ${b.width}px;
            height: ${b.height}px;
            .real-container {
              background-color: ${m.ref.palette.neutral[400]};
              border: 1px solid ${m.ref.palette.neutral[700]};
              background-clip: padding-box;
              width: 400px;
              position: relative;
              top: 50%;
              margin: -60px auto 0;
              padding: 30px;
            }
            .confirm-context {
              .title-icon{
                padding: 0 6px;
              }
              .title-label{
                font-size: 1rem;
              }
            }
            .confirm-footer {
              display: flex;
              justify-content: flex-end;
              margin-top: 30px;
              button {
                cursor: pointer;
                margin-left: 10px;
                min-width: 80px;
              }
            }
        `,children:(0,l.jsxs)("div",{className:"real-container",children:[(0,l.jsxs)("div",{className:"confirm-context d-flex align-items-start",children:[(0,l.jsx)("div",{className:"title-icon",children:(0,l.jsx)(w,{size:24,color:"var(--sys-color-warning-main)"})}),(0,l.jsx)("div",{className:"title-label",role:"alert","aria-live":"polite",children:this.formatMessage("confirmUnsave")})]}),(0,l.jsxs)("div",{className:"confirm-footer",children:[(0,l.jsx)(c.Button,{type:"primary",onClick:this.handleCloseOk,children:this.formatMessage("yes")}),(0,l.jsx)(c.Button,{onClick:this.handleCloseBtn,children:this.formatMessage("cancel")})]})]})})}),x=(0,l.jsx)(c.FloatingPanel,{onHeaderClose:e=>{this.handleClickClose(e)},defaultPosition:this.getWidgetPosition(),headerTitle:d,size:b,minSize:{width:P,height:850},disableResize:!0,css:j,headerClassName:"bookmark-panel-header",className:"surface-2",disableActivateOverlay:!0,dragBounds:"body",children:(0,l.jsx)("div",{className:"rounded-1 w-100 h-100",css:this.getPopperStyle(m),ref:e=>{this.reference=e},children:(0,l.jsxs)("div",{className:"popper-content",children:[(0,l.jsx)("div",{style:{width:`${S.width}px`,height:`${S.height}px`,margin:"0 auto"},children:(0,l.jsxs)("div",{className:"map-container",children:[(0,l.jsx)(p.JimuMap,{id:`${this.props.id}editor`,useDataSources:u,jimuMapConfig:y,onActiveViewChange:this.handleActiveViewChange,onExtentChanged:()=>{this.checkChange()},onViewPointChanged:()=>{this.checkChange()},onViewGroupCreate:this.handleViewGroupCreate,onJimuMapViewCreated:this.handleJimuMapViewCreated}),v]})}),(0,l.jsxs)("div",{className:"popper-footer",children:[(0,l.jsx)("div",{className:"left-btn",children:(0,l.jsx)(c.Button,{icon:!0,type:"tertiary",onClick:this.toggleDrawTools,children:n?(0,l.jsx)(M,{className:"mr-1",css:r.css`${A&&"transform: scaleX(-1);"}`}):(0,l.jsx)(f,{className:"mr-1",css:r.css`${A&&"transform: scaleX(-1);"}`})})}),(0,l.jsx)("div",{className:"left-tool "+(n?"":"hidden-tool"),children:t&&t.view&&!a&&(0,l.jsx)(p.JimuDraw,{jimuMapView:t,operatorWidgetId:this.props.id,drawingOptions:this._drawingOptions,uiOptions:this._uiOptions,onJimuDrawCreated:this.onDrawCreatedCallback,onDrawingFinished:this.onDrawEndCallback,onDrawingUpdated:this.onDrawUpdatedCallback,onDrawingCleared:this.onDrawClearedCallback})}),(0,l.jsxs)("div",{className:"float-right right-btn",children:[(0,l.jsx)(c.Button,{className:"mr-2",type:"primary",onClick:this.handleClickUpdate,disabled:!o,"data-testid":"popperSaveBtn",children:o?this.formatMessage("save"):this.formatMessage("saved")}),(0,l.jsx)(c.Button,{className:"mr-1",onClick:this.handleClickReset,disabled:!o,children:this.formatMessage("reset")})]})]})]})})});return(0,l.jsxs)("div",{className:"w-100",children:[(0,l.jsx)(c.Button,{className:"w-100 text-default map-popper-btn",type:"primary",disabled:!g,onClick:()=>{this.handleNewOrEdit()},ref:this.addTemplateButtonRef,children:this.props.buttonLabel}),i&&x]})}}const O={chooseTemplateTip:"Select a template",simpleTemplateTip:"Allows you to easily configure bookmarks based on a unique template",advancedTemplateTip:"Provides you the flexibility to create your own bookmark design",resettingTheTemplate:"Select another template ",customBookmarkDesign:"or customize your bookmark design",addBookmark:"Add bookmark",setBookmarkView:"Set bookmark view",runtimeAddAllow:"Allow to add bookmarks in widget",autoLoopAllow:"Loop",displayFromWeb:"Display bookmarks from web map",ignoreLayerVisibility:"Ignore layer visibility",autoInterval:"Interval",hideFromWidget:"Hide",showFromWidget:"Show",confirmHeaderText:"Delete bookmark",deleteRemind:"Are you sure you want to delete this bookmark?",changeRemind:"Switching from the custom template to other template will lose the custom style you configured.",simple:"Simple",paging:"Paging",scrollBar:"Scroll bar",navigator:"Navigator",horizontalSpacing:"Horizontal spacing",verticalSpacing:"Vertical spacing",drawingDisplay:"Bookmark drawing display",displayAll:"Display all bookmark drawings",displaySelected:"Only display the current bookmark drawings",confirmUnsave:"You have unsaved changes, do you want to close?",imagePosition:"Image Position",itemHeight:"Item height",itemWidth:"Item width",customTips:"To config the bookmark content using advanced template, please select each component on canvas. For example click on image to access image settings.",buttonText:"Button",textPlaceholder:"Double click to edit text",typeCard:"Grid",typeList:"List",typeGallery:"Gallery",slideOne:"Slide1",slideTwo:"Slide2",slideThree:"Slide3",customOne:"Custom1",customTwo:"Custom2",bookmarkName:"Bookmark",save:"Save",saved:"Saved",imageSnapshot:"Snapshot",changeBookmarkView:"Change the bookmark view",imageSource:"Image source",graphicLayer:"Bookmark graphics layer-{viewId}",initBookmark:"Active on loading",initBookmarkTips:"Initialize the first bookmark on the map automatically when the bookmark widget is loaded. If not checked\uff0cbookmark will not be activated until manually clicked or navigated to.",switchRemind:"Switching the connected Map widget will clear all saved bookmarks with the current map.",changeConfirmTitle:"Are you sure you want to change the template?",playEnable:"Enable play control",cardBackground:"Card background",displayName:"Display bookmark name",hideIcon:"Hide icon",honorMapSize:"Honor map bookmark size",itemSize:"Item size",keepAspectRatio:"Keep aspect ratio",aspectRatio:"Aspect ratio",bookmarkTitleName:"Bookmark name",bookmarkDetailSetting:"More bookmark info setting",bookmarkLabel:"Bookmark name",bookmarkDescription:"Bookmark description"};var z=A(68972),L=A(15562);function W(e){return r.css`
    &.jimu-widget-bookmark-setting {
      &.bookmark-setting-con-with-template-scroll {
        height: calc(100% - 216px) !important;
        .next-con div {
          bottom: 218px !important;
        }
      }
      .resetting-template {
        cursor: pointer;
        color: ${e.sys.color.primary.light};
        padding: 0 2px 1px 0;
        font-size: ${e.sys.spacing(3)};
      }
      .resetting-template:hover {
        cursor: pointer;
        color: ${r.polished.rgba(e.sys.color.primary.light,.8)};
      }
      .bookmark-setting {
        display: flex;
        flex-direction: column;
        height: 100%;
        .bookmark-setting-flex {
          flex: 1;
        }
        .card-size-edit {
          width: 120px;
        }
      }
      .tips-pos {
        margin-top: -2px;
      }
      .template-group {
        button {
          padding: 0;
        }
        .template-img {
          cursor: pointer;
          width: 100%;
          height: 70px;
          border: 1px solid ${e.ref.palette.neutral[500]};
          background-color: ${e.ref.palette.white};
          margin-right: 0;
          &.active {
            border: 2px solid ${e.sys.color.primary.main};
          }
          &.template-img-h {
            width: 109px;
            height: 109px;
          }
          &.template-img-gallery {
            width: 227px;
            height: 69px;
          }
        }
        .vertical-space {
          height: 10px;
        }
      }
    }
  `}function Z(e,t){return r.css`
    &.next-con {
      & {
        height: 48px;
      }
      .position-absolute-con, .position-relative-con {
        padding-top: ${e.sys.spacing(2)};
        margin-left: -${e.sys.spacing(4)};
      }
      div{
        padding: ${e.sys.spacing(4)};
        background: ${e.ref.palette.neutral[400]};
        left: ${e.sys.spacing(4)};
        bottom: 0;
        width: ${t}px
      }
    }
  `}var H=A(45508),G=A.n(H),E=function(e,t){var i={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(i[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(i[a[o]]=e[a[o]])}return i};const R=e=>{const t=window.SVG,{className:i}=e,a=E(e,["className"]),o=(0,r.classNames)("jimu-icon jimu-icon-component",i);return t?(0,l.jsx)(t,Object.assign({className:o,src:G()},a)):(0,l.jsx)("svg",Object.assign({className:o},a))};var V=A(45075),Q=A.n(V),U=function(e,t){var i={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(i[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(i[a[o]]=e[a[o]])}return i};const J=e=>{const t=window.SVG,{className:i}=e,a=U(e,["className"]),o=(0,r.classNames)("jimu-icon jimu-icon-component",i);return t?(0,l.jsx)(t,Object.assign({className:o,src:Q()},a)):(0,l.jsx)("svg",Object.assign({className:o},a))};var F=A(12971),Y=A.n(F),K=function(e,t){var i={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(i[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(i[a[o]]=e[a[o]])}return i};const $=e=>{const t=window.SVG,{className:i}=e,a=K(e,["className"]),o=(0,r.classNames)("jimu-icon jimu-icon-component",i);return t?(0,l.jsx)(t,Object.assign({className:o,src:Y()},a)):(0,l.jsx)("svg",Object.assign({className:o},a))};var _=A(35809),q=A(98640),X=A(13495),ee=A.n(X),te=function(e,t){var i={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(i[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(i[a[o]]=e[a[o]])}return i};const ie=e=>{const t=window.SVG,{className:i}=e,a=te(e,["className"]),o=(0,r.classNames)("jimu-icon jimu-icon-component",i);return t?(0,l.jsx)(t,Object.assign({className:o,src:ee()},a)):(0,l.jsx)("svg",Object.assign({className:o},a))};var ae=A(62838),oe=A.n(ae),se=function(e,t){var i={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(i[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(i[a[o]]=e[a[o]])}return i};const ne=e=>{const t=window.SVG,{className:i}=e,a=se(e,["className"]),o=(0,r.classNames)("jimu-icon jimu-icon-component",i);return t?(0,l.jsx)(t,Object.assign({className:o,src:oe()},a)):(0,l.jsx)("svg",Object.assign({className:o},a))};var le=A(93303),re=A.n(le),ge=function(e,t){var i={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(i[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(i[a[o]]=e[a[o]])}return i};const Ie=e=>{const t=window.SVG,{className:i}=e,a=ge(e,["className"]),o=(0,r.classNames)("jimu-icon jimu-icon-component",i);return t?(0,l.jsx)(t,Object.assign({className:o,src:re()},a)):(0,l.jsx)("svg",Object.assign({className:o},a))},de=r.css`
  .label-text {
    padding: 3px 0;
    width: 110px;
  }
  .label-input {
    padding: 3px 0;
    width: 110px;
    .input-wrapper {
      height: 26px;
    }
  }
`,ce=e=>{const{bookmarkLabel:t,onBookmarkNameChange:i,onBookmarkNameBlur:a,onClickBookmarkName:o}=e,[s,n]=r.React.useState(!1),g=r.React.useRef(null);r.React.useEffect(()=>{s&&I()},[s]);const I=()=>{g.current&&((0,r.focusElementInKeyboardMode)(g.current),g.current.select())};return(0,l.jsxs)("div",{css:de,children:[!s&&(0,l.jsx)("div",{title:t,className:"label-text text-truncate",onDoubleClick:e=>{e.stopPropagation(),n(!0)},onClick:o,onKeyUp:e=>{"Tab"===e.key&&n(!0)},tabIndex:0,role:"button",children:t}),s&&(0,l.jsx)(c.TextInput,{className:"label-input",title:t,value:t||"",ref:g,type:"text",onChange:e=>{i(e.target.value)},onBlur:e=>{(e=>{n(!1),a(e.target.value)})(e)},onClick:e=>{e.stopPropagation()},onKeyDown:e=>{if("Enter"===e.key){const t=e.target;null==t||t.blur(),n(!1)}}})]})},me=e=>{const{theme:t,bookmarks:i,templateType:o,activeId:n,expandedId:g,widgetId:I,onSelect:m,onEdit:p,onDelete:h,onExpand:C,onSort:A,onPropertyChange:u,formatMessage:y}=e,w=r.css`
    width: 100%;
    .jimu-tree-item__droppable, .jimu-tree-item__draggable, .jimu-tree-item__body {
      width: 100%;
    }
    .jimu-tree-main {
      overflow: hidden;
    }
    .jimu-tree-item__main-line {
      height: 32px;
      background-color: var(--sys-color-divider-tertiary);
    }
    .jimu-tree-item__body {
      background-color: transparent !important;
      &:after {
        height: 32px;
      }
    }
    .bookmark-input-textarea textarea {
      resize: none;
    }
  `,j=i.asMutable().map(e=>{const t=[a.List,a.Custom1,a.Custom2];return{itemKey:e.id.toString(),itemStateExpanded:g===e.id&&!t.includes(o),itemStateChecked:n===e.id}}),S=(e,t,a)=>{const o=i.map(i=>i.id.toString()===e?i.set(t,a):i);u("bookmarks",o)},[b,M]=r.React.useState((0,r.Immutable)({}));r.React.useEffect(()=>{let e=(0,r.Immutable)({});i.forEach(t=>{e=e.set(t.id.toString(),t.name)}),M(e)},[i]);return(0,l.jsx)(q.List,{css:w,itemsJson:j,dndEnabled:!0,isMultiSelection:!1,treeStyle:q.TreeStyle.Card,renderOverrideItemTitle:(e,t)=>{const a=t.props.itemJsons[0],o=a.itemKey,s=i.find(e=>e.id.toString()===a.itemKey);return(0,l.jsx)(ce,{bookmarkLabel:b[o],onBookmarkNameChange:e=>{const t=b.set(o,e);M(t)},onBookmarkNameBlur:e=>{const t=i.find(e=>e.id.toString()===o),a=""===e.trim()?t.name:e;S(o,"name",a)},onClickBookmarkName:()=>{m(s)}})},renderOverrideItemDetailToggle:(e,t)=>{const a=t.props.itemJsons[0],o=i.find(e=>e.id.toString()===a.itemKey);return(0,l.jsx)("div",{className:"h-100 flex-grow-1",onClick:()=>{m(o)}})},renderOverrideItemCommands:(e,s)=>{const n=r.css`
      button {
        padding: 0 !important;
      }
      .active-setting {
        background-color: ${t.sys.color.primary.main};
        color: ${t.sys.color.primary.text};
      }
    `,I=s.props.itemJsons[0],d=i.find(e=>e.id.toString()===I.itemKey),m=[a.List,a.Custom1,a.Custom2],A=()=>{p(d)},u=()=>{h(d)},w=()=>{C(d)};return(0,l.jsxs)("div",{css:n,className:"d-flex align-items-center justify-content-end",children:[(0,l.jsx)(c.Button,{title:y("changeBookmarkView"),onClick:A,type:"tertiary",icon:!0,onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),e.stopPropagation())},onKeyUp:e=>{"Enter"!==e.key&&" "!==e.key||(e.stopPropagation(),A())},children:(0,l.jsx)(ie,{size:"m"})}),!m.includes(o)&&(0,l.jsx)(c.Button,{title:y("bookmarkDetailSetting"),onClick:w,type:"tertiary",icon:!0,active:d.id===g,className:d.id===g?"active-setting":"",onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),e.stopPropagation())},onKeyUp:e=>{"Enter"!==e.key&&" "!==e.key||(e.stopPropagation(),w())},children:(0,l.jsx)(Ie,{size:"m"})}),(0,l.jsx)(c.Button,{title:y("deleteOption"),onClick:u,type:"tertiary",icon:!0,onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),e.stopPropagation())},onKeyUp:e=>{"Enter"!==e.key&&" "!==e.key||(e.stopPropagation(),u())},children:(0,l.jsx)(ne,{size:"m"})})]})},renderOverrideItemDetailLine:(e,t)=>{var n;const m=r.css`
      width: 100%;
      border: 1px solid var(--sys-color-divider-tertiary);
      border-width: 0 1px 1px;
      padding: 8px;
    `,p=t.props.itemJsons[0].itemKey;if(p!==g.toString())return null;const h=i.find(e=>e.id.toString()===p),C=null===(n=null==h?void 0:h.imgParam)||void 0===n?void 0:n.originalName,A=[a.Slide1,a.Slide2,a.Slide3];return(0,l.jsxs)("div",{css:m,children:[(0,l.jsxs)("div",{"aria-label":y("imageSource"),role:"group",children:[(0,l.jsx)(d.SettingRow,{label:y("imageSource"),className:"mb-2"}),(0,l.jsxs)(c.Tabs,{fill:!0,type:"pills",onChange:e=>{S(p,"imgSourceType",s[e])},value:h.imgSourceType===s.Custom?"Custom":"Snapshot",children:[(0,l.jsx)(c.Tab,{id:"Snapshot",title:y("imageSnapshot"),children:(0,l.jsx)("div",{className:"mt-2"})}),(0,l.jsx)(c.Tab,{id:"Custom",title:y("custom"),children:(0,l.jsx)("div",{className:"mt-2",children:(0,l.jsx)(d.SettingRow,{children:(0,l.jsxs)("div",{className:"w-100 d-flex align-items-center mb-1 mt-1",children:[(0,l.jsx)("div",{style:{minWidth:"60px"},children:(0,l.jsx)(_.ImageSelector,{buttonClassName:"text-dark d-flex justify-content-center btn-browse",widgetId:I,buttonLabel:y("setAnImage"),buttonSize:"sm",onChange:e=>{S(p,"imgParam",e)},imageParam:h.imgParam})}),(0,l.jsx)("div",{style:{width:"70px"},className:"uploadFileName ml-2 text-truncate",title:C||y("none"),children:C||y("none")})]})})})})]})]}),(0,l.jsx)(d.SettingRow,{label:y("imagePosition"),className:"mt-2",truncateLabel:!0,children:(0,l.jsx)("div",{style:{width:"40%"},children:(0,l.jsxs)(c.Select,{size:"sm",value:h.imagePosition,onChange:e=>{S(p,"imagePosition",e.target.value)},"aria-label":y("imagePosition"),children:[(0,l.jsx)("option",{value:c.ImageFillMode.Fill,children:y("fill")},0),(0,l.jsx)("option",{value:c.ImageFillMode.Fit,children:y("fit")},1)]})})}),A.includes(o)&&(0,l.jsx)(d.SettingRow,{flow:"wrap",label:y("description"),className:"mb-2",role:"group","aria-label":y("description"),children:(0,l.jsx)(c.TextArea,{className:"w-100 bookmark-input-textarea",title:h.description,value:h.description||"",onChange:e=>{S(p,"description",e.target.value)},spellCheck:!1})})]})},onUpdateItem:(e,t)=>{if("handleDidDrop"===e.updateType){const{dragItemIndex:t,targetDropItemIndex:i}=e;null==A||A(t,i)}},overrideItemBlockInfo:()=>({name:q.TreeItemActionType.RenderOverrideItem,children:[{name:q.TreeItemActionType.RenderOverrideItemDroppableContainer,children:[{name:q.TreeItemActionType.RenderOverrideItemDraggableContainer,children:[{name:q.TreeItemActionType.RenderOverrideItemBody,children:[{name:q.TreeItemActionType.RenderOverrideItemMainLine,children:[{name:q.TreeItemActionType.RenderOverrideItemDragHandle},{name:q.TreeItemActionType.RenderOverrideItemTitle},{name:q.TreeItemActionType.RenderOverrideItemDetailToggle},{name:q.TreeItemActionType.RenderOverrideItemCommands}]},{name:q.TreeItemActionType.RenderOverrideItemDetailLine}]}]}]}]})})};var pe=A(54337);const he=40,Ce=150;var Ae=A(8547),ue=A.n(Ae),ye=function(e,t){var i={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(i[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(i[a[o]]=e[a[o]])}return i};const we=e=>{const t=window.SVG,{className:i}=e,a=ye(e,["className"]),o=(0,r.classNames)("jimu-icon jimu-icon-component",i);return t?(0,l.jsx)(t,Object.assign({className:o,src:ue()},a)):(0,l.jsx)("svg",Object.assign({className:o},a))};var je=A(51334),Se=A.n(je),be=function(e,t){var i={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(i[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(i[a[o]]=e[a[o]])}return i};const Me=e=>{const t=window.SVG,{className:i}=e,a=be(e,["className"]),o=(0,r.classNames)("jimu-icon jimu-icon-component",i);return t?(0,l.jsx)(t,Object.assign({className:o,src:Se()},a)):(0,l.jsx)("svg",Object.assign({className:o},a))},ve=e=>{const{itemSizeType:t,onPropertyChange:i}=e,a=r.hooks.useTranslation(O,c.defaultMessages),o=a("custom"),s=a("honorMapSize"),g=t===n.Custom?o:s;return(0,l.jsx)(d.SettingRow,{className:"mt-2",flow:"wrap",label:a("itemSize"),"aria-label":a("itemSize"),children:(0,l.jsxs)(c.Select,{value:t,title:g,"aria-label":a("itemSize"),onChange:e=>{var t;const a=null===(t=null==e?void 0:e.target)||void 0===t?void 0:t.value;i("itemSizeType",a)},size:"sm",children:[(0,l.jsx)("option",{value:n.Custom,title:o,children:(0,l.jsx)("div",{className:"text-truncate",children:o})},"custom"),(0,l.jsx)("option",{value:n.HonorMap,title:s,children:(0,l.jsx)("div",{className:"text-truncate",children:s})},"honorMap")]})})},{useState:xe,useRef:De}=r.React,fe=e=>{const{widgetId:t,savedConfig:i,cardItemWidth:a=Ce,cardItemHeight:o,widgetRect:s,onPropertyChange:I,onSettingChange:m,keepAspectRatio:p,cardItemSizeRatio:h,itemSizeType:C}=e,[A,u]=xe(!0),[y,w]=xe(null),j=De(null),S=r.hooks.useTranslation(O),b=[c.DistanceUnits.PIXEL,c.DistanceUnits.PERCENTAGE],M=[c.DistanceUnits.PIXEL],v=c.utils.toLinearUnit(a),x=c.utils.toLinearUnit(o),D=r.lodash.debounce(e=>{B(e)},200),f=(e,n)=>{const l=k(a||Ce,o),r=n?null==l?void 0:l.height:null==l?void 0:l.width,g=n?null==s?void 0:s.height:N();let d=he;(null==e?void 0:e.unit)===c.DistanceUnits.PERCENTAGE&&(d=n?4e3/g:5e3/g);T(e,n)&&!n&&(e.unit===c.DistanceUnits.PIXEL&&(e.distance=r.distance*g/100-10),e.unit===c.DistanceUnits.PERCENTAGE&&(e.distance=100*(r.distance+10)/g));const C=e.distance<d?d:e.distance;if(e.distance=C,n){const t=c.utils.stringOfLinearUnit(e);I("cardItemHeight",t)}else{const a=c.utils.stringOfLinearUnit(e);let o=i.set("cardItemWidth",a);if(p){const t=((null==e?void 0:e.unit)===c.DistanceUnits.PERCENTAGE?C*g/100:C)*h;o=o.set("cardItemHeight",t)}m({id:t,config:o})}},k=(e,t)=>({width:c.utils.toLinearUnit(e),height:c.utils.toLinearUnit(t)}),N=()=>(null==s?void 0:s.width)-24||0,T=(e,t)=>{const i=k(a||Ce,o),s=t?null==i?void 0:i.height:null==i?void 0:i.width;return e.unit!==s.unit&&!(!s.unit&&e.unit===c.DistanceUnits.PIXEL)},P=e=>{let t;if(e.unit===c.DistanceUnits.PERCENTAGE){const i=N();t=e.distance*i/100-10}else t=e.distance;return t},B=e=>{const s=null==e?void 0:e.split(":"),n=Number(null==s?void 0:s[1]),l=Number(null==s?void 0:s[0]);if(n<=0||l<=0)return!1;const r=n/l;if(!r)return!1;const g=z(r,a||Ce,o),I=c.utils.stringOfLinearUnit(g.width),d=c.utils.stringOfLinearUnit(g.height);w(e),j.current=e;const p=i.set("cardItemSizeRatio",r).set("cartItemWidth",I).set("cardItemHeight",d);m({id:t,config:p})},z=(e,t,i)=>{const a=k(t,i),o=P(a.width);return a.height.distance=e*o,a};return(0,l.jsx)(d.SettingSection,{children:(0,l.jsxs)(c.CollapsablePanel,{label:S("arrangement"),isOpen:A,onRequestOpen:()=>{u(!0)},onRequestClose:()=>{u(!1)},role:"group","aria-label":S("arrangement"),children:[(0,l.jsx)(ve,{itemSizeType:C,onPropertyChange:I}),C===n.Custom&&(0,l.jsxs)(r.React.Fragment,{children:[(0,l.jsx)(d.SettingRow,{label:S("width"),"aria-label":S("width"),children:(0,l.jsx)("div",{className:"card-size-edit",children:(0,l.jsx)(L.SizeEditor,{disableModeSelect:!0,label:"W",mode:g.LayoutItemSizeModes.Custom,value:v,availableUnits:b,onChange:e=>{f(e,!1)}})})}),(0,l.jsx)("div",{className:"ml-1 d-flex",children:(0,l.jsx)(c.Tooltip,{title:S("keepAspectRatio"),placement:"bottom",children:(0,l.jsx)(c.Button,{size:"sm",type:"tertiary",onClick:()=>{let e=i.set("keepAspectRatio",!p);if(w(null),j.current=null,!p){const t=k(a||Ce,o),i=P(t.width),s=t.height.distance/i;e=e.set("cardItemSizeRatio",s)}m({id:t,config:e})},icon:!0,"aria-pressed":p,children:p?(0,l.jsx)(we,{size:"s"}):(0,l.jsx)(Me,{size:"s"})})})}),(0,l.jsx)(d.SettingRow,{label:S("height"),"aria-label":S("height"),children:(0,l.jsx)("div",{className:"card-size-edit",children:(0,l.jsx)(L.SizeEditor,{label:"H",disableModeSelect:!0,mode:g.LayoutItemSizeModes.Custom,value:x,availableUnits:M,onChange:e=>{f(e,!0)},disabled:p})})}),p&&(0,l.jsx)(d.SettingRow,{label:S("aspectRatio"),"aria-label":S("aspectRatio"),children:(0,l.jsx)(L.InputRatio,{style:{width:"7.5rem"},value:((e,t)=>t||j.current?t||j.current:`100:${100*e} `)(h,y),onChange:D})})]})]})})},{useState:ke}=r.React,Ne=[{icon:"right",value:e.Horizon},{icon:"down",value:e.Vertical}],Te=t=>{const{direction:i,handleDirectionClick:a,handleFormChange:o,galleryItemSpace:s,onPropertyChange:g,itemSizeType:I,galleryItemWidth:m,galleryItemHeight:p}=t,[h,C]=ke(!0),A=r.hooks.useTranslation(O),u=i===e.Vertical;return(0,l.jsx)(d.SettingSection,{children:(0,l.jsxs)(c.CollapsablePanel,{label:A("arrangement"),isOpen:h,onRequestOpen:()=>{C(!0)},onRequestClose:()=>{C(!1)},role:"group","aria-label":A("arrangement"),children:[(0,l.jsx)(d.SettingRow,{className:"mt-2",label:A("direction"),role:"group","aria-label":A("direction"),children:(0,l.jsx)(c.AdvancedButtonGroup,{size:"sm",children:Ne.map((e,t)=>(0,l.jsx)(c.Button,{icon:!0,active:i===e.value,"data-value":e.value,onClick:a,"aria-label":"right"===e.icon?A("horizontal"):A("vertical"),children:"right"===e.icon?(0,l.jsx)(J,{size:"s"}):(0,l.jsx)($,{size:"s"})},t))})}),(0,l.jsx)(d.SettingRow,{flow:"wrap",role:"group",label:A(u?"verticalSpacing":"horizontalSpacing")+" (px)","aria-label":A(u?"verticalSpacing":"horizontalSpacing")+" (px)",children:(0,l.jsxs)("div",{className:"d-flex justify-content-between w-100 align-items-center",children:[(0,l.jsx)(c.Slider,{style:{width:"60%"},"data-field":"galleryItemSpace",onChange:o,value:null!=s?s:24,title:"0-50",min:0,max:50}),(0,l.jsx)(c.NumericInput,{style:{width:"25%"},value:null!=s?s:24,min:0,max:50,title:"0-50",onChange:e=>{g("galleryItemSpace",e)}})]})}),(0,l.jsx)(ve,{itemSizeType:I,onPropertyChange:g}),I===n.Custom&&(0,l.jsx)(d.SettingRow,{flow:"wrap",role:"group",label:`${A(u?"height":"width")} (px)`,"aria-label":`${A(u?"height":"width")} (px)`,children:(0,l.jsx)(c.NumericInput,{style:{width:"100%"},value:u?null!=p?p:237.5:null!=m?m:200,min:he,onChange:e=>{((e,t)=>{const i=null!=e?e:he;g(t?"galleryItemHeight":"galleryItemWidth",i)})(e,u)}})})]})})};var Pe=A(33949),Be=A(778),Oe=A.n(Be),ze=A(1888);const Le=e=>{const{textStyle:t,onFontChange:i,onFontStyleChange:a}=e,{fontFamily:o,fontStyles:s,fontColor:n,fontSize:g}=t,I=(0,ze.getTheme2)(),d=r.hooks.useTranslation(O,c.defaultMessages),m="bold"===(null==s?void 0:s.weight),p="italic"===(null==s?void 0:s.style);let h,C;s.decoration?(h="underline"===s.decoration,C="line-through"===s.decoration):(h="underline"===s.underline,C="line-through"===s.strike);const A=`${g}px`;return(0,l.jsxs)(r.React.Fragment,{children:[(0,l.jsx)(Pe.FontFamily,{className:"w-100",font:o,onChange:e=>{null==i||i("fontFamily",e)}}),(0,l.jsxs)("div",{className:"d-flex justify-content-between mt-2",children:[(0,l.jsx)(L.FontStyle,{"aria-label":d("fontStyle"),style:{width:"45%"},onChange:(e,t)=>{let i,o="";"bold"===e&&(o="weight",i=t?"bold":"normal"),"italic"===e&&(o="style",i=t?"italic":"normal"),"underline"===e&&(o="underline",i=t?"underline":"none"),"strike"===e&&(o="strike",i=t?"line-through":"none"),null==a||a(o,i)},bold:m,italic:p,underline:h,strike:C}),(0,l.jsx)(pe.ThemeColorPicker,{icon:Oe(),type:"with-icon",title:d("fontColor"),"aria-label":d("fontColor"),style:{width:"11%"},specificTheme:I,value:n,onChange:e=>{null==i||i("fontColor",e)}}),(0,l.jsx)(L.InputUnit,{style:{width:"35%"},value:A,min:4,max:99,"aria-label":d("fontSize"),onChange:(e,t)=>{null!=e.distance&&(null==i||i("fontSize",e.distance.toString()))}})]})]})},We="jimu-widget-",Ze=A(36686),He=[{icon:"right",value:e.Horizon},{icon:"down",value:e.Vertical}],Ge={CUSTOM1:A(19794),CUSTOM2:A(95043)};let Ee;class Re extends r.React.PureComponent{static getFullConfig(o){return(0,r.Immutable)({templateType:a.Card,isTemplateConfirm:!1,style:(0,r.Immutable)({id:"default"}),isInitialed:!1,bookmarks:[],initBookmark:!1,runtimeAddAllow:!1,ignoreLayerVisibility:!1,autoPlayAllow:!1,autoInterval:3,autoLoopAllow:!0,direction:e.Horizon,pageStyle:t.Paging,space:10,scrollBarOpen:!0,navigatorOpen:!1,transition:r.TransitionType.None,transitionDirection:r.TransitionDirection.Horizontal,displayType:i.Selected,itemHeight:240,itemWidth:240,transitionInfo:{transition:{type:r.TransitionType.None,direction:r.TransitionDirection.Horizontal},effect:{type:r.AnimationType.None,option:{direction:r.AnimationDirection.Top,configType:r.AnimationEffectType.Default}},oneByOneEffect:null,previewId:null},cardBackground:"",displayName:!0,hideIcon:!1,cardItemHeight:157.5,keepAspectRatio:!1,itemSizeType:n.Custom,cardNameStyle:{fontFamily:c.FontFamilyValue.AVENIRNEXT,fontStyles:{style:"normal",weight:"normal",strike:"none",underline:"none"},fontColor:"var(--sys-color-surface-paper-text)",fontSize:"13"},slidesNameStyle:{fontFamily:c.FontFamilyValue.AVENIRNEXT,fontStyles:{style:"normal",weight:"bold",strike:"none",underline:"none"},fontColor:"var(--sys-color-surface-paper-text)",fontSize:"16"},slidesDescriptionStyle:{fontFamily:c.FontFamilyValue.AVENIRNEXT,fontStyles:{style:"normal",weight:"normal",strike:"none",underline:"none"},fontColor:"var(--sys-color-surface-paper-text)",fontSize:"13"}}).merge(o,{deep:!0})}constructor(s){super(s),this.markPopper=null,this.getIsScrollAndWidthOfTemplateCon=()=>{var e,t,i,a,o,s,n,l;const{enableA11yForWidgetSettings:r}=this.props,g=(null===(t=null===(e=this.templatesContainer)||void 0===e?void 0:e.current)||void 0===t?void 0:t.clientHeight)||0,I=(null===(a=null===(i=this.templatesContainer)||void 0===i?void 0:i.current)||void 0===a?void 0:a.clientWidth)||260,d=(null===(l=null===(n=null===(s=null===(o=this.templatesContainer)||void 0===o?void 0:o.current)||void 0===s?void 0:s.parentElement)||void 0===n?void 0:n.parentElement)||void 0===l?void 0:l.clientHeight)||0,c=(r?d-216:d)<g;this.setState({isTemplateContainScroll:c,templateConWidth:I})},this.onPropertyChange=(e,t)=>{const{savedConfig:i,config:a}=this.props;if(t===a[e])return;const o=i.set(e,t),s={id:this.props.id,config:o};this.props.onSettingChange(s)},this.onConfigChange=(e,t)=>{const{savedConfig:i}=this.props,a=i.setIn(e,t),o={id:this.props.id,config:a};this.props.onSettingChange(o)},this.onTemplateTypeChanged=(e,t=void 0)=>{var i;const{id:o}=this.props;let{appConfig:s}=this.props;const n=Object.keys(null===(i=s.widgets[o])||void 0===i?void 0:i.parent);if(t&&(s=t),e===a.Custom1||e===a.Custom2){const t=Ee[e];I.widgetService.updateWidgetByTemplate(s,t,o,t.widgetId,n,{}).then(t=>{this._onItemStyleChange(t,e)})}else this._onItemStyleChange(s,e)},this.handleFormChange=e=>{const t=e.currentTarget;if(!t)return;const i=t.dataset.field;let a;switch(t.type){case"checkbox":a=t.checked;break;case"select":default:a=t.value;break;case"range":a=parseFloat(t.value);break;case"number":const i="float"===t.dataset.numberType?parseFloat:parseInt,o=!!t.min&&i(t.min),s=!!t.max&&i(t.max);if(a=e.target.value,!a||""===a)return;a=i(e.target.value),o&&a<o&&(a=o),s&&a>s&&(a=s)}this.onPropertyChange(i,a)},this.handleCheckboxChange=e=>{const t=e.currentTarget;t&&this.onPropertyChange(t.dataset.field,t.checked)},this.handleAutoInterval=e=>{this.onPropertyChange("autoInterval",e)},this.onSwitchChanged=(e,t)=>{this.onPropertyChange(t,e)},this._onItemStyleChange=(e,t)=>{const{id:i,config:s,layoutInfo:n}=this.props,{tempLayoutType:l}=this.state,g=[a.Custom1,a.Custom2],d={CARD:{width:516,height:210},LIST:{width:300,height:360},SLIDE1:{width:320,height:380},SLIDE2:{width:320,height:380},SLIDE3:{width:320,height:380},GALLERY:{width:680,height:150},CUSTOM1:{width:320,height:380},CUSTOM2:{width:320,height:380}};let c=(0,r.Immutable)(Ze);const m=e.widgets[i];let p,h=e;if(g.includes(t)){const t=(0,r.getAppStore)().getState().appStateInBuilder;let a=e.widgets[i].layouts[o.Default][t.browserSizeMode||e.mainSizeMode];p=s.bookmarks.map(e=>{const{newLayoutId:t,eachAppConfig:o}=this.duplicateLayoutsEach(a,i,`Bookmark-${e.id}`,`Bookmark-${e.id}-label`,l,h);return h=o,a=t,e=e.set("layoutName",`Bookmark-${e.id}`).set("layoutId",t)})}g.includes(s.templateType)&&!g.includes(t)&&(p=e.widgets[i].config.bookmarks),c=c.set("templateType",t).set("bookmarks",p||s.bookmarks).set("isTemplateConfirm",!1).set("runtimeAddAllow",s.runtimeAddAllow).set("displayFromWeb",s.displayFromWeb).set("ignoreLayerVisibility",s.ignoreLayerVisibility).set("displayName",s.displayName),c=c.set("isInitialed",!0);const C=(0,I.getAppConfigAction)(h);this.getLayoutType()===r.LayoutType.FixedLayout&&C.editLayoutItemSize(n,d[t].width,d[t].height),s.bookmarks.length>0&&C.removeLayoutFromWidget(i,"DEFAULT"),C.editWidgetProperty(m.id,"config",c).exec()},this.getLayoutType=()=>{var e,t;const{layoutInfo:i,appConfig:a}=this.props,o=null==i?void 0:i.layoutId;return null===(t=null===(e=null==a?void 0:a.layouts)||void 0===e?void 0:e[o])||void 0===t?void 0:t.type},this.duplicateLayoutsEach=(e,t,i,a,o,s)=>{let{appConfig:n}=this.props;s&&(n=s);const l=(0,I.getAppConfigAction)(n),d=l.duplicateLayout(e,!0);return l.editLayoutProperty(d.id,"parent",{type:r.LayoutParentType.Widget,id:t}).editLayoutProperty(d.id,"label",a).editWidgetProperty(t,`layouts.${i}.${g.utils.getCurrentSizeMode()}`,d.id),{newLayoutId:d.id,eachAppConfig:l.appConfig}},this.formatMessage=(e,t)=>{const i=Object.assign({},O,c.defaultMessages,r.defaultMessages,g.defaultMessages);return this.props.intl.formatMessage({id:e,defaultMessage:i[e]},t)},this.handleTemplateTypeImageClick=e=>{const t=e.currentTarget.dataset.value,{id:i,config:o,savedConfig:s,appConfig:n}=this.props,l=[a.Custom1,a.Custom2];if(o.templateType!==t)if(l.includes(o.templateType)){let e=n;const a=o.bookmarks.map(t=>{const{layoutName:a}=t,o=(0,I.getAppConfigAction)(e).removeLayoutFromWidget(i,a);return e=o.appConfig,t.set("layoutId","").set("layoutName","")}),l=s.set("bookmarks",a).set("templateType",t),r=(0,I.getAppConfigAction)(e);r.removeLayoutFromWidget(i,"DEFAULT"),r.editWidgetProperty(i,"config",l).exec(),this.onTemplateTypeChanged(t,r.appConfig)}else this.onTemplateTypeChanged(t)},this.handleTemplateConfirmClick=()=>{this.onPropertyChange("isTemplateConfirm",!0),this.setState({expandedId:0}),setTimeout(()=>{(0,r.focusElementInKeyboardMode)(this.resetButtonRef.current)},50)},this.handleResetTemplateClick=()=>{const{config:e}=this.props;e.templateType===a.Custom1||e.templateType===a.Custom2?this.setState({changeCustomConfirmOpen:!0}):this.onPropertyChange("isTemplateConfirm",!1),this.updateNextButtonPosition()},this.handleChangeOk=()=>{this.onPropertyChange("isTemplateConfirm",!1),this.updateNextButtonPosition(),this.setState({changeCustomConfirmOpen:!1})},this.handleChangeClose=()=>{this.setState({changeCustomConfirmOpen:!1})},this.onMapWidgetSelected=e=>{var t;this.onPropertyChange("bookmarks",[]),this.props.onSettingChange({id:this.props.id,useMapWidgetIds:e}),null===(t=this.markPopper)||void 0===t||t.handleCloseOk()},this.showBookmarkConfig=e=>{this.markPopper=e},this.onBookmarkUpdated=e=>{const{config:t}=this.props,i=t.bookmarks,a=i.findIndex(t=>t.id===e.id),o=i.map((t,i)=>a===i?e:t);this.onPropertyChange("bookmarks",o)},this.addNewBookmark=e=>{const{config:t}=this.props;[a.List,a.Custom1,a.Custom2].includes(t.templateType)||this.setState({expandedId:e.id}),this.onPropertyChange("bookmarks",t.bookmarks.concat(e)),setTimeout(()=>{this.setState({activeId:e.id})},100)},this.handleClosePopper=e=>{const{activeId:t,expandedId:i}=this.state;t!==i&&this.setState({activeId:0}),e&&this.setState({activeId:0})},this.handleSort=(e,t)=>{var i,a,o;const s=(null===(a=null===(i=this.props.config)||void 0===i?void 0:i.bookmarks)||void 0===a?void 0:a.asMutable())||[],n=null===(o=s.splice(e,1))||void 0===o?void 0:o[0];n&&s.splice(t,0,n),this.onPropertyChange("bookmarks",(0,r.Immutable)(s))},this.handleSelect=e=>{this.setState({activeId:e.id}),this.markPopper.handleEditWhenOpen(e),I.builderAppSync.publishChangeWidgetStatePropToApp({widgetId:this.props.id,propKey:"activeBookmarkId",value:e.id}),I.builderAppSync.publishChangeWidgetStatePropToApp({widgetId:this.props.id,propKey:"settingChangeBookmark",value:!0})},this.handleExpandBookmark=e=>{const{expandedId:t}=this.state;t!==e.id?this.setState({expandedId:e.id}):this.setState({expandedId:0})},this.handleEditBookmark=e=>{this.setState({activeId:e.id}),this.markPopper.handleNewOrEdit(e)},this.handleDelete=e=>{const{id:t}=e,i=[a.Custom1,a.Custom2],{activeId:o}=this.state,{id:s,appConfig:n,browserSizeMode:l}=this.props;let{savedConfig:g,config:d}=this.props;const c=d.bookmarks,m=c.findIndex(e=>e.id===t);if(-1===m)return;const p=c.asMutable({deep:!0}),h=this.markPopper.getDialogStatus();let C;if(o===p[m].id&&(0!==m?C=p[m-1]:p.length>1?C=p[m+1]:(this.markPopper.handleClickClose(null,!0),C=void 0,I.builderAppSync.publishChangeWidgetStatePropToApp({widgetId:this.props.id,propKey:"lastFlag",value:!0})),C&&h&&this.handleEditBookmark((0,r.Immutable)(C))),i.includes(d.templateType)){const{layoutName:e}=p[m],t=(0,I.getAppConfigAction)(n);t.removeLayoutFromWidget(s,e),p.splice(m,1),0===o&&p.length>=1&&(C=p[0]);const i=(0,r.Immutable)(p);if(g=g.set("bookmarks",i),t.editWidgetProperty(s,"config",g).exec(),1===c.length){const e=Ee[d.templateType];I.widgetService.updateWidgetByTemplate(n,e,s,e.widgetId,[l],{}).then(e=>{(0,I.getAppConfigAction)(e).editWidgetProperty(s,"config",g).exec()})}}else{p.splice(m,1),0===o&&p.length>=1&&(C=p[0]);const e=(0,r.Immutable)(p);this.onPropertyChange("bookmarks",e)}const A=C&&C.id||o;this.setState({activeId:A}),I.builderAppSync.publishChangeWidgetStatePropToApp({widgetId:this.props.id,propKey:"activeBookmarkId",value:A}),I.builderAppSync.publishChangeWidgetStatePropToApp({widgetId:this.props.id,propKey:"settingChangeBookmark",value:!0})},this.handleShowSimpleClick=()=>{const{showSimple:e}=this.state;this.setState({showSimple:!e})},this.handleShowAdvanceClick=()=>{const{showAdvance:e}=this.state;this.setState({showAdvance:!e})},this.handleShowArrangementClick=()=>{const{showArrangement:e}=this.state;this.setState({showArrangement:!e})},this.handlePageStyleChange=e=>{var t;const i=null===(t=null==e?void 0:e.target)||void 0===t?void 0:t.value;this.onPropertyChange("pageStyle",i)},this.handleDisplayTypeChange=e=>{var t;const i=null===(t=null==e?void 0:e.target)||void 0===t?void 0:t.value;this.onPropertyChange("displayType",i)},this.onTransitionTypeChange=e=>{this.onPropertyChange("transition",e)},this.onTransitionDirectionChange=e=>{this.onPropertyChange("transitionDirection",e)},this.getPageStyleOptions=()=>[(0,l.jsx)("option",{value:t.Scroll,children:this.formatMessage("scroll")},t.Scroll),(0,l.jsx)("option",{value:t.Paging,children:this.formatMessage("paging")},t.Paging)],this.handleDirectionClick=e=>{const t=e.currentTarget.dataset.value;this.onPropertyChange("direction",t)},this.handleSpaceChange=e=>{this.onPropertyChange("space",e)},this.handleItemSizeChange=(e,t)=>{const i=null!=e?e:he;t?this.onPropertyChange("itemHeight",i):this.onPropertyChange("itemWidth",i)},this.duplicateNewLayouts=(e,t,i,a,o,s)=>{let{appConfig:n}=this.props;s&&(n=s);const l=(0,I.getAppConfigAction)(n),d=l.duplicateLayout(e,!0);return l.editLayoutProperty(d.id,"parent",{type:r.LayoutParentType.Widget,id:t}).editLayoutProperty(d.id,"label",a).editWidgetProperty(t,`layouts.${i}.${g.utils.getCurrentSizeMode()}`,d.id),l.exec(),d.id},this.updateNextButtonPosition=()=>{clearTimeout(this.updatePositionTimeout),this.updatePositionTimeout=setTimeout(()=>{this.getIsScrollAndWidthOfTemplateCon()},500)},this.handleChangeCardBackground=e=>{this.onPropertyChange("cardBackground",e)},this.handleCardFontChange=(e,t)=>{this.onConfigChange(["cardNameStyle",e],t)},this.handleCardNameFontStyleChange=(e,t)=>{this.onConfigChange(["cardNameStyle","fontStyles",e],t)},this.handleSlidesFontChange=(e,t)=>{this.onConfigChange(["slidesNameStyle",e],t)},this.handleSlidesNameFontStyleChange=(e,t)=>{this.onConfigChange(["slidesNameStyle","fontStyles",e],t)},this.handleDescriptionFontChange=(e,t)=>{this.onConfigChange(["slidesDescriptionStyle",e],t)},this.handleDescriptionNameFontStyleChange=(e,t)=>{this.onConfigChange(["slidesDescriptionStyle","fontStyles",e],t)},this.renderTemplate=()=>{const{config:e,theme:t}=this.props,{showSimple:i,showAdvance:o,isTemplateContainScroll:s,templateConWidth:n}=this.state,r=window.isExpressBuilder,g=s?"position-absolute position-absolute-con":"position-relative-con",I=(0,l.jsxs)("div",{className:"w-100 d-flex",children:[(0,l.jsx)("div",{className:"text-truncate p-1",children:this.formatMessage("simple")}),(0,l.jsx)(c.Tooltip,{title:this.formatMessage("simpleTemplateTip"),showArrow:!0,placement:"left",describeChild:!0,children:(0,l.jsx)(c.Button,{icon:!0,type:"tertiary",size:"sm",className:"ml-1","aria-label":this.formatMessage("simple")+": "+this.formatMessage("simpleTemplateTip"),children:(0,l.jsx)(R,{})})})]}),m=(0,l.jsxs)("div",{className:"w-100 d-flex",children:[(0,l.jsx)("div",{className:"text-truncate p-1",children:this.formatMessage("advance")}),(0,l.jsx)(c.Tooltip,{title:this.formatMessage("advancedTemplateTip"),showArrow:!0,placement:"left",describeChild:!0,children:(0,l.jsx)(c.Button,{icon:!0,type:"tertiary",size:"sm",className:"ml-1","aria-label":this.formatMessage("advance")+": "+this.formatMessage("advancedTemplateTip"),children:(0,l.jsx)(R,{})})})]}),p=(0,l.jsxs)("div",{className:"template-group w-100 mt-1",children:[(0,l.jsxs)("div",{className:"d-flex justify-content-between w-100",children:[(0,l.jsx)(c.Button,{"data-value":a.Card,onClick:this.handleTemplateTypeImageClick,type:"tertiary",role:"radio","aria-checked":e.templateType===a.Card,title:this.formatMessage("typeCard"),children:(0,l.jsx)(c.Icon,{autoFlip:!0,className:`template-img template-img-h ${e.templateType===a.Card&&"active"}`,icon:A(62402)})}),(0,l.jsx)(c.Button,{"data-value":a.List,onClick:this.handleTemplateTypeImageClick,type:"tertiary",role:"radio","aria-checked":e.templateType===a.List,title:this.formatMessage("typeList"),children:(0,l.jsx)(c.Icon,{autoFlip:!0,className:`template-img template-img-h ${e.templateType===a.List&&"active"}`,icon:A(63216)})})]}),(0,l.jsx)("div",{className:"vertical-space"}),(0,l.jsx)("div",{className:"d-flex justify-content-between w-100",children:(0,l.jsx)(c.Button,{"data-value":a.Gallery,onClick:this.handleTemplateTypeImageClick,type:"tertiary",role:"radio","aria-checked":e.templateType===a.Gallery,title:this.formatMessage("typeGallery"),children:(0,l.jsx)(c.Icon,{autoFlip:!0,className:`template-img template-img-gallery ${e.templateType===a.Gallery&&"active"}`,icon:A(75769)})})}),(0,l.jsx)("div",{className:"vertical-space"}),(0,l.jsxs)("div",{className:"d-flex justify-content-between w-100",children:[(0,l.jsx)(c.Button,{"data-value":a.Slide1,onClick:this.handleTemplateTypeImageClick,type:"tertiary",role:"radio","aria-checked":e.templateType===a.Slide1,title:this.formatMessage("slideOne"),children:(0,l.jsx)(c.Icon,{autoFlip:!0,className:`template-img template-img-h ${e.templateType===a.Slide1&&"active"}`,icon:A(61142)})}),(0,l.jsx)(c.Button,{"data-value":a.Slide2,onClick:this.handleTemplateTypeImageClick,type:"tertiary",role:"radio","aria-checked":e.templateType===a.Slide2,title:this.formatMessage("slideTwo"),children:(0,l.jsx)(c.Icon,{autoFlip:!0,className:`template-img template-img-h ${e.templateType===a.Slide2&&"active"}`,icon:A(49365)})})]}),(0,l.jsx)("div",{className:"vertical-space"}),(0,l.jsx)("div",{className:"d-flex justify-content-between w-100",children:(0,l.jsx)(c.Button,{"data-value":a.Slide3,onClick:this.handleTemplateTypeImageClick,type:"tertiary",role:"radio","aria-checked":e.templateType===a.Slide3,title:this.formatMessage("slideThree"),children:(0,l.jsx)(c.Icon,{autoFlip:!0,className:`template-img template-img-h ${e.templateType===a.Slide3&&"active"}`,icon:A(76756)})})})]});return(0,l.jsx)("div",{ref:this.templatesContainer,children:(0,l.jsxs)(d.SettingSection,{role:"group","aria-label":this.formatMessage("chooseTemplateTip"),title:this.formatMessage("chooseTemplateTip"),children:[r?(0,l.jsx)("div",{className:"mt-4 mb-2",children:p}):(0,l.jsx)(c.CollapsablePanel,{label:I,isOpen:i,onRequestOpen:this.handleShowSimpleClick,onRequestClose:this.handleShowSimpleClick,role:"radiogroup","aria-label":this.formatMessage("simple"),children:p}),!r&&(0,l.jsx)(c.CollapsablePanel,{label:m,isOpen:o,onRequestOpen:this.handleShowAdvanceClick,onRequestClose:this.handleShowAdvanceClick,role:"radiogroup","aria-label":this.formatMessage("advance"),className:"mt-2 mb-2",children:(0,l.jsxs)("div",{className:"template-group w-100 mt-1",children:[(0,l.jsxs)("div",{className:"d-flex justify-content-between w-100",children:[(0,l.jsx)(c.Button,{"data-value":a.Custom1,onClick:this.handleTemplateTypeImageClick,type:"tertiary",role:"radio","aria-checked":e.templateType===a.Custom1,title:this.formatMessage("customOne"),children:(0,l.jsx)(c.Icon,{autoFlip:!0,className:`template-img template-img-h ${e.templateType===a.Custom1&&"active"}`,icon:A(39272)})}),(0,l.jsx)(c.Button,{"data-value":a.Custom2,onClick:this.handleTemplateTypeImageClick,type:"tertiary",role:"radio","aria-checked":e.templateType===a.Custom2,title:this.formatMessage("customTwo"),children:(0,l.jsx)(c.Icon,{autoFlip:!0,className:`template-img template-img-h ${e.templateType===a.Custom2&&"active"}`,icon:A(20635)})})]}),(0,l.jsx)("div",{className:"vertical-space"})]})}),(0,l.jsx)(d.SettingRow,{children:(0,l.jsx)("div",{className:"next-con w-100",css:Z(t,n),children:(0,l.jsx)("div",{className:g,children:(0,l.jsx)(c.Button,{type:"primary",className:"w-100",onClick:this.handleTemplateConfirmClick,children:this.formatMessage("start")})})})})]})})},this.onTransitionSettingChange=e=>{const t=this.props.config.transitionInfo.asMutable({deep:!0});t.transition=e,t.previewId=(0,r.getNextAnimationId)(),this.onConfigChange(["transitionInfo"],(0,r.Immutable)(t))},this.previewTransitionAndOneByOne=()=>{this.onConfigChange(["transitionInfo","previewId"],(0,r.getNextAnimationId)())},this.renderSlideOrCustomArrangementSetting=()=>{const{config:i}=this.props,{transitionInfo:a}=i,{showArrangement:o}=this.state,s=i.direction===e.Vertical;return(0,l.jsx)(d.SettingSection,{children:(0,l.jsxs)(c.CollapsablePanel,{label:this.formatMessage("arrangement"),isOpen:o,onRequestOpen:this.handleShowArrangementClick,onRequestClose:this.handleShowArrangementClick,role:"group","aria-label":this.formatMessage("arrangement"),children:[(0,l.jsx)(d.SettingRow,{className:"mt-2",label:this.formatMessage("pagingStyle"),flow:"wrap",children:(0,l.jsx)(c.Select,{value:i.pageStyle,onChange:this.handlePageStyleChange,size:"sm","aria-label":this.formatMessage("pagingStyle"),children:this.getPageStyleOptions()})}),i.pageStyle!==t.Scroll&&(0,l.jsxs)(z.Fragment,{children:[(0,l.jsxs)(d.SettingRow,{children:[(0,l.jsxs)(c.Label,{children:[(0,l.jsx)(c.Checkbox,{"data-field":"initBookmark",onClick:this.handleCheckboxChange,checked:i.initBookmark,"aria-label":this.formatMessage("initBookmark")}),(0,l.jsx)("span",{className:"text-wrap ml-2",title:this.formatMessage("initBookmark"),children:this.formatMessage("initBookmark")})]}),(0,l.jsx)(c.Tooltip,{title:this.formatMessage("initBookmarkTips"),showArrow:!0,placement:"left",children:(0,l.jsx)("span",{className:"inline-block ml-2 tips-pos",children:(0,l.jsx)(R,{})})})]}),(0,l.jsx)(d.SettingRow,{tag:"label",label:this.formatMessage("playEnable"),children:(0,l.jsx)(c.Switch,{className:"can-x-switch",checked:i&&i.autoPlayAllow||!1,"data-key":"autoRefresh",onChange:e=>{this.onSwitchChanged(e.target.checked,"autoPlayAllow")},"aria-label":this.formatMessage("playEnable")})}),i.autoPlayAllow&&(0,l.jsxs)(z.Fragment,{children:[(0,l.jsx)(d.SettingRow,{flow:"wrap",label:`${this.formatMessage("autoInterval")} (${this.formatMessage("second")})`,role:"group","aria-label":`${this.formatMessage("autoInterval")} (${this.formatMessage("second")})`,children:(0,l.jsx)(c.NumericInput,{style:{width:"100%"},value:i.autoInterval||3,min:2,max:60,onChange:this.handleAutoInterval})}),(0,l.jsx)(d.SettingRow,{children:(0,l.jsxs)(c.Label,{children:[(0,l.jsx)(c.Checkbox,{"data-field":"autoLoopAllow",onClick:this.handleCheckboxChange,checked:i.autoLoopAllow,"aria-label":this.formatMessage("autoLoopAllow")}),(0,l.jsx)("span",{className:"text-wrap ml-2",children:this.formatMessage("autoLoopAllow")})]})})]})]}),i.pageStyle!==t.Paging&&(0,l.jsx)(d.SettingRow,{label:this.formatMessage("direction"),role:"group","aria-label":this.formatMessage("direction"),children:(0,l.jsx)(c.AdvancedButtonGroup,{size:"sm",children:He.map((e,t)=>(0,l.jsx)(c.Button,{icon:!0,active:i.direction===e.value,"data-value":e.value,onClick:this.handleDirectionClick,"aria-label":"right"===e.icon?this.formatMessage("horizontal"):this.formatMessage("vertical"),children:"right"===e.icon?(0,l.jsx)(J,{size:"s"}):(0,l.jsx)($,{size:"s"})},t))})}),i.pageStyle===t.Paging&&(0,l.jsx)(d.SettingRow,{label:this.formatMessage("transition"),flow:"wrap",role:"group","aria-label":this.formatMessage("transition"),children:(0,l.jsx)(L.TransitionSetting,{transition:null==a?void 0:a.transition,onTransitionChange:this.onTransitionSettingChange,onPreviewTransitionClicked:this.previewTransitionAndOneByOne,onPreviewAsAWhoneClicked:this.previewTransitionAndOneByOne,formatMessage:this.formatMessage,showOneByOne:!1})}),i.pageStyle===t.Scroll&&(0,l.jsxs)(z.Fragment,{children:[(0,l.jsx)(d.SettingRow,{flow:"wrap",role:"group",label:`${s?this.formatMessage("itemHeight"):this.formatMessage("itemWidth")}(px)`,"aria-label":`${s?this.formatMessage("itemHeight"):this.formatMessage("itemWidth")}(px)`,children:(0,l.jsx)(c.NumericInput,{style:{width:"100%"},value:(s?i.itemHeight:i.itemWidth)||240,min:he,onChange:e=>{this.handleItemSizeChange(e,s)}})}),(0,l.jsx)(d.SettingRow,{flow:"wrap",role:"group",label:(s?this.formatMessage("verticalSpacing"):this.formatMessage("horizontalSpacing"))+" (px)","aria-label":(s?this.formatMessage("verticalSpacing"):this.formatMessage("horizontalSpacing"))+" (px)",children:(0,l.jsxs)("div",{className:"d-flex justify-content-between w-100 align-items-center",children:[(0,l.jsx)(c.Slider,{style:{width:"60%"},"data-field":"space",onChange:this.handleFormChange,value:i.space,title:"0-50",min:0,max:50}),(0,l.jsx)(c.NumericInput,{style:{width:"25%"},value:i.space,min:0,max:50,title:"0-50",onChange:this.handleSpaceChange})]})})]})]})})},this.renderDataSetting=()=>{const{id:e,theme:t,useDataSources:o,useMapWidgetIds:s,config:n}=this.props,{cardItemWidth:r,cardItemHeight:g,keepAspectRatio:I,cardItemSizeRatio:m,itemSizeType:p,direction:h,galleryItemSpace:C,galleryItemWidth:A,galleryItemHeight:u,cardNameStyle:y,slidesNameStyle:w,slidesDescriptionStyle:j}=n,{activeId:S,expandedId:b,tempLayoutType:M}=this.state,v=n.bookmarks.find(e=>e.id===S),x=v&&v.name?v.name:"---",D=[a.Card,a.List,a.Gallery],f=[a.Slide1,a.Slide2,a.Slide3,a.Custom1,a.Custom2],k=[a.Custom1,a.Custom2],N=[a.Card,a.Gallery,a.Slide1,a.Slide2,a.Slide3],T=[a.Slide1,a.Slide2,a.Slide3],P=this.formatMessage("displayAll"),O=this.formatMessage("displaySelected"),L=n.displayType===i.All?P:O;return(0,l.jsxs)("div",{className:"bookmark-setting",children:[(0,l.jsxs)(d.SettingSection,{children:[(0,l.jsx)(d.SettingRow,{flow:"wrap",children:(0,l.jsxs)("div",{className:"w-100 overflow-hidden",children:[(0,l.jsx)(c.Button,{type:"tertiary",className:"resetting-template jimu-outline-inside",disableHoverEffect:!0,disableRipple:!0,onClick:this.handleResetTemplateClick,title:this.formatMessage("resettingTheTemplate"),ref:this.resetButtonRef,children:this.formatMessage("resettingTheTemplate")}),k.includes(n.templateType)&&(0,l.jsxs)(z.Fragment,{children:[this.formatMessage("customBookmarkDesign"),(0,l.jsx)(c.Tooltip,{title:this.formatMessage("customTips"),showArrow:!0,placement:"left",children:(0,l.jsx)("span",{className:"inline-block ml-2",children:(0,l.jsx)(R,{})})})]})]})}),(0,l.jsx)(d.SettingRow,{flow:"wrap",label:this.formatMessage("selectMapWidget"),children:(0,l.jsx)(d.MapWidgetSelector,{onSelect:this.onMapWidgetSelected,useMapWidgetIds:s,isNeedConfirmBeforeChange:!0,confirmMessage:this.formatMessage("switchRemind")})}),this.props.useMapWidgetIds&&1===this.props.useMapWidgetIds.length&&(0,l.jsx)(d.SettingRow,{children:(0,l.jsx)(B,{id:e,theme:t,title:`${this.formatMessage("setBookmarkView")}: ${x}`,buttonLabel:this.formatMessage("addBookmark"),useDataSources:o,useMapWidgetIds:s,jimuMapConfig:n,onBookmarkUpdated:this.onBookmarkUpdated,onShowBookmarkConfig:e=>{this.showBookmarkConfig(e)},maxBookmarkId:this.getArrayMaxId(n.bookmarks),activeBookmarkId:S,onAddNewBookmark:this.addNewBookmark,onClose:this.handleClosePopper,formatMessage:this.formatMessage,duplicateNewLayouts:this.duplicateNewLayouts,tempLayoutType:M,isUseWidgetSize:!0})}),this.props.useMapWidgetIds&&1===this.props.useMapWidgetIds.length&&n.bookmarks&&0!==n.bookmarks.length&&(0,l.jsx)(d.SettingRow,{children:(0,l.jsx)(me,{theme:t,bookmarks:n.bookmarks,templateType:n.templateType,activeId:S,expandedId:b,widgetId:this.props.id,onSelect:this.handleSelect,onEdit:this.handleEditBookmark,onExpand:this.handleExpandBookmark,onDelete:this.handleDelete,onSort:this.handleSort,onPropertyChange:this.onPropertyChange,formatMessage:this.formatMessage})})]}),(0,l.jsxs)(d.SettingSection,{title:this.formatMessage("general"),"aria-label":this.formatMessage("general"),role:"group",children:[(0,l.jsx)(d.SettingRow,{flow:"wrap",label:this.formatMessage("drawingDisplay"),children:(0,l.jsxs)(c.Select,{value:n.displayType,title:L,"aria-label":this.formatMessage("drawingDisplay"),onChange:this.handleDisplayTypeChange,size:"sm",children:[(0,l.jsx)("option",{value:i.All,title:P,children:(0,l.jsx)("div",{className:"text-truncate",children:P})},"all"),(0,l.jsx)("option",{value:i.Selected,title:O,children:(0,l.jsx)("div",{className:"text-truncate",children:O})},"selected")]})}),D.includes(n.templateType)&&(0,l.jsx)(d.SettingRow,{children:(0,l.jsxs)(c.Label,{children:[(0,l.jsx)(c.Checkbox,{"data-field":"runtimeAddAllow",onClick:this.handleCheckboxChange,checked:n.runtimeAddAllow,"aria-label":this.formatMessage("runtimeAddAllow")}),(0,l.jsx)("span",{className:"text-wrap ml-2",title:this.formatMessage("runtimeAddAllow"),children:this.formatMessage("runtimeAddAllow")})]})}),!k.includes(n.templateType)&&(0,l.jsx)(d.SettingRow,{children:(0,l.jsxs)(c.Label,{children:[(0,l.jsx)(c.Checkbox,{"data-field":"displayFromWeb",onClick:this.handleCheckboxChange,checked:n.displayFromWeb,"aria-label":this.formatMessage("displayFromWeb")}),(0,l.jsx)("span",{className:"text-wrap ml-2",title:this.formatMessage("displayFromWeb"),children:this.formatMessage("displayFromWeb")})]})}),(0,l.jsx)(d.SettingRow,{children:(0,l.jsxs)(c.Label,{children:[(0,l.jsx)(c.Checkbox,{"data-field":"ignoreLayerVisibility",onClick:this.handleCheckboxChange,checked:n.ignoreLayerVisibility,"aria-label":this.formatMessage("ignoreLayerVisibility")}),(0,l.jsx)("span",{className:"text-wrap ml-2",title:this.formatMessage("ignoreLayerVisibility"),children:this.formatMessage("ignoreLayerVisibility")})]})}),N.includes(n.templateType)&&(0,l.jsx)(d.SettingRow,{children:(0,l.jsxs)(c.Label,{children:[(0,l.jsx)(c.Checkbox,{"data-field":"displayName",onClick:this.handleCheckboxChange,checked:n.displayName,"aria-label":this.formatMessage("displayName")}),(0,l.jsx)("span",{className:"text-wrap ml-2",title:this.formatMessage("displayName"),children:this.formatMessage("displayName")})]})}),n.templateType===a.List&&(0,l.jsx)(d.SettingRow,{children:(0,l.jsxs)(c.Label,{children:[(0,l.jsx)(c.Checkbox,{"data-field":"hideIcon",onClick:this.handleCheckboxChange,checked:n.hideIcon,"aria-label":this.formatMessage("hideIcon")}),(0,l.jsx)("span",{className:"text-wrap ml-2",title:this.formatMessage("hideIcon"),children:this.formatMessage("hideIcon")})]})})]}),f.includes(n.templateType)&&this.renderSlideOrCustomArrangementSetting(),n.templateType===a.Card&&(0,l.jsx)(fe,{widgetId:this.props.id,savedConfig:this.props.savedConfig,cardItemWidth:r,cardItemHeight:g,widgetRect:this.props.widgetRect,onPropertyChange:this.onPropertyChange,onSettingChange:this.props.onSettingChange,keepAspectRatio:I,cardItemSizeRatio:m,itemSizeType:p}),n.templateType===a.Gallery&&(0,l.jsx)(Te,{direction:h,handleDirectionClick:this.handleDirectionClick,handleFormChange:this.handleFormChange,galleryItemSpace:C,onPropertyChange:this.onPropertyChange,itemSizeType:p,galleryItemWidth:A,galleryItemHeight:u}),(0,l.jsxs)(d.SettingSection,{title:this.formatMessage("appearance"),children:[(0,l.jsx)(d.SettingRow,{label:this.formatMessage("cardBackground"),children:(0,l.jsx)(pe.ThemeColorPicker,{specificTheme:this.props.theme2,value:n.cardBackground,onChange:this.handleChangeCardBackground})}),D.includes(n.templateType)&&(0,l.jsx)(d.SettingRow,{label:this.formatMessage("bookmarkTitleName"),"aria-label":this.formatMessage("bookmarkTitleName"),flow:"wrap",children:(0,l.jsx)(Le,{textStyle:y,onFontChange:this.handleCardFontChange,onFontStyleChange:this.handleCardNameFontStyleChange})}),T.includes(n.templateType)&&(0,l.jsxs)(z.Fragment,{children:[(0,l.jsx)(d.SettingRow,{label:this.formatMessage("bookmarkTitleName"),"aria-label":this.formatMessage("bookmarkTitleName"),flow:"wrap",children:(0,l.jsx)(Le,{textStyle:w,onFontChange:this.handleSlidesFontChange,onFontStyleChange:this.handleSlidesNameFontStyleChange})}),(0,l.jsx)(d.SettingRow,{label:this.formatMessage("description"),"aria-label":this.formatMessage("description"),flow:"wrap",children:(0,l.jsx)(Le,{textStyle:j,onFontChange:this.handleDescriptionFontChange,onFontStyleChange:this.handleDescriptionNameFontStyleChange})})]})]})]})},function(e){if(Ee)return Ee;const t=Object.assign({},O,c.defaultMessages);Ee={},Object.keys(Ge).forEach(i=>{Ee[i]=I.templateUtils.processForTemplate(Ge[i],e,t)})}(s.id),this.state={activeId:0,expandedId:0,showSimple:!0,showAdvance:!0,showArrangement:!0,tempLayoutType:r.LayoutType.FixedLayout,changeCustomConfirmOpen:!1,isTemplateContainScroll:!1,templateConWidth:260,aspectRatio:null},this.templatesContainer=r.React.createRef(),this.resetButtonRef=r.React.createRef()}componentDidMount(){this.getIsScrollAndWidthOfTemplateCon(),window.addEventListener("resize",this.updateNextButtonPosition);const{config:e}=this.props;e.templateType===a.Gallery&&void 0===e.galleryItemWidth&&this.onPropertyChange("galleryItemWidth",200),e.templateType===a.Card&&void 0===e.cardItemWidth&&this.onPropertyChange("cardItemWidth",Ce)}componentDidUpdate(e){var t;const{activeId:i}=this.state,{settingPanelChange:a,activeBookmarkId:o=0}=this.props;this.props.activeBookmarkId!==e.activeBookmarkId&&o!==i&&this.setState({activeId:o}),a!==e.settingPanelChange&&(null===(t=this.markPopper)||void 0===t||t.handleCloseOk()),"content"===a&&"content"!==e.settingPanelChange&&this.updateNextButtonPosition()}componentWillUnmount(){clearTimeout(this.updatePositionTimeout)}getArrayMaxId(e){const t=e.map(e=>e.id);return t.length>0?Math.max.apply(null,t):0}render(){const{config:e,theme:t,enableA11yForWidgetSettings:i}=this.props,{changeCustomConfirmOpen:a}=this.state;return(0,l.jsxs)(z.Fragment,{children:[(0,l.jsx)("div",{className:(0,r.classNames)(`${We}bookmark-setting`,`${We}setting`,{"bookmark-setting-con-with-template-scroll":i&&!e.isTemplateConfirm}),css:W(t),children:e.isTemplateConfirm?this.renderDataSetting():this.renderTemplate()}),a&&(0,l.jsx)(c.ConfirmDialog,{level:"warning",title:this.formatMessage("changeConfirmTitle"),hasNotShowAgainOption:!1,content:this.formatMessage("changeRemind"),onConfirm:this.handleChangeOk,onClose:this.handleChangeClose})]})}}Re.mapExtraStateProps=(e,t)=>{var i,a,o,s,n,l,r,g,I,d,c;return{appConfig:e&&e.appStateInBuilder&&e.appStateInBuilder.appConfig,browserSizeMode:e&&e.appStateInBuilder&&e.appStateInBuilder.browserSizeMode,activeBookmarkId:e&&(null===(a=null===(i=e.appStateInBuilder)||void 0===i?void 0:i.widgetsState[t.id])||void 0===a?void 0:a.activeBookmarkId),widgetRect:null===(s=null===(o=null==e?void 0:e.appStateInBuilder)||void 0===o?void 0:o.widgetsState[t.id])||void 0===s?void 0:s.widgetRect,layoutInfo:e&&(null===(l=null===(n=e.appStateInBuilder)||void 0===n?void 0:n.widgetsState[t.id])||void 0===l?void 0:l.layoutInfo),settingPanelChange:null===(g=null===(r=null==e?void 0:e.widgetsState)||void 0===r?void 0:r[t.id])||void 0===g?void 0:g.settingPanelChange,enableA11yForWidgetSettings:null===(c=null===(d=null===(I=null==e?void 0:e.appStateInBuilder)||void 0===I?void 0:I.appConfig)||void 0===d?void 0:d.attributes)||void 0===c?void 0:c.enableA11yForWidgetSettings}};const Ve=Re;function Qe(e){A.p=e}})(),u})())}}});